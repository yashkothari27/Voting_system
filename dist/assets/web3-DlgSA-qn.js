import{g as Hc,c as Xn}from"./vendor-B4YgLCem.js";var he;(function(t){t.NUMBER="NUMBER_NUMBER",t.HEX="NUMBER_HEX",t.STR="NUMBER_STR",t.BIGINT="NUMBER_BIGINT"})(he||(he={}));var Me;(function(t){t.HEX="BYTES_HEX",t.UINT8ARRAY="BYTES_UINT8ARRAY"})(Me||(Me={}));const Te={number:he.BIGINT,bytes:Me.HEX},W={number:he.HEX,bytes:Me.HEX};var Lt;(function(t){t.EARLIEST="earliest",t.LATEST="latest",t.PENDING="pending",t.SAFE="safe",t.FINALIZED="finalized",t.COMMITTED="committed"})(Lt||(Lt={}));var Xr;(function(t){t.chainstart="chainstart",t.frontier="frontier",t.homestead="homestead",t.dao="dao",t.tangerineWhistle="tangerineWhistle",t.spuriousDragon="spuriousDragon",t.byzantium="byzantium",t.constantinople="constantinople",t.petersburg="petersburg",t.istanbul="istanbul",t.muirGlacier="muirGlacier",t.berlin="berlin",t.london="london",t.altair="altair",t.arrowGlacier="arrowGlacier",t.grayGlacier="grayGlacier",t.bellatrix="bellatrix",t.merge="merge",t.capella="capella",t.shanghai="shanghai"})(Xr||(Xr={}));const jt=Object.getPrototypeOf(Uint8Array);var Zu=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function d(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,d)}u((r=r.apply(t,e||[])).next())})};const Ju=Symbol.for("web3/base-provider");class Mn{static isWeb3Provider(e){return e instanceof Mn||!!(e&&e[Ju])}get[Ju](){return!0}send(e,n){this.request(e).then(r=>{n(null,r)}).catch(r=>{n(r)})}sendAsync(e){return Zu(this,void 0,void 0,function*(){return this.request(e)})}asEIP1193Provider(){const e=Object.create(this),n=e.request;return e.request=function(i){return Zu(this,void 0,void 0,function*(){return(yield n(i)).result})},e.asEIP1193Provider=void 0,e}}class Zm extends Array{constructor(e){super(),this._accountProvider=e}}const Jm=100,Xm=101,Ym=201,eg=202,tg=203,ng=204,rg=205,ig=206,sg=207,og=208,ag=300,cg=301,ug=310,dg=311,fg=400,lg=402,hg=405,pg=407,mg=408,gg=410,yg=411,bg=412,wg=413,Ag=414,_g=415,Ig=416,xg=417,Eg=418,vg=419,Tg=420,Bg=421,kg=422,Sg=423,Rg=424,Cg=425,Pg=426,Og=427,Ng=428,Lg=429,Mg=430,$g=431,Hg=432,Dg=433,Ug=434,Fg=435,jg=436,Gg=437,qg=438,Qg=439,Vg=440,zg=441,Wg=500,Kg=503,Zg=505,Jg=506,Xg=507,Yg=600,ey=602,ty=603,ny=604,ry=701,iy=702,sy=703,oy=704,ay=705,cy=706,uy=707,dy=709,fy=801,ly=802,hy=4001,py=4100,my=4200,gy=4900,yy=4901,by=902,wy=903,Ay=1001,_y=1002,Iy=1003,xy=1004,Ey=1005,vy=1006,Ty=1008,By=1009,ky=1010,Sy=1011,Ry=1012,Cy=1014,Py=1015,Oy=1100,Il=1101,Ny=1200,vs=-32700,Ts=-32600,Bs=-32601,ks=-32602,Ss=-32603,Rs=-32e3,Cs=-32001,Ps=-32002,Os=-32003,Ns=-32004,Ls=-32005,Ms=-32006;class V extends Error{get innerError(){return this.cause instanceof Yr?this.cause.errors:this.cause}set innerError(e){Array.isArray(e)?this.cause=new Yr(e):this.cause=e}constructor(e,n){super(e),Array.isArray(n)?this.cause=new Yr(n):this.cause=n,this.name=this.constructor.name,typeof Error.captureStackTrace=="function"?Error.captureStackTrace(new.target.constructor):this.stack=new Error().stack}static convertToString(e,n=!1){if(e==null)return"undefined";const r=JSON.stringify(e,(i,s)=>typeof s=="bigint"?s.toString():s);return n&&["bigint","string"].includes(typeof e)?r.replace(/['\\"]+/g,""):r}toJSON(){return{name:this.name,code:this.code,message:this.message,cause:this.cause,innerError:this.cause}}}class Yr extends V{constructor(e){super(`Multiple errors occurred: [${e.map(n=>n.message).join("], [")}]`),this.code=og,this.errors=e}}class Y extends V{constructor(e,n){super(`Invalid value given "${V.convertToString(e,!0)}". Error: ${n}.`),this.name=this.constructor.name}}class Xu extends V{constructor(){super("Private key must be 32 bytes."),this.code=ry}}class Ly extends V{constructor(){super("Invalid Private Key, Not a valid string or uint8Array"),this.code=iy}}class My extends V{constructor(e){super(`"${e}"`),this.code=ly}}class xl extends V{constructor(){super("Invalid key derivation function"),this.code=sy}}class $y extends V{constructor(){super("Key derivation failed - possibly wrong password"),this.code=oy}}class Hy extends V{constructor(){super("Unsupported key store version"),this.code=ay}}class Dy extends V{constructor(){super("Password cannot be empty"),this.code=cy}}class Uy extends V{constructor(){super("Initialization vector must be 16 bytes"),this.code=uy}}class Fy extends V{constructor(){super("c > 1000, pbkdf2 is less secure with less iterations"),this.code=dy}}class _r extends V{constructor(e,n){super(e),this.code=Wg,n&&(this.errorCode=n.code,this.errorReason=n.reason)}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{errorCode:this.errorCode,errorReason:this.errorReason})}}class si extends _r{constructor(e){super("Connection not open",e),this.code=Kg}}class El extends _r{constructor(e){super(`Maximum number of reconnect attempts reached! (${e})`),this.code=Zg}}class vl extends _r{constructor(){super("CONNECTION ERROR: Provider started to reconnect before the response got received!"),this.code=Jg}}class Tl extends _r{constructor(e){super(`Request already sent with following id: ${e}`),this.code=Xg}}class Le extends V{constructor(e,n){super(e),this.code=ag,this.receipt=n}}class Yu extends V{constructor(e,n){super(`The resolver at ${e} does not implement requested method: "${n}".`),this.address=e,this.name=n,this.code=cg}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{address:this.address,name:this.name})}}class ko extends Le{constructor(e){if(super(e.message||"Error"),this.name="name"in e&&e.name||this.constructor.name,this.stack="stack"in e&&e.stack||void 0,this.code=e.code,typeof e.data=="object"){let n;e.data&&"originalError"in e.data?n=e.data.originalError:n=e.data,this.data=n.data,this.cause=new ko(n)}else this.data=e.data}setDecodedProperties(e,n,r){this.errorName=e,this.errorSignature=n,this.errorArgs=r}toJSON(){let e=Object.assign(Object.assign({},super.toJSON()),{data:this.data});return this.errorName&&(e=Object.assign(Object.assign({},e),{errorName:this.errorName,errorSignature:this.errorSignature,errorArgs:this.errorArgs})),e}}class wn extends Le{constructor(e){super("Error happened while trying to execute a function inside a smart contract"),this.code=ug,this.cause=new ko(e)}}class jy extends Y{constructor(e){var n,r;super(`data: ${(n=e.data)!==null&&n!==void 0?n:"undefined"}, input: ${(r=e.input)!==null&&r!==void 0?r:"undefined"}`,`You can't have "data" and "input" as properties of a contract at the same time, please use either "data" or "input" instead.`),this.code=dg}}class Gy extends V{constructor(e){super(`ENS is not supported on network ${e}`),this.code=by}}class qy extends V{constructor(){super("Network not synced"),this.code=wy}}class ed extends V{constructor(e){super(`Invalid parameters passed. "${typeof e<"u"?e:""}"`),this.hint=e,this.code=sg}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{hint:this.hint})}}class it extends V{constructor(){super(...arguments),this.code=Ym}}class Bt extends V{constructor(){super("The method you're trying to call is not implemented."),this.code=eg}}class So extends V{constructor(){super(...arguments),this.code=tg}}class Qy extends V{constructor(){super(...arguments),this.code=ng}}class ee extends V{constructor(e,n){super(e),this.code=rg,this.props=n??{}}}class Vy extends V{constructor(e){super(`A plugin with the namespace: ${e} has already been registered.`),this.code=ig}}class gs extends V{constructor(){super(...arguments),this.code=Yg}}class oi extends V{constructor(e){super(`Client URL "${e}" is invalid.`),this.code=ey}}class Ot extends V{constructor(){super(...arguments),this.code=ty}}class Bl extends V{constructor(){super(...arguments),this.code=ny}}class zy extends Y{constructor(){super(...arguments),this.code=fy}}class Dc extends V{constructor(e,n){super(e),this.receipt=n,this.code=fg}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{receipt:this.receipt})}}class $s extends V{constructor(e,n,r,i){super(`Transaction has been reverted by the EVM${r===void 0?"":`:
 ${V.convertToString(r)}`}`),this.reason=e,this.signature=n,this.receipt=r,this.data=i,this.code=lg}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{reason:this.reason,signature:this.signature,receipt:this.receipt,data:this.data})}}class kl extends $s{constructor(e,n,r,i,s,o,a){super(e),this.reason=e,this.customErrorName=n,this.customErrorDecodedSignature=r,this.customErrorArguments=i,this.signature=s,this.receipt=o,this.data=a,this.code=qg}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{reason:this.reason,customErrorName:this.customErrorName,customErrorDecodedSignature:this.customErrorDecodedSignature,customErrorArguments:this.customErrorArguments,signature:this.signature,receipt:this.receipt,data:this.data})}}class Sl extends Dc{constructor(e){super(`Transaction has been reverted by the EVM${e===void 0?"":`:
 ${V.convertToString(e)}`}`,e),this.code=hg}}class Wy extends Dc{constructor(){super("Raw transaction undefined"),this.code=pg}}class td extends Dc{constructor(){super("Transaction not found"),this.code=Mg}}class Ky extends Y{constructor(e){super(e,"invalid transaction with invalid sender"),this.code=mg}}class Zy extends Y{constructor(e){super(e,"invalid transaction with invalid receiver"),this.code=Gg}}class Jy extends Y{constructor(){super("MissingCustomChainError","If tx.common is provided it must have tx.common.customChain"),this.code=gg}}class Xy extends Y{constructor(){super("MissingCustomChainIdError","If tx.common is provided it must have tx.common.customChain and tx.common.customChain.chainId"),this.code=yg}}class Yy extends Y{constructor(e){super(JSON.stringify(e),"Chain Id doesnt match in tx.chainId tx.common.customChain.chainId"),this.code=bg}}class eb extends Y{constructor(e){super(JSON.stringify(e),"Chain doesnt match in tx.chain tx.common.basechain"),this.code=Fg}}class tb extends Y{constructor(e){super(JSON.stringify(e),"hardfork doesnt match in tx.hardfork tx.common.hardfork"),this.code=jg}}class nb extends Y{constructor(){super("CommonOrChainAndHardforkError","Please provide the common object or the chain and hardfork property but not all together."),this.code=wg}}class rb extends Y{constructor(e){var n,r;super("MissingChainOrHardforkError",`When specifying chain and hardfork, both values must be defined. Received "chain": ${(n=e.chain)!==null&&n!==void 0?n:"undefined"}, "hardfork": ${(r=e.hardfork)!==null&&r!==void 0?r:"undefined"}`),this.code=Ag}}class ib extends V{constructor(){super('Missing properties in transaction, either define "gas" and "gasPrice" for type 0 transactions or "gas", "maxPriorityFeePerGas" and "maxFeePerGas" for type 2 transactions'),this.code=Vg}}class sb extends Y{constructor(e){var n,r,i,s;super(`gas: ${(n=e.gas)!==null&&n!==void 0?n:"undefined"}, gasPrice: ${(r=e.gasPrice)!==null&&r!==void 0?r:"undefined"}, maxPriorityFeePerGas: ${(i=e.maxPriorityFeePerGas)!==null&&i!==void 0?i:"undefined"}, maxFeePerGas: ${(s=e.maxFeePerGas)!==null&&s!==void 0?s:"undefined"}`,'"gas" is missing'),this.code=_g,this.cause=new ib}}class ob extends V{constructor(){super('Missing properties in transaction, either define "gas" and "gasPrice" for type 0 transactions or "gas", "maxPriorityFeePerGas" and "maxFeePerGas" for type 2 transactions, not both'),this.code=zg}}class ab extends Y{constructor(e){var n,r,i,s;super(`gas: ${(n=e.gas)!==null&&n!==void 0?n:"undefined"}, gasPrice: ${(r=e.gasPrice)!==null&&r!==void 0?r:"undefined"}, maxPriorityFeePerGas: ${(i=e.maxPriorityFeePerGas)!==null&&i!==void 0?i:"undefined"}, maxFeePerGas: ${(s=e.maxFeePerGas)!==null&&s!==void 0?s:"undefined"}`,"transaction must specify legacy or fee market gas properties, not both"),this.code=Ug,this.cause=new ob}}class cb extends Y{constructor(e){var n,r;super(`gas: ${(n=e.gas)!==null&&n!==void 0?n:"undefined"}, gasPrice: ${(r=e.gasPrice)!==null&&r!==void 0?r:"undefined"}`,"Gas or gasPrice is lower than 0"),this.code=Ig}}class ub extends Y{constructor(e){var n,r;super(`maxPriorityFeePerGas: ${(n=e.maxPriorityFeePerGas)!==null&&n!==void 0?n:"undefined"}, maxFeePerGas: ${(r=e.maxFeePerGas)!==null&&r!==void 0?r:"undefined"}`,"maxPriorityFeePerGas or maxFeePerGas is lower than 0"),this.code=xg}}class db extends Y{constructor(e){super(e,"eip-1559 transactions don't support gasPrice"),this.code=Eg}}class Rl extends Y{constructor(e){var n,r;super(`maxPriorityFeePerGas: ${(n=e.maxPriorityFeePerGas)!==null&&n!==void 0?n:"undefined"}, maxFeePerGas: ${(r=e.maxFeePerGas)!==null&&r!==void 0?r:"undefined"}`,"pre-eip-1559 transaction don't support maxFeePerGas/maxPriorityFeePerGas"),this.code=vg}}class fb extends Y{constructor(e){super(e,"invalid transaction object"),this.code=Tg}}class lb extends Y{constructor(e){var n,r;super(`nonce: ${(n=e.nonce)!==null&&n!==void 0?n:"undefined"}, chainId: ${(r=e.chainId)!==null&&r!==void 0?r:"undefined"}`,"Nonce or chainId is lower than 0"),this.code=Bg}}class hb extends Y{constructor(){super("UnableToPopulateNonceError","unable to populate nonce, no from address available"),this.code=kg}}class pb extends Y{constructor(){super("Eip1559NotSupportedError","Network doesn't support eip-1559"),this.code=Sg}}class nd extends Y{constructor(e){super(e,"unsupported transaction type"),this.code=Rg}}class Cl extends Y{constructor(e){var n,r;super(`data: ${(n=e.data)!==null&&n!==void 0?n:"undefined"}, input: ${(r=e.input)!==null&&r!==void 0?r:"undefined"}`,`You can't have "data" and "input" as properties of transactions at the same time, please use either "data" or "input" instead.`),this.code=Cg}}class mb extends V{constructor(e){super(`The connected Ethereum Node did not respond within ${e.numberOfSeconds} seconds, please make sure your transaction was properly sent and you are connected to a healthy Node. Be aware that transaction might still be pending or mined!
	Transaction Hash: ${e.transactionHash?e.transactionHash.toString():"not available"}`),this.code=$g}}function Pl(t){return`Please make sure your transaction was properly sent and there are no previous pending transaction for the same account. However, be aware that it might still be mined!
	Transaction Hash: ${t?t.toString():"not available"}`}class Ol extends V{constructor(e){super(`Transaction was not mined within ${e.numberOfSeconds} seconds. ${Pl(e.transactionHash)}`),this.code=Pg}}class Nl extends V{constructor(e){super(`Transaction started at ${e.starterBlockNumber} but was not mined within ${e.numberOfBlocks} blocks. ${Pl(e.transactionHash)}`),this.code=Hg}}class gb extends Y{constructor(e){var n,r;super(`receipt: ${JSON.stringify(e.receipt)}, blockHash: ${(n=e.blockHash)===null||n===void 0?void 0:n.toString()}, transactionHash: ${(r=e.transactionHash)===null||r===void 0?void 0:r.toString()}`,"Receipt missing or blockHash null"),this.code=Og}}class yb extends Y{constructor(e){super(`receipt: ${JSON.stringify(e.receipt)}`,"Receipt missing block number"),this.code=Ng}}class Ga extends V{constructor(e){super(`Invalid signature. "${e}"`),this.code=Dg}}class rd extends Y{constructor(){super("LocalWalletNotAvailableError","Attempted to index account in local wallet, but no wallet is available"),this.code=Lg}}class bb extends V{constructor(e,n){const r=[];e.forEach(i=>r.push(i.keyword)),super(`The following properties are invalid for the transaction type ${n}: ${r.join(", ")}`),this.code=Qg}}class Pe extends Y{constructor(e){super(e,"can not parse as byte data"),this.code=_y}}class Gt extends Y{constructor(e){super(e,"can not parse as number data"),this.code=Iy}}class qt extends Y{constructor(e){super(e,"invalid ethereum address"),this.code=Ey}}class wb extends Y{constructor(e){super(e,"not a valid string"),this.code=Ay}}class Ll extends Y{constructor(e){super(e,"invalid unit"),this.code=xy}}class Ml extends Y{constructor(e){super(e,"not a valid unit. Must be a positive integer"),this.code=Py}}class Ro extends Y{constructor(e){super(e,"can not be converted to hex"),this.code=vy}}class $l extends Y{constructor(e){super(e,"value greater than the nibble width"),this.code=Cy}}class Co extends Y{constructor(e){super(e,"not a valid boolean."),this.code=Ty}}class Ab extends Y{constructor(e){super(e,"not a valid unsigned integer."),this.code=By}}class id extends Y{constructor(e){super(e,"invalid size given."),this.code=ky}}class sd extends Y{constructor(e){super(e,"value is larger than size."),this.code=Sy}}class _b extends Y{constructor(e){super(e,"invalid string given"),this.code=Ry}}const Ib=t=>!Array.isArray(t)&&t.jsonrpc==="2.0"&&!!t&&(t.result===void 0||t.result===null)&&"error"in t&&(typeof t.id=="number"||typeof t.id=="string"),od=t=>Ib(t)?t.error.message:"";class yt extends V{constructor(e,n,r,i){var s;super(n??`Returned error: ${Array.isArray(e)?e.map(a=>od(a)).join(","):od(e)}`),this.code=Jm,n||(this.data=Array.isArray(e)?e.map(a=>{var d;return(d=a.error)===null||d===void 0?void 0:d.data}):(s=e==null?void 0:e.error)===null||s===void 0?void 0:s.data),this.statusCode=i,this.request=r;let o;"error"in e?o=e.error:e instanceof Array&&(o=e.filter(a=>a.error).map(a=>a.error)),Array.isArray(o)&&o.length>0?this.cause=new Yr(o):this.cause=o}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{data:this.data,request:this.request,statusCode:this.statusCode})}}class qi extends yt{constructor(e,n){super(e,void 0,n),this.code=Xm;let r;"error"in e?r=e.error:e instanceof Array&&(r=e.map(i=>i.error)),Array.isArray(r)?this.cause=new Yr(r):this.cause=r}}class ad extends V{constructor(e,n){super(`Web3Config hardfork doesnt match in defaultHardfork ${e} and common.hardfork ${n}`),this.code=Il}}class cd extends V{constructor(e,n){super(`Web3Config chain doesnt match in defaultHardfork ${e} and common.hardfork ${n}`),this.code=Il}}const Hl="An Rpc error has occured with a code of *code*",Ce={[vs]:{message:"Parse error",description:"Invalid JSON"},[Ts]:{message:"Invalid request",description:"JSON is not a valid request object	"},[Bs]:{message:"Method not found",description:"Method does not exist	"},[ks]:{message:"Invalid params",description:"Invalid method parameters"},[Ss]:{message:"Internal error",description:"Internal JSON-RPC error"},[Rs]:{message:"Invalid input",description:"Missing or invalid parameters"},[Cs]:{message:"Resource not found",description:"Requested resource not found"},[Ps]:{message:"Resource unavailable",description:"Requested resource not available"},[Os]:{message:"Transaction rejected",description:"Transaction creation failed"},[Ns]:{message:"Method not supported",description:"Method is not implemented"},[Ls]:{message:"Limit exceeded",description:"Request exceeds defined limit"},[Ms]:{message:"JSON-RPC version not supported",description:"Version of JSON-RPC protocol is not supported"},[hy]:{name:"User Rejected Request",message:"The user rejected the request."},[py]:{name:"Unauthorized",message:"The requested method and/or account has not been authorized by the user."},[my]:{name:"Unsupported Method",message:"The Provider does not support the requested method."},[gy]:{name:"Disconnected",message:"The Provider is disconnected from all chains."},[yy]:{name:"Chain Disconnected",message:"The Provider is not connected to the requested chain."},"0-999":{name:"",message:"Not used."},1e3:{name:"Normal Closure",message:"The connection successfully completed the purpose for which it was created."},1001:{name:"Going Away",message:"The endpoint is going away, either because of a server failure or because the browser is navigating away from the page that opened the connection."},1002:{name:"Protocol error",message:"The endpoint is terminating the connection due to a protocol error."},1003:{name:"Unsupported Data",message:"The connection is being terminated because the endpoint received data of a type it cannot accept. (For example, a text-only endpoint received binary data.)"},1004:{name:"Reserved",message:"Reserved. A meaning might be defined in the future."},1005:{name:"No Status Rcvd",message:"Reserved. Indicates that no status code was provided even though one was expected."},1006:{name:"Abnormal Closure",message:"Reserved. Indicates that a connection was closed abnormally (that is, with no close frame being sent) when a status code is expected."},1007:{name:"Invalid frame payload data",message:"The endpoint is terminating the connection because a message was received that contained inconsistent data (e.g., non-UTF-8 data within a text message)."},1008:{name:"Policy Violation",message:"The endpoint is terminating the connection because it received a message that violates its policy. This is a generic status code, used when codes 1003 and 1009 are not suitable."},1009:{name:"Message Too Big",message:"The endpoint is terminating the connection because a data frame was received that is too large."},1010:{name:"Mandatory Ext.",message:"The client is terminating the connection because it expected the server to negotiate one or more extension, but the server didn't."},1011:{name:"Internal Error",message:"The server is terminating the connection because it encountered an unexpected condition that prevented it from fulfilling the request."},1012:{name:"Service Restart",message:"The server is terminating the connection because it is restarting."},1013:{name:"Try Again Later",message:"The server is terminating the connection due to a temporary condition, e.g. it is overloaded and is casting off some of its clients."},1014:{name:"Bad Gateway",message:"The server was acting as a gateway or proxy and received an invalid response from the upstream server. This is similar to 502 HTTP Status Code."},1015:{name:"TLS handshake",message:"Reserved. Indicates that the connection was closed due to a failure to perform a TLS handshake (e.g., the server certificate can't be verified)."},"1016-2999":{name:"",message:"For definition by future revisions of the WebSocket Protocol specification, and for definition by extension specifications."},"3000-3999":{name:"",message:"For use by libraries, frameworks, and applications. These status codes are registered directly with IANA. The interpretation of these codes is undefined by the WebSocket protocol."},"4000-4999":{name:"",message:"For private use, and thus can't be registered. Such codes can be used by prior agreements between WebSocket applications. The interpretation of these codes is undefined by the WebSocket protocol."}};class Xe extends V{constructor(e,n){super(n??Hl.replace("*code*",e.error.code.toString())),this.code=e.error.code,this.id=e.id,this.jsonrpc=e.jsonrpc,this.jsonRpcError=e.error}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{error:this.jsonRpcError,id:this.id,jsonRpc:this.jsonrpc})}}class Uc extends V{constructor(e,n){var r,i,s,o;if(!e)super();else if(!((r=Ce[e])===null||r===void 0)&&r.message)super(Ce[e].message);else{const a=Object.keys(Ce).find(d=>typeof d=="string"&&e>=parseInt(d.split("-")[0],10)&&e<=parseInt(d.split("-")[1],10));super((s=(i=Ce[a??""])===null||i===void 0?void 0:i.message)!==null&&s!==void 0?s:Hl.replace("*code*",(o=e==null?void 0:e.toString())!==null&&o!==void 0?o:'""'))}this.code=e,this.data=n}}class xb extends Xe{constructor(e){super(e,Ce[vs].message),this.code=vs}}class Eb extends Xe{constructor(e){super(e,Ce[Ts].message),this.code=Ts}}class vb extends Xe{constructor(e){super(e,Ce[Bs].message),this.code=Bs}}class Tb extends Xe{constructor(e){super(e,Ce[ks].message),this.code=ks}}class Bb extends Xe{constructor(e){super(e,Ce[Ss].message),this.code=Ss}}class kb extends Xe{constructor(e){super(e,Ce[Rs].message),this.code=Rs}}class Sb extends Xe{constructor(e){super(e,Ce[Ns].message),this.code=Ns}}class Rb extends Xe{constructor(e){super(e,Ce[Ps].message),this.code=Ps}}class Cb extends Xe{constructor(e){super(e,Ce[Cs].message),this.code=Cs}}class Pb extends Xe{constructor(e){super(e,Ce[Ms].message),this.code=Ms}}class Ob extends Xe{constructor(e){super(e,Ce[Os].message),this.code=Os}}class Nb extends Xe{constructor(e){super(e,Ce[Ls].message),this.code=Ls}}const Oe=new Map;Oe.set(vs,{error:xb});Oe.set(Ts,{error:Eb});Oe.set(Bs,{error:vb});Oe.set(ks,{error:Tb});Oe.set(Ss,{error:Bb});Oe.set(Rs,{error:kb});Oe.set(Ns,{error:Sb});Oe.set(Ps,{error:Rb});Oe.set(Os,{error:Ob});Oe.set(Cs,{error:Cb});Oe.set(Ms,{error:Pb});Oe.set(Ls,{error:Nb});class Lb extends V{constructor(e){super(`Format for the type ${e} is unsupported`),this.type=e,this.code=Ny}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{type:this.type})}}const la=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */new Uint8Array(new Uint32Array([287454020]).buffer)[0];function Mb(t=32){if(la&&typeof la.getRandomValues=="function")return la.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}var ne;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(ne||(ne={}));var qa;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(qa||(qa={}));const M=ne.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Nt=t=>{switch(typeof t){case"undefined":return M.undefined;case"string":return M.string;case"number":return isNaN(t)?M.nan:M.number;case"boolean":return M.boolean;case"function":return M.function;case"bigint":return M.bigint;case"symbol":return M.symbol;case"object":return Array.isArray(t)?M.array:t===null?M.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?M.promise:typeof Map<"u"&&t instanceof Map?M.map:typeof Set<"u"&&t instanceof Set?M.set:typeof Date<"u"&&t instanceof Date?M.date:M.object;default:return M.unknown}},T=ne.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),$b=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Je extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,d=0;for(;d<o.path.length;){const u=o.path[d];d===o.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(n(o))):a[u]=a[u]||{_errors:[]},a=a[u],d++}}};return i(this),r}static assert(e){if(!(e instanceof Je))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ne.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Je.create=t=>new Je(t);const or=(t,e)=>{let n;switch(t.code){case T.invalid_type:t.received===M.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case T.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,ne.jsonStringifyReplacer)}`;break;case T.unrecognized_keys:n=`Unrecognized key(s) in object: ${ne.joinValues(t.keys,", ")}`;break;case T.invalid_union:n="Invalid input";break;case T.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ne.joinValues(t.options)}`;break;case T.invalid_enum_value:n=`Invalid enum value. Expected ${ne.joinValues(t.options)}, received '${t.received}'`;break;case T.invalid_arguments:n="Invalid function arguments";break;case T.invalid_return_type:n="Invalid function return type";break;case T.invalid_date:n="Invalid date";break;case T.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:ne.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case T.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case T.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case T.custom:n="Invalid input";break;case T.invalid_intersection_types:n="Intersection results could not be merged";break;case T.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case T.not_finite:n="Number must be finite";break;default:n=e.defaultError,ne.assertNever(t)}return{message:n}};let Dl=or;function Hb(t){Dl=t}function Hs(){return Dl}const Ds=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let a="";const d=r.filter(u=>!!u).slice().reverse();for(const u of d)a=u(o,{data:e,defaultError:a}).message;return{...i,path:s,message:a}},Db=[];function O(t,e){const n=Hs(),r=Ds({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===or?void 0:or].filter(i=>!!i)});t.common.issues.push(r)}class Ne{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return Q;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const s=await i.key,o=await i.value;r.push({key:s,value:o})}return Ne.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return Q;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const Q=Object.freeze({status:"aborted"}),Yn=t=>({status:"dirty",value:t}),$e=t=>({status:"valid",value:t}),Qa=t=>t.status==="aborted",Va=t=>t.status==="dirty",vn=t=>t.status==="valid",ai=t=>typeof Promise<"u"&&t instanceof Promise;function Us(t,e,n,r){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function Ul(t,e,n,r,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var U;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(U||(U={}));var Vr,zr;class It{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ud=(t,e)=>{if(vn(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Je(t.common.issues);return this._error=n,this._error}}};function J(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>{var d,u;const{message:c}=t;return o.code==="invalid_enum_value"?{message:c??a.defaultError}:typeof a.data>"u"?{message:(d=c??r)!==null&&d!==void 0?d:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(u=c??n)!==null&&u!==void 0?u:a.defaultError}},description:i}}class X{get description(){return this._def.description}_getType(e){return Nt(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Nt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ne,ctx:{common:e.parent.common,data:e.data,parsedType:Nt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(ai(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Nt(e)},s=this._parseSync({data:e,path:i.path,parent:i});return ud(i,s)}"~validate"(e){var n,r;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Nt(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:i});return vn(s)?{value:s.value}:{issues:i.common.issues}}catch(s){!((r=(n=s==null?void 0:s.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:i}).then(s=>vn(s)?{value:s.value}:{issues:i.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Nt(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(ai(i)?i:Promise.resolve(i));return ud(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:T.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(d=>d?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new ft({schema:this,typeName:q.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return _t.create(this,this._def)}nullable(){return rn.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return dt.create(this)}promise(){return cr.create(this,this._def)}or(e){return fi.create([this,e],this._def)}and(e){return li.create(this,e,this._def)}transform(e){return new ft({...J(this._def),schema:this,typeName:q.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new yi({...J(this._def),innerType:this,defaultValue:n,typeName:q.ZodDefault})}brand(){return new Fc({typeName:q.ZodBranded,type:this,...J(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new bi({...J(this._def),innerType:this,catchValue:n,typeName:q.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Qi.create(this,e)}readonly(){return wi.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Ub=/^c[^\s-]{8,}$/i,Fb=/^[0-9a-z]+$/,jb=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Gb=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,qb=/^[a-z0-9_-]{21}$/i,Qb=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Vb=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,zb=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Wb="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let ha;const Kb=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Zb=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Jb=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Xb=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Yb=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ew=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Fl="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",tw=new RegExp(`^${Fl}$`);function jl(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function nw(t){return new RegExp(`^${jl(t)}$`)}function Gl(t){let e=`${Fl}T${jl(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function rw(t,e){return!!((e==="v4"||!e)&&Kb.test(t)||(e==="v6"||!e)&&Jb.test(t))}function iw(t,e){if(!Qb.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||!i.typ||!i.alg||e&&i.alg!==e)}catch{return!1}}function sw(t,e){return!!((e==="v4"||!e)&&Zb.test(t)||(e==="v6"||!e)&&Xb.test(t))}class ut extends X{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==M.string){const s=this._getOrReturnCtx(e);return O(s,{code:T.invalid_type,expected:M.string,received:s.parsedType}),Q}const r=new Ne;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),O(i,{code:T.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),O(i,{code:T.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?O(i,{code:T.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&O(i,{code:T.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")zb.test(e.data)||(i=this._getOrReturnCtx(e,i),O(i,{validation:"email",code:T.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")ha||(ha=new RegExp(Wb,"u")),ha.test(e.data)||(i=this._getOrReturnCtx(e,i),O(i,{validation:"emoji",code:T.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")Gb.test(e.data)||(i=this._getOrReturnCtx(e,i),O(i,{validation:"uuid",code:T.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")qb.test(e.data)||(i=this._getOrReturnCtx(e,i),O(i,{validation:"nanoid",code:T.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")Ub.test(e.data)||(i=this._getOrReturnCtx(e,i),O(i,{validation:"cuid",code:T.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")Fb.test(e.data)||(i=this._getOrReturnCtx(e,i),O(i,{validation:"cuid2",code:T.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")jb.test(e.data)||(i=this._getOrReturnCtx(e,i),O(i,{validation:"ulid",code:T.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),O(i,{validation:"url",code:T.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),O(i,{validation:"regex",code:T.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),O(i,{code:T.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),O(i,{code:T.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),O(i,{code:T.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?Gl(s).test(e.data)||(i=this._getOrReturnCtx(e,i),O(i,{code:T.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?tw.test(e.data)||(i=this._getOrReturnCtx(e,i),O(i,{code:T.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?nw(s).test(e.data)||(i=this._getOrReturnCtx(e,i),O(i,{code:T.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?Vb.test(e.data)||(i=this._getOrReturnCtx(e,i),O(i,{validation:"duration",code:T.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?rw(e.data,s.version)||(i=this._getOrReturnCtx(e,i),O(i,{validation:"ip",code:T.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?iw(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),O(i,{validation:"jwt",code:T.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?sw(e.data,s.version)||(i=this._getOrReturnCtx(e,i),O(i,{validation:"cidr",code:T.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?Yb.test(e.data)||(i=this._getOrReturnCtx(e,i),O(i,{validation:"base64",code:T.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?ew.test(e.data)||(i=this._getOrReturnCtx(e,i),O(i,{validation:"base64url",code:T.invalid_string,message:s.message}),r.dirty()):ne.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:T.invalid_string,...U.errToObj(r)})}_addCheck(e){return new ut({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...U.errToObj(e)})}url(e){return this._addCheck({kind:"url",...U.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...U.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...U.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...U.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...U.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...U.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...U.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...U.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...U.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...U.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...U.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...U.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...U.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...U.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...U.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...U.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...U.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...U.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...U.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...U.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...U.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...U.errToObj(n)})}nonempty(e){return this.min(1,U.errToObj(e))}trim(){return new ut({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ut({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ut({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ut.create=t=>{var e;return new ut({checks:[],typeName:q.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...J(t)})};function ow(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class en extends X{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==M.number){const s=this._getOrReturnCtx(e);return O(s,{code:T.invalid_type,expected:M.number,received:s.parsedType}),Q}let r;const i=new Ne;for(const s of this._def.checks)s.kind==="int"?ne.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),O(r,{code:T.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),O(r,{code:T.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),O(r,{code:T.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?ow(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),O(r,{code:T.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),O(r,{code:T.not_finite,message:s.message}),i.dirty()):ne.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,U.toString(n))}gt(e,n){return this.setLimit("min",e,!1,U.toString(n))}lte(e,n){return this.setLimit("max",e,!0,U.toString(n))}lt(e,n){return this.setLimit("max",e,!1,U.toString(n))}setLimit(e,n,r,i){return new en({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:U.toString(i)}]})}_addCheck(e){return new en({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:U.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:U.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:U.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:U.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:U.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:U.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:U.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:U.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:U.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ne.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}en.create=t=>new en({checks:[],typeName:q.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...J(t)});class tn extends X{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==M.bigint)return this._getInvalidInput(e);let r;const i=new Ne;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),O(r,{code:T.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),O(r,{code:T.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),O(r,{code:T.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):ne.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return O(n,{code:T.invalid_type,expected:M.bigint,received:n.parsedType}),Q}gte(e,n){return this.setLimit("min",e,!0,U.toString(n))}gt(e,n){return this.setLimit("min",e,!1,U.toString(n))}lte(e,n){return this.setLimit("max",e,!0,U.toString(n))}lt(e,n){return this.setLimit("max",e,!1,U.toString(n))}setLimit(e,n,r,i){return new tn({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:U.toString(i)}]})}_addCheck(e){return new tn({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:U.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:U.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:U.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:U.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:U.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}tn.create=t=>{var e;return new tn({checks:[],typeName:q.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...J(t)})};class ci extends X{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==M.boolean){const r=this._getOrReturnCtx(e);return O(r,{code:T.invalid_type,expected:M.boolean,received:r.parsedType}),Q}return $e(e.data)}}ci.create=t=>new ci({typeName:q.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...J(t)});class Tn extends X{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==M.date){const s=this._getOrReturnCtx(e);return O(s,{code:T.invalid_type,expected:M.date,received:s.parsedType}),Q}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return O(s,{code:T.invalid_date}),Q}const r=new Ne;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),O(i,{code:T.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),O(i,{code:T.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):ne.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Tn({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:U.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:U.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Tn.create=t=>new Tn({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:q.ZodDate,...J(t)});class Fs extends X{_parse(e){if(this._getType(e)!==M.symbol){const r=this._getOrReturnCtx(e);return O(r,{code:T.invalid_type,expected:M.symbol,received:r.parsedType}),Q}return $e(e.data)}}Fs.create=t=>new Fs({typeName:q.ZodSymbol,...J(t)});class ui extends X{_parse(e){if(this._getType(e)!==M.undefined){const r=this._getOrReturnCtx(e);return O(r,{code:T.invalid_type,expected:M.undefined,received:r.parsedType}),Q}return $e(e.data)}}ui.create=t=>new ui({typeName:q.ZodUndefined,...J(t)});class di extends X{_parse(e){if(this._getType(e)!==M.null){const r=this._getOrReturnCtx(e);return O(r,{code:T.invalid_type,expected:M.null,received:r.parsedType}),Q}return $e(e.data)}}di.create=t=>new di({typeName:q.ZodNull,...J(t)});class ar extends X{constructor(){super(...arguments),this._any=!0}_parse(e){return $e(e.data)}}ar.create=t=>new ar({typeName:q.ZodAny,...J(t)});class An extends X{constructor(){super(...arguments),this._unknown=!0}_parse(e){return $e(e.data)}}An.create=t=>new An({typeName:q.ZodUnknown,...J(t)});class Dt extends X{_parse(e){const n=this._getOrReturnCtx(e);return O(n,{code:T.invalid_type,expected:M.never,received:n.parsedType}),Q}}Dt.create=t=>new Dt({typeName:q.ZodNever,...J(t)});class js extends X{_parse(e){if(this._getType(e)!==M.undefined){const r=this._getOrReturnCtx(e);return O(r,{code:T.invalid_type,expected:M.void,received:r.parsedType}),Q}return $e(e.data)}}js.create=t=>new js({typeName:q.ZodVoid,...J(t)});class dt extends X{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==M.array)return O(n,{code:T.invalid_type,expected:M.array,received:n.parsedType}),Q;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(o||a)&&(O(n,{code:o?T.too_big:T.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(O(n,{code:T.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(O(n,{code:T.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>i.type._parseAsync(new It(n,o,n.path,a)))).then(o=>Ne.mergeArray(r,o));const s=[...n.data].map((o,a)=>i.type._parseSync(new It(n,o,n.path,a)));return Ne.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new dt({...this._def,minLength:{value:e,message:U.toString(n)}})}max(e,n){return new dt({...this._def,maxLength:{value:e,message:U.toString(n)}})}length(e,n){return new dt({...this._def,exactLength:{value:e,message:U.toString(n)}})}nonempty(e){return this.min(1,e)}}dt.create=(t,e)=>new dt({type:t,minLength:null,maxLength:null,exactLength:null,typeName:q.ZodArray,...J(e)});function Wn(t){if(t instanceof ge){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=_t.create(Wn(r))}return new ge({...t._def,shape:()=>e})}else return t instanceof dt?new dt({...t._def,type:Wn(t.element)}):t instanceof _t?_t.create(Wn(t.unwrap())):t instanceof rn?rn.create(Wn(t.unwrap())):t instanceof xt?xt.create(t.items.map(e=>Wn(e))):t}class ge extends X{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=ne.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==M.object){const u=this._getOrReturnCtx(e);return O(u,{code:T.invalid_type,expected:M.object,received:u.parsedType}),Q}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Dt&&this._def.unknownKeys==="strip"))for(const u in i.data)o.includes(u)||a.push(u);const d=[];for(const u of o){const c=s[u],f=i.data[u];d.push({key:{status:"valid",value:u},value:c._parse(new It(i,f,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof Dt){const u=this._def.unknownKeys;if(u==="passthrough")for(const c of a)d.push({key:{status:"valid",value:c},value:{status:"valid",value:i.data[c]}});else if(u==="strict")a.length>0&&(O(i,{code:T.unrecognized_keys,keys:a}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const c of a){const f=i.data[c];d.push({key:{status:"valid",value:c},value:u._parse(new It(i,f,i.path,c)),alwaysSet:c in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const c of d){const f=await c.key,h=await c.value;u.push({key:f,value:h,alwaysSet:c.alwaysSet})}return u}).then(u=>Ne.mergeObjectSync(r,u)):Ne.mergeObjectSync(r,d)}get shape(){return this._def.shape()}strict(e){return U.errToObj,new ge({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,s,o,a;const d=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=U.errToObj(e).message)!==null&&a!==void 0?a:d}:{message:d}}}:{}})}strip(){return new ge({...this._def,unknownKeys:"strip"})}passthrough(){return new ge({...this._def,unknownKeys:"passthrough"})}extend(e){return new ge({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ge({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:q.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new ge({...this._def,catchall:e})}pick(e){const n={};return ne.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new ge({...this._def,shape:()=>n})}omit(e){const n={};return ne.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new ge({...this._def,shape:()=>n})}deepPartial(){return Wn(this)}partial(e){const n={};return ne.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new ge({...this._def,shape:()=>n})}required(e){const n={};return ne.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof _t;)s=s._def.innerType;n[r]=s}}),new ge({...this._def,shape:()=>n})}keyof(){return ql(ne.objectKeys(this.shape))}}ge.create=(t,e)=>new ge({shape:()=>t,unknownKeys:"strip",catchall:Dt.create(),typeName:q.ZodObject,...J(e)});ge.strictCreate=(t,e)=>new ge({shape:()=>t,unknownKeys:"strict",catchall:Dt.create(),typeName:q.ZodObject,...J(e)});ge.lazycreate=(t,e)=>new ge({shape:t,unknownKeys:"strip",catchall:Dt.create(),typeName:q.ZodObject,...J(e)});class fi extends X{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new Je(a.ctx.common.issues));return O(n,{code:T.invalid_union,unionErrors:o}),Q}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const d of r){const u={...n,common:{...n.common,issues:[]},parent:null},c=d._parseSync({data:n.data,path:n.path,parent:u});if(c.status==="valid")return c;c.status==="dirty"&&!s&&(s={result:c,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(d=>new Je(d));return O(n,{code:T.invalid_union,unionErrors:a}),Q}}get options(){return this._def.options}}fi.create=(t,e)=>new fi({options:t,typeName:q.ZodUnion,...J(e)});const Pt=t=>t instanceof pi?Pt(t.schema):t instanceof ft?Pt(t.innerType()):t instanceof mi?[t.value]:t instanceof nn?t.options:t instanceof gi?ne.objectValues(t.enum):t instanceof yi?Pt(t._def.innerType):t instanceof ui?[void 0]:t instanceof di?[null]:t instanceof _t?[void 0,...Pt(t.unwrap())]:t instanceof rn?[null,...Pt(t.unwrap())]:t instanceof Fc||t instanceof wi?Pt(t.unwrap()):t instanceof bi?Pt(t._def.innerType):[];class Po extends X{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==M.object)return O(n,{code:T.invalid_type,expected:M.object,received:n.parsedType}),Q;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(O(n,{code:T.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Q)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const o=Pt(s.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new Po({typeName:q.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...J(r)})}}function za(t,e){const n=Nt(t),r=Nt(e);if(t===e)return{valid:!0,data:t};if(n===M.object&&r===M.object){const i=ne.objectKeys(e),s=ne.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(const a of s){const d=za(t[a],e[a]);if(!d.valid)return{valid:!1};o[a]=d.data}return{valid:!0,data:o}}else if(n===M.array&&r===M.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],a=e[s],d=za(o,a);if(!d.valid)return{valid:!1};i.push(d.data)}return{valid:!0,data:i}}else return n===M.date&&r===M.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class li extends X{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(Qa(s)||Qa(o))return Q;const a=za(s.value,o.value);return a.valid?((Va(s)||Va(o))&&n.dirty(),{status:n.value,value:a.data}):(O(r,{code:T.invalid_intersection_types}),Q)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}li.create=(t,e,n)=>new li({left:t,right:e,typeName:q.ZodIntersection,...J(n)});class xt extends X{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==M.array)return O(r,{code:T.invalid_type,expected:M.array,received:r.parsedType}),Q;if(r.data.length<this._def.items.length)return O(r,{code:T.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Q;!this._def.rest&&r.data.length>this._def.items.length&&(O(r,{code:T.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,a)=>{const d=this._def.items[a]||this._def.rest;return d?d._parse(new It(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>Ne.mergeArray(n,o)):Ne.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new xt({...this._def,rest:e})}}xt.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new xt({items:t,typeName:q.ZodTuple,rest:null,...J(e)})};class hi extends X{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==M.object)return O(r,{code:T.invalid_type,expected:M.object,received:r.parsedType}),Q;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in r.data)i.push({key:s._parse(new It(r,a,r.path,a)),value:o._parse(new It(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?Ne.mergeObjectAsync(n,i):Ne.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof X?new hi({keyType:e,valueType:n,typeName:q.ZodRecord,...J(r)}):new hi({keyType:ut.create(),valueType:e,typeName:q.ZodRecord,...J(n)})}}class Gs extends X{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==M.map)return O(r,{code:T.invalid_type,expected:M.map,received:r.parsedType}),Q;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([a,d],u)=>({key:i._parse(new It(r,a,r.path,[u,"key"])),value:s._parse(new It(r,d,r.path,[u,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const d of o){const u=await d.key,c=await d.value;if(u.status==="aborted"||c.status==="aborted")return Q;(u.status==="dirty"||c.status==="dirty")&&n.dirty(),a.set(u.value,c.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const d of o){const u=d.key,c=d.value;if(u.status==="aborted"||c.status==="aborted")return Q;(u.status==="dirty"||c.status==="dirty")&&n.dirty(),a.set(u.value,c.value)}return{status:n.value,value:a}}}}Gs.create=(t,e,n)=>new Gs({valueType:e,keyType:t,typeName:q.ZodMap,...J(n)});class Bn extends X{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==M.set)return O(r,{code:T.invalid_type,expected:M.set,received:r.parsedType}),Q;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(O(r,{code:T.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(O(r,{code:T.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(d){const u=new Set;for(const c of d){if(c.status==="aborted")return Q;c.status==="dirty"&&n.dirty(),u.add(c.value)}return{status:n.value,value:u}}const a=[...r.data.values()].map((d,u)=>s._parse(new It(r,d,r.path,u)));return r.common.async?Promise.all(a).then(d=>o(d)):o(a)}min(e,n){return new Bn({...this._def,minSize:{value:e,message:U.toString(n)}})}max(e,n){return new Bn({...this._def,maxSize:{value:e,message:U.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Bn.create=(t,e)=>new Bn({valueType:t,minSize:null,maxSize:null,typeName:q.ZodSet,...J(e)});class nr extends X{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==M.function)return O(n,{code:T.invalid_type,expected:M.function,received:n.parsedType}),Q;function r(a,d){return Ds({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Hs(),or].filter(u=>!!u),issueData:{code:T.invalid_arguments,argumentsError:d}})}function i(a,d){return Ds({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Hs(),or].filter(u=>!!u),issueData:{code:T.invalid_return_type,returnTypeError:d}})}const s={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof cr){const a=this;return $e(async function(...d){const u=new Je([]),c=await a._def.args.parseAsync(d,s).catch(l=>{throw u.addIssue(r(d,l)),u}),f=await Reflect.apply(o,this,c);return await a._def.returns._def.type.parseAsync(f,s).catch(l=>{throw u.addIssue(i(f,l)),u})})}else{const a=this;return $e(function(...d){const u=a._def.args.safeParse(d,s);if(!u.success)throw new Je([r(d,u.error)]);const c=Reflect.apply(o,this,u.data),f=a._def.returns.safeParse(c,s);if(!f.success)throw new Je([i(c,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new nr({...this._def,args:xt.create(e).rest(An.create())})}returns(e){return new nr({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new nr({args:e||xt.create([]).rest(An.create()),returns:n||An.create(),typeName:q.ZodFunction,...J(r)})}}class pi extends X{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}pi.create=(t,e)=>new pi({getter:t,typeName:q.ZodLazy,...J(e)});class mi extends X{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return O(n,{received:n.data,code:T.invalid_literal,expected:this._def.value}),Q}return{status:"valid",value:e.data}}get value(){return this._def.value}}mi.create=(t,e)=>new mi({value:t,typeName:q.ZodLiteral,...J(e)});function ql(t,e){return new nn({values:t,typeName:q.ZodEnum,...J(e)})}class nn extends X{constructor(){super(...arguments),Vr.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return O(n,{expected:ne.joinValues(r),received:n.parsedType,code:T.invalid_type}),Q}if(Us(this,Vr)||Ul(this,Vr,new Set(this._def.values)),!Us(this,Vr).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return O(n,{received:n.data,code:T.invalid_enum_value,options:r}),Q}return $e(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return nn.create(e,{...this._def,...n})}exclude(e,n=this._def){return nn.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Vr=new WeakMap;nn.create=ql;class gi extends X{constructor(){super(...arguments),zr.set(this,void 0)}_parse(e){const n=ne.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==M.string&&r.parsedType!==M.number){const i=ne.objectValues(n);return O(r,{expected:ne.joinValues(i),received:r.parsedType,code:T.invalid_type}),Q}if(Us(this,zr)||Ul(this,zr,new Set(ne.getValidEnumValues(this._def.values))),!Us(this,zr).has(e.data)){const i=ne.objectValues(n);return O(r,{received:r.data,code:T.invalid_enum_value,options:i}),Q}return $e(e.data)}get enum(){return this._def.values}}zr=new WeakMap;gi.create=(t,e)=>new gi({values:t,typeName:q.ZodNativeEnum,...J(e)});class cr extends X{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==M.promise&&n.common.async===!1)return O(n,{code:T.invalid_type,expected:M.promise,received:n.parsedType}),Q;const r=n.parsedType===M.promise?n.data:Promise.resolve(n.data);return $e(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}cr.create=(t,e)=>new cr({type:t,typeName:q.ZodPromise,...J(e)});class ft extends X{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===q.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{O(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return Q;const d=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return d.status==="aborted"?Q:d.status==="dirty"||n.value==="dirty"?Yn(d.value):d});{if(n.value==="aborted")return Q;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?Q:a.status==="dirty"||n.value==="dirty"?Yn(a.value):a}}if(i.type==="refinement"){const o=a=>{const d=i.refinement(a,s);if(r.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Q:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?Q:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!vn(o))return o;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>vn(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:n.value,value:a})):o);ne.assertNever(i)}}ft.create=(t,e,n)=>new ft({schema:t,typeName:q.ZodEffects,effect:e,...J(n)});ft.createWithPreprocess=(t,e,n)=>new ft({schema:e,effect:{type:"preprocess",transform:t},typeName:q.ZodEffects,...J(n)});class _t extends X{_parse(e){return this._getType(e)===M.undefined?$e(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}_t.create=(t,e)=>new _t({innerType:t,typeName:q.ZodOptional,...J(e)});class rn extends X{_parse(e){return this._getType(e)===M.null?$e(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}rn.create=(t,e)=>new rn({innerType:t,typeName:q.ZodNullable,...J(e)});class yi extends X{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===M.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}yi.create=(t,e)=>new yi({innerType:t,typeName:q.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...J(e)});class bi extends X{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return ai(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Je(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Je(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}bi.create=(t,e)=>new bi({innerType:t,typeName:q.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...J(e)});class qs extends X{_parse(e){if(this._getType(e)!==M.nan){const r=this._getOrReturnCtx(e);return O(r,{code:T.invalid_type,expected:M.nan,received:r.parsedType}),Q}return{status:"valid",value:e.data}}}qs.create=t=>new qs({typeName:q.ZodNaN,...J(t)});const aw=Symbol("zod_brand");class Fc extends X{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Qi extends X{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Q:s.status==="dirty"?(n.dirty(),Yn(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Q:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new Qi({in:e,out:n,typeName:q.ZodPipeline})}}class wi extends X{_parse(e){const n=this._def.innerType._parse(e),r=i=>(vn(i)&&(i.value=Object.freeze(i.value)),i);return ai(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}wi.create=(t,e)=>new wi({innerType:t,typeName:q.ZodReadonly,...J(e)});function Ql(t,e={},n){return t?ar.create().superRefine((r,i)=>{var s,o;if(!t(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,d=(o=(s=a.fatal)!==null&&s!==void 0?s:n)!==null&&o!==void 0?o:!0,u=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...u,fatal:d})}}):ar.create()}const cw={object:ge.lazycreate};var q;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(q||(q={}));const uw=(t,e={message:`Input not instance of ${t.name}`})=>Ql(n=>n instanceof t,e),Vl=ut.create,zl=en.create,dw=qs.create,fw=tn.create,Wl=ci.create,lw=Tn.create,hw=Fs.create,pw=ui.create,mw=di.create,gw=ar.create,yw=An.create,bw=Dt.create,ww=js.create,Aw=dt.create,_w=ge.create,Iw=ge.strictCreate,xw=fi.create,Ew=Po.create,vw=li.create,Tw=xt.create,Bw=hi.create,kw=Gs.create,Sw=Bn.create,Rw=nr.create,Cw=pi.create,Pw=mi.create,Ow=nn.create,Nw=gi.create,Lw=cr.create,dd=ft.create,Mw=_t.create,$w=rn.create,Hw=ft.createWithPreprocess,Dw=Qi.create,Uw=()=>Vl().optional(),Fw=()=>zl().optional(),jw=()=>Wl().optional(),Gw={string:t=>ut.create({...t,coerce:!0}),number:t=>en.create({...t,coerce:!0}),boolean:t=>ci.create({...t,coerce:!0}),bigint:t=>tn.create({...t,coerce:!0}),date:t=>Tn.create({...t,coerce:!0})},qw=Q;var ht=Object.freeze({__proto__:null,defaultErrorMap:or,setErrorMap:Hb,getErrorMap:Hs,makeIssue:Ds,EMPTY_PATH:Db,addIssueToContext:O,ParseStatus:Ne,INVALID:Q,DIRTY:Yn,OK:$e,isAborted:Qa,isDirty:Va,isValid:vn,isAsync:ai,get util(){return ne},get objectUtil(){return qa},ZodParsedType:M,getParsedType:Nt,ZodType:X,datetimeRegex:Gl,ZodString:ut,ZodNumber:en,ZodBigInt:tn,ZodBoolean:ci,ZodDate:Tn,ZodSymbol:Fs,ZodUndefined:ui,ZodNull:di,ZodAny:ar,ZodUnknown:An,ZodNever:Dt,ZodVoid:js,ZodArray:dt,ZodObject:ge,ZodUnion:fi,ZodDiscriminatedUnion:Po,ZodIntersection:li,ZodTuple:xt,ZodRecord:hi,ZodMap:Gs,ZodSet:Bn,ZodFunction:nr,ZodLazy:pi,ZodLiteral:mi,ZodEnum:nn,ZodNativeEnum:gi,ZodPromise:cr,ZodEffects:ft,ZodTransformer:ft,ZodOptional:_t,ZodNullable:rn,ZodDefault:yi,ZodCatch:bi,ZodNaN:qs,BRAND:aw,ZodBranded:Fc,ZodPipeline:Qi,ZodReadonly:wi,custom:Ql,Schema:X,ZodSchema:X,late:cw,get ZodFirstPartyTypeKind(){return q},coerce:Gw,any:gw,array:Aw,bigint:fw,boolean:Wl,date:lw,discriminatedUnion:Ew,effect:dd,enum:Ow,function:Rw,instanceof:uw,intersection:vw,lazy:Cw,literal:Pw,map:kw,nan:dw,nativeEnum:Nw,never:bw,null:mw,nullable:$w,number:zl,object:_w,oboolean:jw,onumber:Fw,optional:Mw,ostring:Uw,pipeline:Dw,preprocess:Hw,promise:Lw,record:Bw,set:Sw,strictObject:Iw,string:Vl,symbol:hw,transformer:dd,tuple:Tw,undefined:pw,union:xw,unknown:yw,void:ww,NEVER:qw,ZodIssueCode:T,quotelessJson:$b,ZodError:Je});const Qw=t=>t.message?t.message:"unspecified error";class ur extends V{constructor(e){super(),this.code=Oy,this.errors=e,super.message=`Web3 validator found ${e.length} error[s]:
${this._compileErrors().join(`
`)}`}_compileErrors(){return this.errors.map(Qw)}}function Ai(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function Vw(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function zw(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function Oo(t,...e){if(!zw(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function Ww(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Ai(t.outputLen),Ai(t.blockLen)}function Wa(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Kl(t,e){Oo(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Kw={number:Ai,bool:Vw,bytes:Oo,hash:Ww,exists:Wa,output:Kl},Xi=BigInt(2**32-1),fd=BigInt(32);function Zw(t,e=!1){return e?{h:Number(t&Xi),l:Number(t>>fd&Xi)}:{h:Number(t>>fd&Xi)|0,l:Number(t&Xi)|0}}function Jw(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=Zw(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const Xw=(t,e,n)=>t<<n|e>>>32-n,Yw=(t,e,n)=>e<<n|t>>>32-n,eA=(t,e,n)=>e<<n-32|t>>>64-n,tA=(t,e,n)=>t<<n-32|e>>>64-n;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const nA=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),ld=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,rA=t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255;function hd(t){for(let e=0;e<t.length;e++)t[e]=rA(t[e])}function Zl(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Jl(t){return typeof t=="string"&&(t=Zl(t)),Oo(t),t}let iA=class{clone(){return this._cloneInto()}};function sA(t){const e=r=>t().update(Jl(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}const Xl=[],Yl=[],eh=[],oA=BigInt(0),Or=BigInt(1),aA=BigInt(2),cA=BigInt(7),uA=BigInt(256),dA=BigInt(113);for(let t=0,e=Or,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],Xl.push(2*(5*r+n)),Yl.push((t+1)*(t+2)/2%64);let i=oA;for(let s=0;s<7;s++)e=(e<<Or^(e>>cA)*dA)%uA,e&aA&&(i^=Or<<(Or<<BigInt(s))-Or);eh.push(i)}const[fA,lA]=Jw(eh,!0),pd=(t,e,n)=>n>32?eA(t,e,n):Xw(t,e,n),md=(t,e,n)=>n>32?tA(t,e,n):Yw(t,e,n);function hA(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,d=(o+2)%10,u=n[d],c=n[d+1],f=pd(u,c,1)^n[a],h=md(u,c,1)^n[a+1];for(let l=0;l<50;l+=10)t[o+l]^=f,t[o+l+1]^=h}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=Yl[o],d=pd(i,s,a),u=md(i,s,a),c=Xl[o];i=t[c],s=t[c+1],t[c]=d,t[c+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=fA[r],t[1]^=lA[r]}n.fill(0)}let pA=class th extends iA{constructor(e,n,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Ai(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=nA(this.state)}keccak(){ld||hd(this.state32),hA(this.state32,this.rounds),ld||hd(this.state32),this.posOut=0,this.pos=0}update(e){Wa(this);const{blockLen:n,state:r}=this;e=Jl(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Wa(this,!1),Oo(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Ai(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Kl(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new th(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const mA=(t,e,n)=>sA(()=>new pA(e,t,n)),gd=mA(1,136,256/8);function gA(t){return e=>(Kw.bytes(e),t(e))}(()=>{const t=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,e=typeof module<"u"&&typeof module.require=="function"&&module.require.bind(module);return{node:e&&!t?e("crypto"):void 0,web:t}})();const nh=(()=>{const t=gA(gd);return t.create=gd.create,t})(),yA=["bool","int","uint","bytes","string","address","tuple"],rh=t=>typeof t=="object"&&"type"in t&&"name"in t,jc=t=>typeof t=="string",G=t=>typeof t=="string"&&/^((-)?0x[0-9a-f]+|(0x))$/i.test(t);function ih(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/))}const Ve=t=>typeof t=="number"||typeof t=="bigint"||typeof t=="string"&&/^((-0x|0x|-)?[0-9a-f]+|(0x))$/i.test(t);function Gc(t){if(typeof t!="string")throw new Error(`[isHexPrefixed] input must be type 'string', received type ${typeof t}`);return t.startsWith("0x")}const qc=function(t){for(const[e,n]of Object.entries(t))if(n!==void 0&&n.length>0&&n[0]===0)throw new Error(`${e} cannot have leading zeroes, received: ${n.toString()}`)},bA=["hex","number","blockNumber","blockNumberOrTag","filter","bloom"],$n=t=>{let e=t.replace(/ /,""),n,r=!1,i=[];if(t.includes("[")&&(e=e.slice(0,e.indexOf("[")),i=[...t.matchAll(/(?:\[(\d*)\])/g)].map(s=>parseInt(s[1],10)).map(s=>Number.isNaN(s)?-1:s),r=i.length>0),yA.includes(e))return{baseType:e,isArray:r,baseTypeSize:n,arraySizes:i};if(e.startsWith("int"))n=parseInt(e.substring(3),10),e="int";else if(e.startsWith("uint"))n=parseInt(t.substring(4),10),e="uint";else if(e.startsWith("bytes"))n=parseInt(e.substring(5),10),e="bytes";else return{baseType:void 0,isArray:!1,baseTypeSize:void 0,arraySizes:i};return{baseType:e,isArray:r,baseTypeSize:n,arraySizes:i}},pa=(t,e={})=>{if(Object.keys(e).includes("type"))throw new ur([{keyword:"eth",message:'Either "eth" or "type" can be presented in schema',params:{eth:t},instancePath:"",schemaPath:""}]);const{baseType:r,baseTypeSize:i}=$n(t);if(!r&&!bA.includes(t))throw new ur([{keyword:"eth",message:`Eth data type "${t}" is not valid`,params:{eth:t},instancePath:"",schemaPath:""}]);if(r){if(r==="tuple")throw new Error('"tuple" type is not implemented directly.');return{format:`${r}${i??""}`,required:!0}}return t?{format:t,required:!0}:{}},Qs=(t,e="/0")=>{const n={type:"array",items:[],maxItems:t.length,minItems:t.length};for(const[r,i]of t.entries()){let s,o,a=[];rh(i)?(s=i.type,o=i.name||`${e}/${r}`,a=i.components):typeof i=="string"?(s=i,o=`${e}/${r}`):Array.isArray(i)&&(i[0]&&typeof i[0]=="string"&&i[0].startsWith("tuple")&&!Array.isArray(i[0])&&i[1]&&Array.isArray(i[1])?(s=i[0],o=`${e}/${r}`,a=i[1]):(s="tuple",o=`${e}/${r}`,a=i));const{baseType:d,isArray:u,arraySizes:c}=$n(s);let f,h=n;for(let l=c.length-1;l>0;l-=1)f={type:"array",$id:o,items:[],maxItems:c[l],minItems:c[l]},c[l]<0&&(delete f.maxItems,delete f.minItems),Array.isArray(h.items)?h.items.length===0?h.items=[f]:h.items.push(f):h.items=[h.items,f],h=f;if(d==="tuple"&&!u){const l=Qs(a,o);l.$id=o,h.items.push(l)}else if(d==="tuple"&&u){const l=c[0],b=Object.assign({type:"array",$id:o,items:Qs(a,o)},l>=0&&{minItems:l,maxItems:l});h.items.push(b)}else if(u){const l=c[0],b=Object.assign({type:"array",$id:o,items:pa(s)},l>=0&&{minItems:l,maxItems:l});h.items.push(b)}else Array.isArray(h.items)?h.items.push(Object.assign({$id:o},pa(s))):h.items.push(Object.assign({$id:o},pa(s)));h=n}return n},Ir=t=>Qs(t),Qc=(t,e)=>e===1?t:Qc(t[0],e-1),ei=(t,e,n)=>{const r=[];for(const[i,s]of t.entries()){let o,a,d=[];rh(s)?(o=s.type,a=s.name,d=s.components):typeof s=="string"?o=s:Array.isArray(s)&&(s[1]&&Array.isArray(s[1])?(o=s[0],d=s[1]):(o="tuple",d=s));const{baseType:u,isArray:c,arraySizes:f}=$n(o),h=Array.isArray(e)?e[i]:e[a];if(u==="tuple"&&!c)r.push(ei(d,h,n));else if(u==="tuple"&&c){const l=[];for(const b of h)if(f.length>1){const m=Qc(b,f.length-1),g=[];for(const p of m)g.push(ei(d,p,n));l.push(g)}else l.push(ei(d,b,n));r.push(l)}else r.push(h)}return n=n??[],n.push(...r),n},sh=t=>{if(t>=48&&t<=57)return t-48;if(t>=65&&t<=70)return t-55;if(t>=97&&t<=102)return t-87;throw new Error(`Invalid code point: ${t}`)},Hn=t=>{if(!G(t))throw new Error("Invalid hex string");const[e,n]=t.startsWith("-")?[!0,t.slice(1)]:[!1,t],r=BigInt(n);return r>Number.MAX_SAFE_INTEGER?e?-r:r:r<Number.MIN_SAFE_INTEGER?r:e?-1*Number(r):Number(r)},Tt=t=>{if((typeof t=="number"||typeof t=="bigint")&&t<0)return`-0x${t.toString(16).slice(1)}`;if((typeof t=="number"||typeof t=="bigint")&&t>=0)return`0x${t.toString(16)}`;if(typeof t=="string"&&G(t)){const[e,n]=t.startsWith("-")?[!0,t.slice(1)]:[!1,t],r=n.split(/^(-)?0(x|X)/).slice(-1)[0];return`${e?"-":""}0x${r.replace(/^0+/,"").toLowerCase()}`}if(typeof t=="string"&&!G(t))return Tt(BigInt(t));throw new Gt(t)},ze=(t,e,n="0")=>{if(typeof t=="string"&&!G(t))return t.padStart(e,n);const r=typeof t=="string"&&G(t)?t:Tt(t),[i,s]=r.startsWith("-")?["-0x",r.slice(3)]:["0x",r.slice(2)];return`${i}${s.padStart(e,n)}`};function De(t){let e="0x";for(const n of t){const r=n.toString(16);e+=r.length===1?`0${r}`:r}return e}const kt={zero:48,nine:57,A:65,F:70,a:97,f:102};function yd(t){if(t>=kt.zero&&t<=kt.nine)return t-kt.zero;if(t>=kt.A&&t<=kt.F)return t-(kt.A-10);if(t>=kt.a&&t<=kt.f)return t-(kt.a-10)}function ke(t){let e=0;if(t.startsWith("0")&&(t[1]==="x"||t[1]==="X")&&(e=2),t.length%2!==0)throw new Pe(`hex string has odd length: ${t}`);const n=(t.length-e)/2,r=new Uint8Array(n);for(let i=0,s=e;i<n;i+=1){const o=yd(t.charCodeAt(s++)),a=yd(t.charCodeAt(s++));if(o===void 0||a===void 0)throw new Pe(`Invalid byte sequence ("${t[s-2]}${t[s-1]}" in "${t}").`);r[i]=o*16+a}return r}function Ue(t){var e;return!(t instanceof Uint8Array)&&((e=t==null?void 0:t.constructor)===null||e===void 0?void 0:e.name)==="Uint8Array"?Uint8Array.from(t):t}const Fe=Object.freeze(Object.defineProperty({__proto__:null,abiSchemaToJsonSchema:Qs,codePointToInt:sh,ensureIfUint8Array:Ue,ethAbiToJsonSchema:Ir,fetchArrayElement:Qc,hexToNumber:Hn,hexToUint8Array:ke,numberToHex:Tt,padLeft:ze,parseBaseType:$n,transformJsonDataToAbiFormat:ei,uint8ArrayToHexString:De},Symbol.toStringTag,{value:"Module"})),Ka=t=>{var e,n;return t instanceof Uint8Array||((e=t==null?void 0:t.constructor)===null||e===void 0?void 0:e.name)==="Uint8Array"||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="Buffer"},on=(t,e={abiType:"bytes"})=>{if(typeof t!="string"&&!Array.isArray(t)&&!Ka(t)||typeof t=="string"&&G(t)&&t.startsWith("-")||typeof t=="string"&&!G(t))return!1;let n;if(typeof t=="string"){if(t.length%2!==0)return!1;n=ke(t)}else if(Array.isArray(t)){if(t.some(r=>r<0||r>255||!Number.isInteger(r)))return!1;n=new Uint8Array(t)}else n=t;if(e!=null&&e.abiType){const{baseTypeSize:r}=$n(e.abiType);return r?n.length===r:!0}return e!=null&&e.size?n.length===(e==null?void 0:e.size):!0},oh=t=>{if(!/^(0x)?[0-9a-f]{40}$/i.test(t))return!1;const e=t.slice(2),n=Zl(e.toLowerCase()),r=De(nh(Ue(n))).slice(2);for(let i=0;i<40;i+=1)if(parseInt(r[i],16)>7&&e[i].toUpperCase()!==e[i]||parseInt(r[i],16)<=7&&e[i].toLowerCase()!==e[i])return!1;return!0},be=(t,e=!0)=>{if(typeof t!="string"&&!Ka(t))return!1;let n;return Ka(t)?n=De(t):typeof t=="string"&&!G(t)?n=t.toLowerCase().startsWith("0x")?t:`0x${t}`:n=t,/^(0x)?[0-9a-f]{40}$/i.test(n)?/^(0x|0X)?[0-9a-f]{40}$/.test(n)||/^(0x|0X)?[0-9A-F]{40}$/.test(n)?!0:e?oh(n):!0:!1},kn=(t,e)=>{if(e===BigInt(0))return BigInt(1);let n=t;for(let r=1;r<e;r+=1)n*=t;return n},He=(t,e={abiType:"uint"})=>{if(!["number","string","bigint"].includes(typeof t)||typeof t=="string"&&t.length===0)return!1;let n;if(e!=null&&e.abiType){const{baseTypeSize:i}=$n(e.abiType);i&&(n=i)}else e.bitSize&&(n=e.bitSize);const r=kn(BigInt(2),BigInt(n??256))-BigInt(1);try{const i=typeof t=="string"&&G(t)?BigInt(Hn(t)):BigInt(t);return i>=0&&i<=r}catch{return!1}},lt=(t,e={abiType:"int"})=>{if(!["number","string","bigint"].includes(typeof t)||typeof t=="number"&&t>Number.MAX_SAFE_INTEGER)return!1;let n;if(e!=null&&e.abiType){const{baseTypeSize:s,baseType:o}=$n(e.abiType);if(o!=="int")return!1;s&&(n=s)}else e.bitSize&&(n=e.bitSize);const r=kn(BigInt(2),BigInt((n??256)-1)),i=BigInt(-1)*kn(BigInt(2),BigInt((n??256)-1));try{const s=typeof t=="string"&&G(t)?BigInt(Hn(t)):BigInt(t);return s>=i&&s<=r}catch{return!1}},ah=t=>!!(lt(t)||typeof t=="string"&&/[0-9.]/.test(t)&&t.indexOf(".")===t.lastIndexOf(".")||typeof t=="number"),ch=t=>He(t),Be=t=>Object.values(Lt).includes(t),Za=t=>Be(t)||ch(t),xr=t=>typeof t!="string"||!/^(0x)?[0-9a-f]{512}$/i.test(t)?!1:!!(/^(0x)?[0-9a-f]{512}$/.test(t)||/^(0x)?[0-9A-F]{512}$/.test(t)),No=(t,e)=>{if(typeof e=="string"&&!G(e)||!xr(t))return!1;const n=typeof e=="string"?ke(e):e,r=De(nh(n)).slice(2);for(let i=0;i<12;i+=4){const s=(parseInt(r.slice(i,i+2),16)<<8)+parseInt(r.slice(i+2,i+4),16)&2047,o=sh(t.charCodeAt(t.length-1-Math.floor(s/4))),a=1<<s%4;if((o&a)!==a)return!1}return!0},wA=(t,e)=>{if(!xr(t)||!be(e))return!1;const n=ze(e,64);return No(t,n)},AA=(t,e)=>!xr(t)||!be(e)?!1:No(t,e),_A=t=>["number","string","boolean"].includes(typeof t)?typeof t=="boolean"?!0:typeof t=="string"&&!G(t)?t==="1"||t==="0":typeof t=="string"&&G(t)?t==="0x1"||t==="0x0":t===1||t===0:!1,A=t=>t==null,pe=t=>typeof t=="object"&&!A(t)&&!Array.isArray(t)&&!(t instanceof jt),Vs=t=>typeof t!="string"||!/^(0x)?[0-9a-f]{64}$/i.test(t)?!1:!!(/^(0x)?[0-9a-f]{64}$/.test(t)||/^(0x)?[0-9A-F]{64}$/.test(t)),IA=(t,e)=>!xr(t)||!Vs(e)?!1:No(t,e),xA=t=>{const e=["fromBlock","toBlock","address","topics","blockHash"];if(A(t)||typeof t!="object"||!Object.keys(t).every(n=>e.includes(n))||!A(t.fromBlock)&&!Za(t.fromBlock)||!A(t.toBlock)&&!Za(t.toBlock))return!1;if(!A(t.address)){if(Array.isArray(t.address)){if(!t.address.every(n=>be(n)))return!1}else if(!be(t.address))return!1}return!(!A(t.topics)&&!t.topics.every(n=>A(n)?!0:Array.isArray(n)?n.every(r=>Vs(r)):!!Vs(n)))},Sn={address:t=>be(t),bloom:t=>xr(t),blockNumber:t=>ch(t),blockTag:t=>Be(t),blockNumberOrTag:t=>Za(t),bool:t=>_A(t),bytes:t=>on(t),filter:t=>xA(t),hex:t=>G(t),uint:t=>He(t),int:t=>lt(t),number:t=>ah(t),string:t=>jc(t)};for(let t=8;t<=256;t+=8)Sn[`int${t}`]=e=>lt(e,{bitSize:t}),Sn[`uint${t}`]=e=>He(e,{bitSize:t});for(let t=1;t<=32;t+=1)Sn[`bytes${t}`]=e=>on(e,{size:t});Sn.bytes256=Sn.bytes;const Wr=t=>{if((!(t!=null&&t.type)||(t==null?void 0:t.type)==="object")&&(t!=null&&t.properties)){const e={};for(const n of Object.keys(t.properties)){const r=Wr(t.properties[n]);r&&(e[n]=r)}return Array.isArray(t.required)?ht.object(e).partial().required(t.required.reduce((n,r)=>Object.assign(Object.assign({},n),{[r]:!0}),{})):ht.object(e).partial()}if((t==null?void 0:t.type)==="array"&&(t!=null&&t.items)){if(Array.isArray(t.items)&&t.items.length>1&&t.maxItems!==void 0&&new Set(t.items.map(r=>r.$id)).size===t.items.length){const r=[];for(const i of t.items){const s=Wr(i);s&&r.push(s)}return ht.tuple(r)}const e=Array.isArray(t.items)?t.items[0]:t.items;let n=ht.array(Wr(e));return n=t.minItems!==void 0?n.min(t.minItems):n,n=t.maxItems!==void 0?n.max(t.maxItems):n,n}if(t.oneOf&&Array.isArray(t.oneOf))return ht.union(t.oneOf.map(e=>Wr(e)));if(t!=null&&t.format){if(!Sn[t.format])throw new Lb(t.format);return ht.any().refine(Sn[t.format],e=>({params:{value:e,format:t.format}}))}return t!=null&&t.type&&(t==null?void 0:t.type)!=="object"&&typeof ht[String(t.type)]=="function"?ht[String(t.type)]():ht.object({data:ht.any()}).partial()};class er{static factory(){return er.validatorInstance||(er.validatorInstance=new er),er.validatorInstance}validate(e,n,r){var i,s;const a=Wr(e).safeParse(n);if(!a.success){const d=this.convertErrors((s=(i=a.error)===null||i===void 0?void 0:i.issues)!==null&&s!==void 0?s:[]);if(d){if(r!=null&&r.silent)return d;throw new ur(d)}}}convertErrors(e){if(e&&Array.isArray(e)&&e.length>0)return e.map(n=>{var r;let i,s,o,a;a=n.path.join("/");const d=String(n.path[n.path.length-1]),u=n.path.join("/");if(n.code===T.too_big)s="maxItems",a=`${u}/maxItems`,o={limit:n.maximum},i=`must NOT have more than ${n.maximum} items`;else if(n.code===T.too_small)s="minItems",a=`${u}/minItems`,o={limit:n.minimum},i=`must NOT have fewer than ${n.minimum} items`;else if(n.code===T.custom){const{value:c,format:f}=(r=n.params)!==null&&r!==void 0?r:{};typeof c>"u"?i=`value at "/${a}" is required`:i=`value "${typeof c=="object"?JSON.stringify(c):c}" at "/${a}" must pass "${f}" validation`,o={value:c}}return{keyword:s??d,instancePath:u?`/${u}`:"",schemaPath:a?`#${a}`:"#",params:o??{value:n.message},message:i??n.message}})}}class EA{constructor(){this._validator=er.factory()}validateJSONSchema(e,n,r){return this._validator.validate(e,n,r)}validate(e,n,r={silent:!1}){var i,s;const o=Ir(e);if(!(Array.isArray(o.items)&&((i=o.items)===null||i===void 0?void 0:i.length)===0&&n.length===0)){if(Array.isArray(o.items)&&((s=o.items)===null||s===void 0?void 0:s.length)===0&&n.length!==0)throw new ur([{instancePath:"/0",schemaPath:"/",keyword:"required",message:"empty schema against data can not be validated",params:n}]);return this._validator.validate(o,n,r)}}}const C=new EA;function uh(t){var e,n;return t instanceof Uint8Array||((e=t==null?void 0:t.constructor)===null||e===void 0?void 0:e.name)==="Uint8Array"||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="Buffer"}BigInt(0),BigInt(1),BigInt(1e3),BigInt(1e3),BigInt(1e3),BigInt(1e3),BigInt(1e6),BigInt(1e6),BigInt(1e6),BigInt(1e6),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e12),BigInt(1e12),BigInt(1e12),BigInt(1e15),BigInt(1e15),BigInt(1e15),BigInt("1000000000000000000"),BigInt("1000000000000000000000"),BigInt("1000000000000000000000"),BigInt("1000000000000000000000000"),BigInt("1000000000000000000000000000"),BigInt("1000000000000000000000000000000");const vA=t=>{if(C.validate(["bytes"],[t]),uh(t))return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="string")return ke(t);throw new Pe(t)},{uint8ArrayToHexString:TA}=Fe,Vc=t=>TA(vA(t)),Yi=(t,e)=>{typeof t!="bigint"&&C.validate(["int"],[t]);let n=Tt(t);return e&&(!n.startsWith("-")&&n.length%2===1?n="0x0".concat(n.slice(2)):n.length%2===0&&n.startsWith("-")&&(n="-0x0".concat(n.slice(3)))),n},bd=t=>{C.validate(["string"],[t]);let e=t.replace(/^(?:\u0000)/,"");return e=e.replace(/(?:\u0000)$/,""),Vc(new TextEncoder().encode(e))},BA=(t,e)=>{if(typeof t=="string"&&be(t))return e?"address":`0x${t.toLowerCase().replace(/^0x/i,"")}`;if(typeof t=="boolean")return e?"bool":t?"0x01":"0x00";if(typeof t=="number")return e?t<0?"int256":"uint256":Yi(t);if(typeof t=="bigint")return e?"bigint":Yi(t);if(uh(t))return e?"bytes":Vc(t);if(typeof t=="object"&&t)return e?"string":bd(JSON.stringify(t));if(typeof t=="string"){if(t.startsWith("-0x")||t.startsWith("-0X"))return e?"int256":Yi(t);if(G(t))return e?"bytes":t;if(Ve(t)&&!lt(t)&&!He(t))return e?"bytes":`0x${t}`;if(Ve(t)&&!lt(t)&&He(t))return e?"uint":Yi(t);if(!Number.isFinite(t))return e?"string":bd(t)}throw new Ro(t)};var ma={exports:{}},wd;function kA(){return wd||(wd=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(d,u,c){this.fn=d,this.context=u,this.once=c||!1}function s(d,u,c,f,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var l=new i(c,f||d,h),b=n?n+u:u;return d._events[b]?d._events[b].fn?d._events[b]=[d._events[b],l]:d._events[b].push(l):(d._events[b]=l,d._eventsCount++),d}function o(d,u){--d._eventsCount===0?d._events=new r:delete d._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},a.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,l=f.length,b=new Array(l);h<l;h++)b[h]=f[h].fn;return b},a.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},a.prototype.emit=function(u,c,f,h,l,b){var m=n?n+u:u;if(!this._events[m])return!1;var g=this._events[m],p=arguments.length,w,_;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),p){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,c),!0;case 3:return g.fn.call(g.context,c,f),!0;case 4:return g.fn.call(g.context,c,f,h),!0;case 5:return g.fn.call(g.context,c,f,h,l),!0;case 6:return g.fn.call(g.context,c,f,h,l,b),!0}for(_=1,w=new Array(p-1);_<p;_++)w[_-1]=arguments[_];g.fn.apply(g.context,w)}else{var v=g.length,E;for(_=0;_<v;_++)switch(g[_].once&&this.removeListener(u,g[_].fn,void 0,!0),p){case 1:g[_].fn.call(g[_].context);break;case 2:g[_].fn.call(g[_].context,c);break;case 3:g[_].fn.call(g[_].context,c,f);break;case 4:g[_].fn.call(g[_].context,c,f,h);break;default:if(!w)for(E=1,w=new Array(p-1);E<p;E++)w[E-1]=arguments[E];g[_].fn.apply(g[_].context,w)}}return!0},a.prototype.on=function(u,c,f){return s(this,u,c,f,!1)},a.prototype.once=function(u,c,f){return s(this,u,c,f,!0)},a.prototype.removeListener=function(u,c,f,h){var l=n?n+u:u;if(!this._events[l])return this;if(!c)return o(this,l),this;var b=this._events[l];if(b.fn)b.fn===c&&(!h||b.once)&&(!f||b.context===f)&&o(this,l);else{for(var m=0,g=[],p=b.length;m<p;m++)(b[m].fn!==c||h&&!b[m].once||f&&b[m].context!==f)&&g.push(b[m]);g.length?this._events[l]=g.length===1?g[0]:g:o(this,l)}return this},a.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&o(this,c)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a}(ma)),ma.exports}var SA=kA();const Er=Hc(SA);let RA=class extends Er{constructor(){super(...arguments),this.maxListeners=Number.MAX_SAFE_INTEGER}setMaxListeners(e){return this.maxListeners=e,this}getMaxListeners(){return this.maxListeners}};const me=A;function CA(t){return Mb(t)}const PA=t=>CA(t);function OA(t){return(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}const NA=()=>{const t=PA(16);t[6]=t[6]&15|64,t[8]=t[8]&63|128;const e=Vc(t);return[e.substring(2,10),e.substring(10,14),e.substring(14,18),e.substring(18,22),e.substring(22,34)].join("-")},LA=t=>{const e=t.error.code;return Oe.has(e)||e>=-32099&&e<=-32e3},ti=t=>!Array.isArray(t)&&!!t&&t.jsonrpc==="2.0"&&"result"in t&&A(t.error)&&(typeof t.id=="number"||typeof t.id=="string"),ni=t=>!Array.isArray(t)&&t.jsonrpc==="2.0"&&!!t&&A(t.result)&&"error"in t&&(typeof t.id=="number"||typeof t.id=="string"),MA=t=>!Array.isArray(t)&&!!t&&t.jsonrpc==="2.0"&&!A(t.params)&&!A(t.method),Ad=t=>ti(t)||ni(t),$A=t=>Array.isArray(t)?t.every(Ad):Ad(t),HA=t=>Array.isArray(t)&&t.length>0&&$A(t);let DA;const zc=t=>{var e,n,r,i;return{jsonrpc:(e=t.jsonrpc)!==null&&e!==void 0?e:"2.0",id:(r=(n=t.id)!==null&&n!==void 0?n:DA)!==null&&r!==void 0?r:NA(),method:t.method,params:(i=t.params)!==null&&i!==void 0?i:void 0}},UA=t=>t.map(e=>zc(e)),cn=t=>Array.isArray(t)&&t.length>0;var ga=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function d(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,d)}u((r=r.apply(t,e||[])).next())})},dh;let _d=class{constructor({timeout:e,eagerStart:n,timeoutMessage:r}={timeout:0,eagerStart:!1,timeoutMessage:"DeferredPromise timed out"}){this[dh]="Promise",this._state="pending",this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s}),this._timeoutMessage=r,this._timeoutInterval=e,n&&this.startTimer()}get state(){return this._state}then(e,n){return ga(this,void 0,void 0,function*(){return this._promise.then(e,n)})}catch(e){return ga(this,void 0,void 0,function*(){return this._promise.catch(e)})}finally(e){return ga(this,void 0,void 0,function*(){return this._promise.finally(e)})}resolve(e){this._resolve(e),this._state="fulfilled",this._clearTimeout()}reject(e){this._reject(e),this._state="rejected",this._clearTimeout()}startTimer(){this._timeoutInterval&&this._timeoutInterval>0&&(this._timeoutId=setTimeout(this._checkTimeout.bind(this),this._timeoutInterval))}_checkTimeout(){this._state==="pending"&&this._timeoutId&&this.reject(new So(this._timeoutMessage))}_clearTimeout(){this._timeoutId&&clearTimeout(this._timeoutId)}};dh=Symbol.toStringTag;class Lo{constructor(){this._emitter=new RA}on(e,n){this._emitter.on(e,n)}once(e,n){this._emitter.once(e,n)}off(e,n){this._emitter.off(e,n)}emit(e,n){this._emitter.emit(e,n)}listenerCount(e){return this._emitter.listenerCount(e)}listeners(e){return this._emitter.listeners(e)}eventNames(){return this._emitter.eventNames()}removeAllListeners(){return this._emitter.removeAllListeners()}setMaxListenerWarningThreshold(e){this._emitter.setMaxListeners(e)}getMaxListeners(){return this._emitter.getMaxListeners()}}var Rn;(function(t){t.CONFIG_CHANGE="CONFIG_CHANGE"})(Rn||(Rn={}));class FA extends Lo{constructor(e){super(),this.config={handleRevert:!1,defaultAccount:void 0,defaultBlock:"latest",transactionBlockTimeout:50,transactionConfirmationBlocks:24,transactionPollingInterval:1e3,transactionPollingTimeout:750*1e3,transactionReceiptPollingInterval:void 0,transactionSendTimeout:750*1e3,transactionConfirmationPollingInterval:void 0,blockHeaderTimeout:10,maxListenersWarningThreshold:100,contractDataInputFill:"data",defaultNetworkId:void 0,defaultChain:"mainnet",defaultHardfork:"london",defaultCommon:void 0,defaultTransactionType:"0x2",defaultMaxPriorityFeePerGas:BA(25e8),enableExperimentalFeatures:{useSubscriptionWhenCheckingBlockTimeout:!1,useRpcCallSpecification:!1},transactionBuilder:void 0,transactionTypeParser:void 0,customTransactionSchema:void 0,defaultReturnFormat:Te,ignoreGasPricing:!1},this.setConfig(e??{})}setConfig(e){const n=Object.keys(e);for(const r of n)this._triggerConfigChange(r,e[r]),!me(e[r])&&typeof e[r]=="number"&&r==="maxListenersWarningThreshold"&&this.setMaxListenerWarningThreshold(Number(e[r]));Object.assign(this.config,e)}get handleRevert(){return this.config.handleRevert}set handleRevert(e){this._triggerConfigChange("handleRevert",e),this.config.handleRevert=e}get contractDataInputFill(){return this.config.contractDataInputFill}set contractDataInputFill(e){this._triggerConfigChange("contractDataInputFill",e),this.config.contractDataInputFill=e}get defaultAccount(){return this.config.defaultAccount}set defaultAccount(e){this._triggerConfigChange("defaultAccount",e),this.config.defaultAccount=e}get defaultBlock(){return this.config.defaultBlock}set defaultBlock(e){this._triggerConfigChange("defaultBlock",e),this.config.defaultBlock=e}get transactionSendTimeout(){return this.config.transactionSendTimeout}set transactionSendTimeout(e){this._triggerConfigChange("transactionSendTimeout",e),this.config.transactionSendTimeout=e}get transactionBlockTimeout(){return this.config.transactionBlockTimeout}set transactionBlockTimeout(e){this._triggerConfigChange("transactionBlockTimeout",e),this.config.transactionBlockTimeout=e}get transactionConfirmationBlocks(){return this.config.transactionConfirmationBlocks}set transactionConfirmationBlocks(e){this._triggerConfigChange("transactionConfirmationBlocks",e),this.config.transactionConfirmationBlocks=e}get transactionPollingInterval(){return this.config.transactionPollingInterval}set transactionPollingInterval(e){this._triggerConfigChange("transactionPollingInterval",e),this.config.transactionPollingInterval=e,this.transactionReceiptPollingInterval=e,this.transactionConfirmationPollingInterval=e}get transactionPollingTimeout(){return this.config.transactionPollingTimeout}set transactionPollingTimeout(e){this._triggerConfigChange("transactionPollingTimeout",e),this.config.transactionPollingTimeout=e}get transactionReceiptPollingInterval(){return this.config.transactionReceiptPollingInterval}set transactionReceiptPollingInterval(e){this._triggerConfigChange("transactionReceiptPollingInterval",e),this.config.transactionReceiptPollingInterval=e}get transactionConfirmationPollingInterval(){return this.config.transactionConfirmationPollingInterval}set transactionConfirmationPollingInterval(e){this._triggerConfigChange("transactionConfirmationPollingInterval",e),this.config.transactionConfirmationPollingInterval=e}get blockHeaderTimeout(){return this.config.blockHeaderTimeout}set blockHeaderTimeout(e){this._triggerConfigChange("blockHeaderTimeout",e),this.config.blockHeaderTimeout=e}get enableExperimentalFeatures(){return this.config.enableExperimentalFeatures}set enableExperimentalFeatures(e){this._triggerConfigChange("enableExperimentalFeatures",e),this.config.enableExperimentalFeatures=e}get maxListenersWarningThreshold(){return this.config.maxListenersWarningThreshold}set maxListenersWarningThreshold(e){this._triggerConfigChange("maxListenersWarningThreshold",e),this.setMaxListenerWarningThreshold(e),this.config.maxListenersWarningThreshold=e}get defaultReturnFormat(){return this.config.defaultReturnFormat}set defaultReturnFormat(e){this._triggerConfigChange("defaultReturnFormat",e),this.config.defaultReturnFormat=e}get defaultNetworkId(){return this.config.defaultNetworkId}set defaultNetworkId(e){this._triggerConfigChange("defaultNetworkId",e),this.config.defaultNetworkId=e}get defaultChain(){return this.config.defaultChain}set defaultChain(e){if(!me(this.config.defaultCommon)&&!me(this.config.defaultCommon.baseChain)&&e!==this.config.defaultCommon.baseChain)throw new cd(this.config.defaultChain,e);this._triggerConfigChange("defaultChain",e),this.config.defaultChain=e}get defaultHardfork(){return this.config.defaultHardfork}set defaultHardfork(e){if(!me(this.config.defaultCommon)&&!me(this.config.defaultCommon.hardfork)&&e!==this.config.defaultCommon.hardfork)throw new ad(this.config.defaultCommon.hardfork,e);this._triggerConfigChange("defaultHardfork",e),this.config.defaultHardfork=e}get defaultCommon(){return this.config.defaultCommon}set defaultCommon(e){if(!me(this.config.defaultHardfork)&&!me(e)&&!me(e.hardfork)&&this.config.defaultHardfork!==e.hardfork)throw new ad(this.config.defaultHardfork,e.hardfork);if(!me(this.config.defaultChain)&&!me(e)&&!me(e.baseChain)&&this.config.defaultChain!==e.baseChain)throw new cd(this.config.defaultChain,e.baseChain);this._triggerConfigChange("defaultCommon",e),this.config.defaultCommon=e}get ignoreGasPricing(){return this.config.ignoreGasPricing}set ignoreGasPricing(e){this._triggerConfigChange("ignoreGasPricing",e),this.config.ignoreGasPricing=e}get defaultTransactionType(){return this.config.defaultTransactionType}set defaultTransactionType(e){this._triggerConfigChange("defaultTransactionType",e),this.config.defaultTransactionType=e}get defaultMaxPriorityFeePerGas(){return this.config.defaultMaxPriorityFeePerGas}set defaultMaxPriorityFeePerGas(e){this._triggerConfigChange("defaultMaxPriorityFeePerGas",e),this.config.defaultMaxPriorityFeePerGas=e}get transactionBuilder(){return this.config.transactionBuilder}set transactionBuilder(e){this._triggerConfigChange("transactionBuilder",e),this.config.transactionBuilder=e}get transactionTypeParser(){return this.config.transactionTypeParser}set transactionTypeParser(e){this._triggerConfigChange("transactionTypeParser",e),this.config.transactionTypeParser=e}get customTransactionSchema(){return this.config.customTransactionSchema}set customTransactionSchema(e){this._triggerConfigChange("customTransactionSchema",e),this.config.customTransactionSchema=e}_triggerConfigChange(e,n){this.emit(Rn.CONFIG_CHANGE,{name:e,oldValue:this.config[e],newValue:n})}}var es={exports:{}},Id;function jA(){return Id||(Id=1,function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Xn<"u"&&Xn,r=function(){function s(){this.fetch=!1,this.DOMException=n.DOMException}return s.prototype=n,new s}();(function(s){(function(o){var a=typeof s<"u"&&s||typeof self<"u"&&self||typeof Xn<"u"&&Xn||{},d={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function u(y){return y&&DataView.prototype.isPrototypeOf(y)}if(d.arrayBuffer)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(y){return y&&c.indexOf(Object.prototype.toString.call(y))>-1};function h(y){if(typeof y!="string"&&(y=String(y)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(y)||y==="")throw new TypeError('Invalid character in header field name: "'+y+'"');return y.toLowerCase()}function l(y){return typeof y!="string"&&(y=String(y)),y}function b(y){var I={next:function(){var R=y.shift();return{done:R===void 0,value:R}}};return d.iterable&&(I[Symbol.iterator]=function(){return I}),I}function m(y){this.map={},y instanceof m?y.forEach(function(I,R){this.append(R,I)},this):Array.isArray(y)?y.forEach(function(I){if(I.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+I.length);this.append(I[0],I[1])},this):y&&Object.getOwnPropertyNames(y).forEach(function(I){this.append(I,y[I])},this)}m.prototype.append=function(y,I){y=h(y),I=l(I);var R=this.map[y];this.map[y]=R?R+", "+I:I},m.prototype.delete=function(y){delete this.map[h(y)]},m.prototype.get=function(y){return y=h(y),this.has(y)?this.map[y]:null},m.prototype.has=function(y){return this.map.hasOwnProperty(h(y))},m.prototype.set=function(y,I){this.map[h(y)]=l(I)},m.prototype.forEach=function(y,I){for(var R in this.map)this.map.hasOwnProperty(R)&&y.call(I,this.map[R],R,this)},m.prototype.keys=function(){var y=[];return this.forEach(function(I,R){y.push(R)}),b(y)},m.prototype.values=function(){var y=[];return this.forEach(function(I){y.push(I)}),b(y)},m.prototype.entries=function(){var y=[];return this.forEach(function(I,R){y.push([R,I])}),b(y)},d.iterable&&(m.prototype[Symbol.iterator]=m.prototype.entries);function g(y){if(!y._noBody){if(y.bodyUsed)return Promise.reject(new TypeError("Already read"));y.bodyUsed=!0}}function p(y){return new Promise(function(I,R){y.onload=function(){I(y.result)},y.onerror=function(){R(y.error)}})}function w(y){var I=new FileReader,R=p(I);return I.readAsArrayBuffer(y),R}function _(y){var I=new FileReader,R=p(I),H=/charset=([A-Za-z0-9_-]+)/.exec(y.type),F=H?H[1]:"utf-8";return I.readAsText(y,F),R}function v(y){for(var I=new Uint8Array(y),R=new Array(I.length),H=0;H<I.length;H++)R[H]=String.fromCharCode(I[H]);return R.join("")}function E(y){if(y.slice)return y.slice(0);var I=new Uint8Array(y.byteLength);return I.set(new Uint8Array(y)),I.buffer}function k(){return this.bodyUsed=!1,this._initBody=function(y){this.bodyUsed=this.bodyUsed,this._bodyInit=y,y?typeof y=="string"?this._bodyText=y:d.blob&&Blob.prototype.isPrototypeOf(y)?this._bodyBlob=y:d.formData&&FormData.prototype.isPrototypeOf(y)?this._bodyFormData=y:d.searchParams&&URLSearchParams.prototype.isPrototypeOf(y)?this._bodyText=y.toString():d.arrayBuffer&&d.blob&&u(y)?(this._bodyArrayBuffer=E(y.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):d.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(y)||f(y))?this._bodyArrayBuffer=E(y):this._bodyText=y=Object.prototype.toString.call(y):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof y=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):d.searchParams&&URLSearchParams.prototype.isPrototypeOf(y)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},d.blob&&(this.blob=function(){var y=g(this);if(y)return y;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var y=g(this);return y||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(d.blob)return this.blob().then(w);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var y=g(this);if(y)return y;if(this._bodyBlob)return _(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(v(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},d.formData&&(this.formData=function(){return this.text().then(B)}),this.json=function(){return this.text().then(JSON.parse)},this}var P=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function x(y){var I=y.toUpperCase();return P.indexOf(I)>-1?I:y}function j(y,I){if(!(this instanceof j))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');I=I||{};var R=I.body;if(y instanceof j){if(y.bodyUsed)throw new TypeError("Already read");this.url=y.url,this.credentials=y.credentials,I.headers||(this.headers=new m(y.headers)),this.method=y.method,this.mode=y.mode,this.signal=y.signal,!R&&y._bodyInit!=null&&(R=y._bodyInit,y.bodyUsed=!0)}else this.url=String(y);if(this.credentials=I.credentials||this.credentials||"same-origin",(I.headers||!this.headers)&&(this.headers=new m(I.headers)),this.method=x(I.method||this.method||"GET"),this.mode=I.mode||this.mode||null,this.signal=I.signal||this.signal||function(){if("AbortController"in a){var D=new AbortController;return D.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&R)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(R),(this.method==="GET"||this.method==="HEAD")&&(I.cache==="no-store"||I.cache==="no-cache")){var H=/([?&])_=[^&]*/;if(H.test(this.url))this.url=this.url.replace(H,"$1_="+new Date().getTime());else{var F=/\?/;this.url+=(F.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}j.prototype.clone=function(){return new j(this,{body:this._bodyInit})};function B(y){var I=new FormData;return y.trim().split("&").forEach(function(R){if(R){var H=R.split("="),F=H.shift().replace(/\+/g," "),D=H.join("=").replace(/\+/g," ");I.append(decodeURIComponent(F),decodeURIComponent(D))}}),I}function L(y){var I=new m,R=y.replace(/\r?\n[\t ]+/g," ");return R.split("\r").map(function(H){return H.indexOf(`
`)===0?H.substr(1,H.length):H}).forEach(function(H){var F=H.split(":"),D=F.shift().trim();if(D){var ae=F.join(":").trim();try{I.append(D,ae)}catch(we){console.warn("Response "+we.message)}}}),I}k.call(j.prototype);function $(y,I){if(!(this instanceof $))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(I||(I={}),this.type="default",this.status=I.status===void 0?200:I.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=I.statusText===void 0?"":""+I.statusText,this.headers=new m(I.headers),this.url=I.url||"",this._initBody(y)}k.call($.prototype),$.prototype.clone=function(){return new $(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})},$.error=function(){var y=new $(null,{status:200,statusText:""});return y.ok=!1,y.status=0,y.type="error",y};var Z=[301,302,303,307,308];$.redirect=function(y,I){if(Z.indexOf(I)===-1)throw new RangeError("Invalid status code");return new $(null,{status:I,headers:{location:y}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(I,R){this.message=I,this.name=R;var H=Error(I);this.stack=H.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function de(y,I){return new Promise(function(R,H){var F=new j(y,I);if(F.signal&&F.signal.aborted)return H(new o.DOMException("Aborted","AbortError"));var D=new XMLHttpRequest;function ae(){D.abort()}D.onload=function(){var se={statusText:D.statusText,headers:L(D.getAllResponseHeaders()||"")};F.url.indexOf("file://")===0&&(D.status<200||D.status>599)?se.status=200:se.status=D.status,se.url="responseURL"in D?D.responseURL:se.headers.get("X-Request-URL");var Se="response"in D?D.response:D.responseText;setTimeout(function(){R(new $(Se,se))},0)},D.onerror=function(){setTimeout(function(){H(new TypeError("Network request failed"))},0)},D.ontimeout=function(){setTimeout(function(){H(new TypeError("Network request timed out"))},0)},D.onabort=function(){setTimeout(function(){H(new o.DOMException("Aborted","AbortError"))},0)};function we(se){try{return se===""&&a.location.href?a.location.href:se}catch{return se}}if(D.open(F.method,we(F.url),!0),F.credentials==="include"?D.withCredentials=!0:F.credentials==="omit"&&(D.withCredentials=!1),"responseType"in D&&(d.blob?D.responseType="blob":d.arrayBuffer&&(D.responseType="arraybuffer")),I&&typeof I.headers=="object"&&!(I.headers instanceof m||a.Headers&&I.headers instanceof a.Headers)){var st=[];Object.getOwnPropertyNames(I.headers).forEach(function(se){st.push(h(se)),D.setRequestHeader(se,l(I.headers[se]))}),F.headers.forEach(function(se,Se){st.indexOf(Se)===-1&&D.setRequestHeader(Se,se)})}else F.headers.forEach(function(se,Se){D.setRequestHeader(Se,se)});F.signal&&(F.signal.addEventListener("abort",ae),D.onreadystatechange=function(){D.readyState===4&&F.signal.removeEventListener("abort",ae)}),D.send(typeof F._bodyInit>"u"?null:F._bodyInit)})}return de.polyfill=!0,a.fetch||(a.fetch=de,a.Headers=m,a.Request=j,a.Response=$),o.Headers=m,o.Request=j,o.Response=$,o.fetch=de,o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e}(es,es.exports)),es.exports}var GA=jA();const qA=Hc(GA);var QA=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function d(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,d)}u((r=r.apply(t,e||[])).next())})};class Mo extends Mn{constructor(e,n){if(super(),!Mo.validateClientUrl(e))throw new oi(e);this.clientUrl=e,this.httpProviderOptions=n}static validateClientUrl(e){return typeof e=="string"?/^http(s)?:\/\//i.test(e):!1}getStatus(){throw new Bt}supportsSubscriptions(){return!1}request(e,n){var r;return QA(this,void 0,void 0,function*(){const i=Object.assign(Object.assign({},(r=this.httpProviderOptions)===null||r===void 0?void 0:r.providerOptions),n),s=yield qA(this.clientUrl,Object.assign(Object.assign({},i),{method:"POST",headers:Object.assign(Object.assign({},i.headers),{"Content-Type":"application/json"}),body:JSON.stringify(e)}));if(!s.ok)throw new yt(yield s.json(),void 0,void 0,s.status);return yield s.json()})}on(){throw new Bt}removeListener(){throw new Bt}once(){throw new Bt}removeAllListeners(){throw new Bt}connect(){throw new Bt}disconnect(){throw new Bt}reset(){throw new Bt}reconnect(){throw new Bt}}var Kn=null;typeof WebSocket<"u"?Kn=WebSocket:typeof MozWebSocket<"u"?Kn=MozWebSocket:typeof global<"u"?Kn=global.WebSocket||global.MozWebSocket:typeof window<"u"?Kn=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(Kn=self.WebSocket||self.MozWebSocket);const VA=Kn,ya=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */new Uint8Array(new Uint32Array([287454020]).buffer)[0];function zA(t=32){if(ya&&typeof ya.getRandomValues=="function")return ya.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}function WA(t){var e,n;return t instanceof Uint8Array||((e=t==null?void 0:t.constructor)===null||e===void 0?void 0:e.name)==="Uint8Array"||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="Buffer"}BigInt(0),BigInt(1),BigInt(1e3),BigInt(1e3),BigInt(1e3),BigInt(1e3),BigInt(1e6),BigInt(1e6),BigInt(1e6),BigInt(1e6),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e12),BigInt(1e12),BigInt(1e12),BigInt(1e15),BigInt(1e15),BigInt(1e15),BigInt("1000000000000000000"),BigInt("1000000000000000000000"),BigInt("1000000000000000000000"),BigInt("1000000000000000000000000"),BigInt("1000000000000000000000000000"),BigInt("1000000000000000000000000000000");const KA=t=>{if(C.validate(["bytes"],[t]),WA(t))return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="string")return ke(t);throw new Pe(t)},{uint8ArrayToHexString:ZA}=Fe,JA=t=>ZA(KA(t)),Ja=A;function XA(t){return zA(t)}const YA=t=>XA(t),e_=()=>{const t=YA(16);t[6]=t[6]&15|64,t[8]=t[8]&63|128;const e=JA(t);return[e.substring(2,10),e.substring(10,14),e.substring(14,18),e.substring(18,22),e.substring(22,34)].join("-")},fh=t=>!Array.isArray(t)&&!!t&&t.jsonrpc==="2.0"&&"result"in t&&A(t.error)&&(typeof t.id=="number"||typeof t.id=="string"),lh=t=>!Array.isArray(t)&&t.jsonrpc==="2.0"&&!!t&&A(t.result)&&"error"in t&&(typeof t.id=="number"||typeof t.id=="string"),t_=t=>!Array.isArray(t)&&!!t&&t.jsonrpc==="2.0"&&!A(t.params)&&!A(t.method),xd=t=>fh(t)||lh(t),n_=t=>Array.isArray(t)?t.every(xd):xd(t),Ed=t=>Array.isArray(t)&&t.length>0&&n_(t);let r_;const vd=t=>{var e,n,r,i;return{jsonrpc:(e=t.jsonrpc)!==null&&e!==void 0?e:"2.0",id:(r=(n=t.id)!==null&&n!==void 0?n:r_)!==null&&r!==void 0?r:e_(),method:t.method,params:(i=t.params)!==null&&i!==void 0?i:void 0}},i_=t=>Array.isArray(t)&&t.length>0;var ba=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function d(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,d)}u((r=r.apply(t,e||[])).next())})},hh;let s_=class{constructor({timeout:e,eagerStart:n,timeoutMessage:r}={timeout:0,eagerStart:!1,timeoutMessage:"DeferredPromise timed out"}){this[hh]="Promise",this._state="pending",this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s}),this._timeoutMessage=r,this._timeoutInterval=e,n&&this.startTimer()}get state(){return this._state}then(e,n){return ba(this,void 0,void 0,function*(){return this._promise.then(e,n)})}catch(e){return ba(this,void 0,void 0,function*(){return this._promise.catch(e)})}finally(e){return ba(this,void 0,void 0,function*(){return this._promise.finally(e)})}resolve(e){this._resolve(e),this._state="fulfilled",this._clearTimeout()}reject(e){this._reject(e),this._state="rejected",this._clearTimeout()}startTimer(){this._timeoutInterval&&this._timeoutInterval>0&&(this._timeoutId=setTimeout(this._checkTimeout.bind(this),this._timeoutInterval))}_checkTimeout(){this._state==="pending"&&this._timeoutId&&this.reject(new So(this._timeoutMessage))}_clearTimeout(){this._timeoutId&&clearTimeout(this._timeoutId)}};hh=Symbol.toStringTag;let o_=class{constructor(e,n){this.eventEmitter=e,this.autoReconnect=n,this.chunkTimeout=1e3*15}clearQueues(){typeof this._clearQueues=="function"&&this._clearQueues()}onError(e){this._clearQueues=e}parseResponse(e){const n=[];return e.replace(/\}[\n\r]?\{/g,"}|--|{").replace(/\}\][\n\r]?\[\{/g,"}]|--|[{").replace(/\}[\n\r]?\[\{/g,"}|--|[{").replace(/\}\][\n\r]?\{/g,"}]|--|{").split("|--|").forEach(i=>{let s=i;this.lastChunk&&(s=this.lastChunk+s);let o;try{o=JSON.parse(s)}catch{this.lastChunk=s,this.lastChunkTimeout&&clearTimeout(this.lastChunkTimeout),this.lastChunkTimeout=setTimeout(()=>{this.autoReconnect||(this.clearQueues(),this.eventEmitter.emit("error",new qi({id:1,jsonrpc:"2.0",error:{code:2,message:"Chunk timeout"}})))},this.chunkTimeout);return}clearTimeout(this.lastChunkTimeout),this.lastChunk=void 0,o&&n.push(o)}),n}};var Td=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function d(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,d)}u((r=r.apply(t,e||[])).next())})};let a_=class extends Mn{constructor(){super(...arguments),this._eventEmitter=new Er,this._chainId="",this._accounts=[]}_getChainId(){return Td(this,void 0,void 0,function*(){var e;const n=yield this.request(vd({method:"eth_chainId",params:[]}));return(e=n==null?void 0:n.result)!==null&&e!==void 0?e:""})}_getAccounts(){return Td(this,void 0,void 0,function*(){var e;const n=yield this.request(vd({method:"eth_accounts",params:[]}));return(e=n==null?void 0:n.result)!==null&&e!==void 0?e:[]})}_onConnect(){Promise.all([this._getChainId().then(e=>{e!==this._chainId&&(this._chainId=e,this._eventEmitter.emit("chainChanged",this._chainId))}).catch(e=>{console.error(e)}),this._getAccounts().then(e=>{this._accounts.length===e.length&&e.every(n=>e.includes(n))||(this._accounts=e,this._onAccountsChanged())}).catch(e=>{console.error(e)})]).then(()=>this._eventEmitter.emit("connect",{chainId:this._chainId})).catch(e=>{console.error(e)})}_onDisconnect(e,n){this._eventEmitter.emit("disconnect",new Uc(e,n))}_onAccountsChanged(){this._eventEmitter.emit("accountsChanged",this._accounts)}};var wa=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function d(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,d)}u((r=r.apply(t,e||[])).next())})};const c_={autoReconnect:!0,delay:5e3,maxAttempts:5},u_=1e3;let d_=class extends a_{get SocketConnection(){return this._socketConnection}constructor(e,n,r){if(super(),this._connectionStatus="connecting",this._onMessageHandler=this._onMessage.bind(this),this._onOpenHandler=this._onConnect.bind(this),this._onCloseHandler=this._onCloseEvent.bind(this),this._onErrorHandler=this._onError.bind(this),!this._validateProviderPath(e))throw new oi(e);this._socketPath=e,this._socketOptions=n,this._reconnectOptions=Object.assign(Object.assign({},c_),r??{}),this._pendingRequestsQueue=new Map,this._sentRequestsQueue=new Map,this._init(),this.connect(),this.chunkResponseParser=new o_(this._eventEmitter,this._reconnectOptions.autoReconnect),this.chunkResponseParser.onError(()=>{this._clearQueues()}),this.isReconnecting=!1}_init(){this._reconnectAttempts=0}connect(){try{this._openSocketConnection(),this._connectionStatus="connecting",this._addSocketListeners()}catch(e){if(this.isReconnecting)setImmediate(()=>{this._reconnect()});else throw this._connectionStatus="disconnected",e&&e.message?new _r(`Error while connecting to ${this._socketPath}. Reason: ${e.message}`):new oi(this._socketPath)}}_validateProviderPath(e){return!!e}getPendingRequestQueueSize(){return this._pendingRequestsQueue.size}getSentRequestsQueueSize(){return this._sentRequestsQueue.size}supportsSubscriptions(){return!0}on(e,n){this._eventEmitter.on(e,n)}once(e,n){this._eventEmitter.once(e,n)}removeListener(e,n){this._eventEmitter.removeListener(e,n)}_onDisconnect(e,n){this._connectionStatus="disconnected",super._onDisconnect(e,n)}disconnect(e,n){const r=e??u_;this._removeSocketListeners(),this.getStatus()!=="disconnected"&&this._closeSocketConnection(r,n),this._onDisconnect(r,n)}safeDisconnect(e,n){return wa(this,arguments,void 0,function*(r,i,s=!1,o=1e3){let a=0;yield wa(this,void 0,void 0,function*(){return new Promise(u=>{const c=setInterval(()=>{s&&a>=5&&this.clearQueues(),this.getPendingRequestQueueSize()===0&&this.getSentRequestsQueueSize()===0&&(clearInterval(c),u(!0)),a+=1},o)})}),this.disconnect(r,i)})}removeAllListeners(e){this._eventEmitter.removeAllListeners(e)}_onError(e){this.isReconnecting?this._reconnect():this._eventEmitter.emit("error",e)}reset(){this._sentRequestsQueue.clear(),this._pendingRequestsQueue.clear(),this._init(),this._removeSocketListeners(),this._addSocketListeners()}_reconnect(){this.isReconnecting||(this.isReconnecting=!0,this._sentRequestsQueue.size>0&&this._sentRequestsQueue.forEach((e,n)=>{e.deferredPromise.reject(new vl),this._sentRequestsQueue.delete(n)}),this._reconnectAttempts<this._reconnectOptions.maxAttempts?(this._reconnectAttempts+=1,setTimeout(()=>{this._removeSocketListeners(),this.connect(),this.isReconnecting=!1},this._reconnectOptions.delay)):(this.isReconnecting=!1,this._clearQueues(),this._removeSocketListeners(),this._eventEmitter.emit("error",new El(this._reconnectOptions.maxAttempts))))}request(e){return wa(this,void 0,void 0,function*(){if(Ja(this._socketConnection))throw new Error("Connection is undefined");this.getStatus()==="disconnected"&&this.connect();const n=i_(e)?e[0].id:e.id;if(!n)throw new Bl("Request Id not defined");if(this._sentRequestsQueue.has(n))throw new Tl(n);const r=new s_;r.catch(s=>{this._eventEmitter.emit("error",s)});const i={payload:e,deferredPromise:r};if(this.getStatus()==="connecting")return this._pendingRequestsQueue.set(n,i),i.deferredPromise;this._sentRequestsQueue.set(n,i);try{this._sendToSocket(i.payload)}catch(s){this._sentRequestsQueue.delete(n),this._eventEmitter.emit("error",s)}return r})}_onConnect(){this._connectionStatus="connected",this._reconnectAttempts=0,super._onConnect(),this._sendPendingRequests()}_sendPendingRequests(){for(const[e,n]of this._pendingRequestsQueue.entries())try{this._sendToSocket(n.payload),this._pendingRequestsQueue.delete(e),this._sentRequestsQueue.set(e,n)}catch(r){this._pendingRequestsQueue.delete(e),this._eventEmitter.emit("error",r)}}_onMessage(e){const n=this._parseResponses(e);if(!(Ja(n)||n.length===0))for(const r of n){if(t_(r)&&r.method.endsWith("_subscription")){this._eventEmitter.emit("message",r);return}const i=Ed(r)?r[0].id:r.id,s=this._sentRequestsQueue.get(i);if(!s)return;(Ed(r)||fh(r)||lh(r))&&(this._eventEmitter.emit("message",r),s.deferredPromise.resolve(r)),this._sentRequestsQueue.delete(i)}}clearQueues(e){this._clearQueues(e)}_clearQueues(e){this._pendingRequestsQueue.size>0&&this._pendingRequestsQueue.forEach((n,r)=>{n.deferredPromise.reject(new si(e)),this._pendingRequestsQueue.delete(r)}),this._sentRequestsQueue.size>0&&this._sentRequestsQueue.forEach((n,r)=>{n.deferredPromise.reject(new si(e)),this._sentRequestsQueue.delete(r)}),this._removeSocketListeners()}};class ph extends d_{constructor(e,n,r){super(e,n,r)}_validateProviderPath(e){return typeof e=="string"?/^ws(s)?:\/\//i.test(e):!1}getStatus(){if(this._socketConnection&&!Ja(this._socketConnection))switch(this._socketConnection.readyState){case this._socketConnection.CONNECTING:return"connecting";case this._socketConnection.OPEN:return"connected";default:return"disconnected"}return"disconnected"}_openSocketConnection(){this._socketConnection=new VA(this._socketPath,void 0,this._socketOptions&&Object.keys(this._socketOptions).length===0?void 0:this._socketOptions)}_closeSocketConnection(e,n){var r;(r=this._socketConnection)===null||r===void 0||r.close(e,n)}_sendToSocket(e){var n;if(this.getStatus()==="disconnected")throw new si;(n=this._socketConnection)===null||n===void 0||n.send(JSON.stringify(e))}_parseResponses(e){return this.chunkResponseParser.parseResponse(e.data)}_addSocketListeners(){var e,n,r,i;(e=this._socketConnection)===null||e===void 0||e.addEventListener("open",this._onOpenHandler),(n=this._socketConnection)===null||n===void 0||n.addEventListener("message",this._onMessageHandler),(r=this._socketConnection)===null||r===void 0||r.addEventListener("close",s=>this._onCloseHandler(s)),(i=this._socketConnection)===null||i===void 0||i.addEventListener("error",this._onErrorHandler)}_removeSocketListeners(){var e,n,r;(e=this._socketConnection)===null||e===void 0||e.removeEventListener("message",this._onMessageHandler),(n=this._socketConnection)===null||n===void 0||n.removeEventListener("open",this._onOpenHandler),(r=this._socketConnection)===null||r===void 0||r.removeEventListener("close",this._onCloseHandler)}_onCloseEvent(e){var n;if(this._reconnectOptions.autoReconnect&&(![1e3,1001].includes(e.code)||!e.wasClean)){this._reconnect();return}this._clearQueues(e),this._removeSocketListeners(),this._onDisconnect(e.code,e.reason),(n=this._socketConnection)===null||n===void 0||n.removeEventListener("error",this._onErrorHandler)}}const mh=t=>Mn.isWeb3Provider(t),gh=t=>typeof t!="string"&&"request"in t&&t.request.constructor.name==="Function",yh=t=>typeof t!="string"&&"request"in t&&t.request.constructor.name==="AsyncFunction",bh=t=>typeof t!="string"&&"send"in t,wh=t=>typeof t!="string"&&"sendAsync"in t,zs=t=>t&&(mh(t)||yh(t)||gh(t)||wh(t)||bh(t)),f_=t=>t&&"supportsSubscriptions"in t?t.supportsSubscriptions():!!(t&&typeof t!="string"&&"on"in t);var Aa=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function d(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,d)}u((r=r.apply(t,e||[])).next())})},dr;(function(t){t.PROVIDER_CHANGED="PROVIDER_CHANGED",t.BEFORE_PROVIDER_CHANGE="BEFORE_PROVIDER_CHANGE"})(dr||(dr={}));const Bd={HttpProvider:Mo,WebsocketProvider:ph};class _n extends Lo{constructor(e,n,r){super(),me(e)||this.setProvider(e),this.useRpcCallSpecification=n,me(r)||(this.middleware=r)}static get providers(){return Bd}get provider(){return this._provider}get providers(){return Bd}setProvider(e){let n;if(e&&typeof e=="string"&&this.providers)if(/^http(s)?:\/\//i.test(e))n=new this.providers.HttpProvider(e);else if(/^ws(s)?:\/\//i.test(e))n=new this.providers.WebsocketProvider(e);else throw new gs(`Can't autodetect provider for "${e}"`);else me(e)?n=void 0:n=e;return this.emit(dr.BEFORE_PROVIDER_CHANGE,this._provider),this._provider=n,this.emit(dr.PROVIDER_CHANGED,this._provider),!0}setMiddleware(e){this.middleware=e}send(e){return Aa(this,void 0,void 0,function*(){const n=Object.assign({},e);let r=yield this._sendRequest(n);if(me(this.middleware)||(r=yield this.middleware.processResponse(r)),ti(r))return r.result;throw new yt(r)})}sendBatch(e){return Aa(this,void 0,void 0,function*(){return yield this._sendRequest(e)})}_sendRequest(e){return Aa(this,void 0,void 0,function*(){const{provider:n}=this;if(me(n))throw new gs("Provider not available. Use `.setProvider` or `.provider=` to initialize the provider.");let r=cn(e)?UA(e):zc(e);if(me(this.middleware)||(r=yield this.middleware.processRequest(r)),mh(n)){let i;try{i=yield n.request(r)}catch(s){i=s}return this._processJsonRpcResponse(r,i,{legacy:!1,error:!1})}if(yh(n))return n.request(r).then(i=>this._processJsonRpcResponse(r,i,{legacy:!0,error:!1})).catch(i=>this._processJsonRpcResponse(r,i,{legacy:!0,error:!0}));if(gh(n))return new Promise((i,s)=>{const o=u=>{s(this._processJsonRpcResponse(r,u,{legacy:!0,error:!0}))},a=u=>i(this._processJsonRpcResponse(r,u,{legacy:!0,error:!1})),d=n.request(r,(u,c)=>u?o(u):a(c));OA(d)&&d.then(a).catch(c=>{try{const f=this._processJsonRpcResponse(r,c,{legacy:!0,error:!0});s(f)}catch(f){s(f)}})});if(bh(n))return new Promise((i,s)=>{n.send(r,(o,a)=>{if(o)return s(this._processJsonRpcResponse(r,o,{legacy:!0,error:!0}));if(me(a))throw new yt({},'Got a "nullish" response from provider.');return i(this._processJsonRpcResponse(r,a,{legacy:!0,error:!1}))})});if(wh(n))return n.sendAsync(r).then(i=>this._processJsonRpcResponse(r,i,{legacy:!0,error:!1})).catch(i=>this._processJsonRpcResponse(r,i,{legacy:!0,error:!0}));throw new gs("Provider does not have a request or send method to use.")})}_processJsonRpcResponse(e,n,{legacy:r,error:i}){if(me(n))return this._buildResponse(e,null,i);if(ni(n)){if(this.useRpcCallSpecification&&LA(n)){const s=n;if(Oe.get(s.error.code)){const o=Oe.get(s.error.code).error;throw new o(s)}else throw new Xe(s)}else if(!_n._isReverted(n))throw new qi(n,e)}if(ti(n))return n;if(n instanceof Error)throw _n._isReverted(n),n;if(!r&&cn(e)&&HA(n)||r&&!i&&cn(e))return n;if(r&&i&&cn(e))throw n;if(r&&!ni(n)&&!ti(n))return this._buildResponse(e,n,i);throw cn(e)&&!Array.isArray(n)?new yt(n,"Got normal response for a batch request."):!cn(e)&&Array.isArray(n)?new yt(n,"Got batch response for a normal request."):new yt(n,"Invalid response")}static _isReverted(e){let n;if(ni(e)?n=e.error:e instanceof Error&&(n=e),n!=null&&n.message.includes("revert"))throw new wn(n);return!1}_buildResponse(e,n,r){const i={jsonrpc:"2.0",id:cn(e)?e[0].id:"id"in e?e.id:null};return r?Object.assign(Object.assign({},i),{error:n}):Object.assign(Object.assign({},i),{result:n})}}var Nr=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function d(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,d)}u((r=r.apply(t,e||[])).next())})};class Ws{constructor(e,n,r=!1){this.requestManager=e,this.registeredSubscriptions=n,this.tolerateUnlinkedSubscription=r,this._subscriptions=new Map,this.requestManager.on(dr.BEFORE_PROVIDER_CHANGE,()=>Nr(this,void 0,void 0,function*(){yield this.unsubscribe()})),this.requestManager.on(dr.PROVIDER_CHANGED,()=>{this.clear(),this.listenToProviderEvents()}),this.listenToProviderEvents()}listenToProviderEvents(){const e=this.requestManager.provider;!this.requestManager.provider||typeof(e==null?void 0:e.supportsSubscriptions)=="function"&&!(e!=null&&e.supportsSubscriptions())||typeof this.requestManager.provider.on=="function"&&(typeof this.requestManager.provider.request=="function"?this.requestManager.provider.on("message",n=>this.messageListener(n)):e.on("data",n=>this.messageListener(n)))}messageListener(e){var n,r,i;if(!e)throw new Ot("Should not call messageListener with no data. Type was");const s=((n=e.params)===null||n===void 0?void 0:n.subscription)||((r=e.data)===null||r===void 0?void 0:r.subscription)||((i=e.id)===null||i===void 0?void 0:i.toString(16));if(s){const o=this._subscriptions.get(s);o==null||o.processSubscriptionData(e)}}subscribe(e,n){return Nr(this,arguments,void 0,function*(r,i,s=Te){const o=this.registeredSubscriptions[r];if(!o)throw new Ot("Invalid subscription type");const a=new o(i??void 0,{subscriptionManager:this,returnFormat:s});return yield this.addSubscription(a),a})}get subscriptions(){return this._subscriptions}addSubscription(e){return Nr(this,void 0,void 0,function*(){if(!this.requestManager.provider)throw new gs("Provider not available");if(!this.supportsSubscriptions())throw new Ot("The current provider does not support subscriptions");if(e.id&&this._subscriptions.has(e.id))throw new Ot(`Subscription with id "${e.id}" already exists`);if(yield e.sendSubscriptionRequest(),me(e.id))throw new Ot("Subscription is not subscribed yet.");return this._subscriptions.set(e.id,e),e.id})}removeSubscription(e){return Nr(this,void 0,void 0,function*(){const{id:n}=e;if(me(n))throw new Ot("Subscription is not subscribed yet. Or, had already been unsubscribed but not through the Subscription Manager.");if(!this._subscriptions.has(n)&&!this.tolerateUnlinkedSubscription)throw new Ot(`Subscription with id "${n.toString()}" does not exists`);return yield e.sendUnsubscribeRequest(),this._subscriptions.delete(n),n})}unsubscribe(e){return Nr(this,void 0,void 0,function*(){const n=[];for(const[r,i]of this.subscriptions.entries())(!e||typeof e=="function"&&e({id:r,sub:i}))&&n.push(this.removeSubscription(i));return Promise.all(n)})}clear(){this._subscriptions.clear()}supportsSubscriptions(){return me(this.requestManager.provider)?!1:f_(this.requestManager.provider)}}var Lr=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function d(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,d)}u((r=r.apply(t,e||[])).next())})};class Vi extends Lo{constructor(e,n){var r;super(),this.args=e;const{requestManager:i}=n,{subscriptionManager:s}=n;i?this._subscriptionManager=new Ws(i,{},!0):this._subscriptionManager=s,this._returnFormat=(r=n==null?void 0:n.returnFormat)!==null&&r!==void 0?r:Te}get id(){return this._id}get lastBlock(){return this._lastBlock}subscribe(){return Lr(this,void 0,void 0,function*(){return this._subscriptionManager.addSubscription(this)})}processSubscriptionData(e){var n,r;e!=null&&e.data?this._processSubscriptionResult((r=(n=e==null?void 0:e.data)===null||n===void 0?void 0:n.result)!==null&&r!==void 0?r:e==null?void 0:e.data):e&&MA(e)&&this._processSubscriptionResult(e==null?void 0:e.params.result)}sendSubscriptionRequest(){return Lr(this,void 0,void 0,function*(){return this._id=yield this._subscriptionManager.requestManager.send({method:"eth_subscribe",params:this._buildSubscriptionParams()}),this.emit("connected",this._id),this._id})}get returnFormat(){return this._returnFormat}get subscriptionManager(){return this._subscriptionManager}resubscribe(){return Lr(this,void 0,void 0,function*(){yield this.unsubscribe(),yield this.subscribe()})}unsubscribe(){return Lr(this,void 0,void 0,function*(){this.id&&(yield this._subscriptionManager.removeSubscription(this))})}sendUnsubscribeRequest(){return Lr(this,void 0,void 0,function*(){yield this._subscriptionManager.requestManager.send({method:"eth_unsubscribe",params:[this.id]}),this._id=void 0})}formatSubscriptionResult(e){return e}_processSubscriptionResult(e){this.emit("data",this.formatSubscriptionResult(e))}_processSubscriptionError(e){this.emit("error",e)}_buildSubscriptionParams(){throw new Error("Implement in the child class")}}var Gn=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function d(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,d)}u((r=r.apply(t,e||[])).next())})};class Ks extends Zm{constructor(){super(...arguments),this._addressMap=new Map,this._defaultKeyName="web3js_wallet"}static getStorage(){let e;try{e=window.localStorage;const n="__storage_test__";return e.setItem(n,n),e.removeItem(n),e}catch(n){return n&&(n.code===22||n.code===1014||n.name==="QuotaExceededError"||n.name==="NS_ERROR_DOM_QUOTA_REACHED")&&!A(e)&&e.length!==0?e:void 0}}create(e){for(let n=0;n<e;n+=1)this.add(this._accountProvider.create());return this}add(e){var n;if(typeof e=="string")return this.add(this._accountProvider.privateKeyToAccount(e));let r=this.length;return this.get(e.address)&&(console.warn(`Account ${e.address.toLowerCase()} already exists.`),r=(n=this._addressMap.get(e.address.toLowerCase()))!==null&&n!==void 0?n:r),this._addressMap.set(e.address.toLowerCase(),r),this[r]=e,this}get(e){if(typeof e=="string"){const n=this._addressMap.get(e.toLowerCase());return A(n)?void 0:this[n]}return this[e]}remove(e){if(typeof e=="string"){const n=this._addressMap.get(e.toLowerCase());return A(n)?!1:(this._addressMap.delete(e.toLowerCase()),this.splice(n,1),!0)}return this[e]?(this.splice(e,1),!0):!1}clear(){return this._addressMap.clear(),this.length=0,this}encrypt(e,n){return Gn(this,void 0,void 0,function*(){return Promise.all(this.map(r=>Gn(this,void 0,void 0,function*(){return r.encrypt(e,n)})))})}decrypt(e,n,r){return Gn(this,void 0,void 0,function*(){const i=yield Promise.all(e.map(s=>Gn(this,void 0,void 0,function*(){return this._accountProvider.decrypt(s,n,r)})));for(const s of i)this.add(s);return this})}save(e,n){return Gn(this,void 0,void 0,function*(){const r=Ks.getStorage();if(!r)throw new Error("Local storage not available.");return r.setItem(n??this._defaultKeyName,JSON.stringify(yield this.encrypt(e))),!0})}load(e,n){return Gn(this,void 0,void 0,function*(){const r=Ks.getStorage();if(!r)throw new Error("Local storage not available.");const i=r.getItem(n??this._defaultKeyName);return i&&(yield this.decrypt(JSON.parse(i)||[],e)),this})}}const ys=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function Ge(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function l_(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function h_(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function vr(t,...e){if(!h_(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function Wc(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Ge(t.outputLen),Ge(t.blockLen)}function Cn(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Kc(t,e){vr(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Ah={number:Ge,bool:l_,bytes:vr,hash:Wc,exists:Cn,output:Kc};/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const bs=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),ws=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),pt=(t,e)=>t<<32-e|t>>>e,re=(t,e)=>t<<e|t>>>32-e>>>0,Zs=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,p_=t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255;function Js(t){for(let e=0;e<t.length;e++)t[e]=p_(t[e])}function _i(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function fr(t){return typeof t=="string"&&(t=_i(t)),vr(t),t}function Xa(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];vr(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}let Zc=class{clone(){return this._cloneInto()}};const m_={}.toString;function _h(t,e){if(e!==void 0&&m_.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(t,e)}function Ih(t){const e=r=>t().update(fr(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function g_(t=32){if(ys&&typeof ys.getRandomValues=="function")return ys.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}const Xs=Ah.bytes;function y_(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function b_(t){return e=>(Ah.bytes(e),t(e))}(()=>{const t=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,e=typeof module<"u"&&typeof module.require=="function"&&module.require.bind(module);return{node:e&&!t?e("crypto"):void 0,web:t}})();const At={web:ys};function xh(t,e,n){if(!n.startsWith("aes-"))throw new Error(`AES submodule doesn't support mode ${n}`);if(e.length!==16)throw new Error("AES: wrong IV length");if(n.startsWith("aes-128")&&t.length!==16||n.startsWith("aes-256")&&t.length!==32)throw new Error("AES: wrong key length")}async function Eh(t,e,n){if(!At.web)throw new Error("Browser crypto not available.");let r;if(["aes-128-cbc","aes-256-cbc"].includes(t)&&(r="cbc"),["aes-128-ctr","aes-256-ctr"].includes(t)&&(r="ctr"),!r)throw new Error("AES: unsupported mode");return[await At.web.subtle.importKey("raw",e,{name:`AES-${r.toUpperCase()}`,length:e.length*8},!0,["encrypt","decrypt"]),{name:`aes-${r}`,iv:n,counter:n,length:128}]}async function Jc(t,e,n,r="aes-128-ctr",i=!0){if(xh(e,n,r),At.web){const[s,o]=await Eh(r,e,n),a=await At.web.subtle.encrypt(o,s,t);let d=new Uint8Array(a);return!i&&o.name==="aes-cbc"&&!(t.length%16)&&(d=d.slice(0,-16)),d}else if(At.node){const s=At.node.createCipheriv(r,e,n);return s.setAutoPadding(i),Xa(s.update(t),s.final())}else throw new Error("The environment doesn't have AES module")}async function w_(t,e,n,r){const i=t.slice(-16);for(let o=0;o<16;o++)i[o]^=n[o]^16;return(await Jc(i,e,n,r)).slice(0,16)}async function A_(t,e,n,r="aes-128-ctr",i=!0){if(xh(e,n,r),At.web){const[s,o]=await Eh(r,e,n);if(!i&&o.name==="aes-cbc"){const u=await w_(t,e,n,r);t=Xa(t,u)}const a=await At.web.subtle.decrypt(o,s,t),d=new Uint8Array(a);if(o.name==="aes-cbc"){const u=await Jc(d,e,n,r);if(!y_(u,t))throw new Error("AES: wrong padding")}return d}else if(At.node){const s=At.node.createDecipheriv(r,e,n);return s.setAutoPadding(i),Xa(s.update(t),s.final())}else throw new Error("The environment doesn't have AES module")}let vh=class extends Zc{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,Wc(e);const r=fr(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return Cn(this),this.iHash.update(e),this}digestInto(e){Cn(this),vr(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const Th=(t,e,n)=>new vh(t,e).update(n).digest();Th.create=(t,e)=>new vh(t,e);function __(t,e,n,r){Wc(t);const i=_h({dkLen:32,asyncTick:10},r),{c:s,dkLen:o,asyncTick:a}=i;if(Ge(s),Ge(o),Ge(a),s<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const d=fr(e),u=fr(n),c=new Uint8Array(o),f=Th.create(t,d),h=f._cloneInto().update(u);return{c:s,dkLen:o,asyncTick:a,DK:c,PRF:f,PRFSalt:h}}function I_(t,e,n,r,i){return t.destroy(),e.destroy(),r&&r.destroy(),i.fill(0),n}function Xc(t,e,n,r){const{c:i,dkLen:s,DK:o,PRF:a,PRFSalt:d}=__(t,e,n,r);let u;const c=new Uint8Array(4),f=ws(c),h=new Uint8Array(a.outputLen);for(let l=1,b=0;b<s;l++,b+=a.outputLen){const m=o.subarray(b,b+a.outputLen);f.setInt32(0,l,!1),(u=d._cloneInto(u)).update(c).digestInto(h),m.set(h.subarray(0,m.length));for(let g=1;g<i;g++){a._cloneInto(u).update(h).digestInto(h);for(let p=0;p<m.length;p++)m[p]^=h[p]}}return I_(a,d,o,u,h)}function x_(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),d=r?4:0,u=r?0:4;t.setUint32(e+d,o,r),t.setUint32(e+u,a,r)}const E_=(t,e,n)=>t&e^~t&n,v_=(t,e,n)=>t&e^t&n^e&n;let T_=class extends Zc{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=ws(this.buffer)}update(e){Cn(this);const{view:n,buffer:r,blockLen:i}=this;e=fr(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const d=ws(e);for(;i<=s-o;o+=i)this.process(d,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Cn(this),Kc(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let f=o;f<i;f++)n[f]=0;x_(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=ws(e),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=d/4,c=this.get();if(u>c.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,c[f],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}};const B_=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Kt=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Zt=new Uint32Array(64);let k_=class extends T_{constructor(){super(64,32,8,!1),this.A=Kt[0]|0,this.B=Kt[1]|0,this.C=Kt[2]|0,this.D=Kt[3]|0,this.E=Kt[4]|0,this.F=Kt[5]|0,this.G=Kt[6]|0,this.H=Kt[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:d}=this;return[e,n,r,i,s,o,a,d]}set(e,n,r,i,s,o,a,d){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=d|0}process(e,n){for(let f=0;f<16;f++,n+=4)Zt[f]=e.getUint32(n,!1);for(let f=16;f<64;f++){const h=Zt[f-15],l=Zt[f-2],b=pt(h,7)^pt(h,18)^h>>>3,m=pt(l,17)^pt(l,19)^l>>>10;Zt[f]=m+Zt[f-7]+b+Zt[f-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:d,G:u,H:c}=this;for(let f=0;f<64;f++){const h=pt(a,6)^pt(a,11)^pt(a,25),l=c+h+E_(a,d,u)+B_[f]+Zt[f]|0,m=(pt(r,2)^pt(r,13)^pt(r,22))+v_(r,i,s)|0;c=u,u=d,d=a,a=o+l|0,o=s,s=i,i=r,r=l+m|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,d=d+this.F|0,u=u+this.G|0,c=c+this.H|0,this.set(r,i,s,o,a,d,u,c)}roundClean(){Zt.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const Yc=Ih(()=>new k_),ts=BigInt(2**32-1),kd=BigInt(32);function S_(t,e=!1){return e?{h:Number(t&ts),l:Number(t>>kd&ts)}:{h:Number(t>>kd&ts)|0,l:Number(t&ts)|0}}function R_(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=S_(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const C_=(t,e,n)=>t<<n|e>>>32-n,P_=(t,e,n)=>e<<n|t>>>32-n,O_=(t,e,n)=>e<<n-32|t>>>64-n,N_=(t,e,n)=>t<<n-32|e>>>64-n;function Bh(t,e,n,r,i){if(!["sha256","sha512"].includes(i))throw new Error("Only sha256 and sha512 are supported");return Xs(t),Xs(e),Xc(Yc,t,e,{c:n,dkLen:r})}function Sd(t,e,n,r,i,s){let o=t[e++]^n[r++],a=t[e++]^n[r++],d=t[e++]^n[r++],u=t[e++]^n[r++],c=t[e++]^n[r++],f=t[e++]^n[r++],h=t[e++]^n[r++],l=t[e++]^n[r++],b=t[e++]^n[r++],m=t[e++]^n[r++],g=t[e++]^n[r++],p=t[e++]^n[r++],w=t[e++]^n[r++],_=t[e++]^n[r++],v=t[e++]^n[r++],E=t[e++]^n[r++],k=o,P=a,x=d,j=u,B=c,L=f,$=h,Z=l,de=b,y=m,I=g,R=p,H=w,F=_,D=v,ae=E;for(let we=0;we<8;we+=2)B^=re(k+H|0,7),de^=re(B+k|0,9),H^=re(de+B|0,13),k^=re(H+de|0,18),y^=re(L+P|0,7),F^=re(y+L|0,9),P^=re(F+y|0,13),L^=re(P+F|0,18),D^=re(I+$|0,7),x^=re(D+I|0,9),$^=re(x+D|0,13),I^=re($+x|0,18),j^=re(ae+R|0,7),Z^=re(j+ae|0,9),R^=re(Z+j|0,13),ae^=re(R+Z|0,18),P^=re(k+j|0,7),x^=re(P+k|0,9),j^=re(x+P|0,13),k^=re(j+x|0,18),$^=re(L+B|0,7),Z^=re($+L|0,9),B^=re(Z+$|0,13),L^=re(B+Z|0,18),R^=re(I+y|0,7),de^=re(R+I|0,9),y^=re(de+R|0,13),I^=re(y+de|0,18),H^=re(ae+D|0,7),F^=re(H+ae|0,9),D^=re(F+H|0,13),ae^=re(D+F|0,18);i[s++]=o+k|0,i[s++]=a+P|0,i[s++]=d+x|0,i[s++]=u+j|0,i[s++]=c+B|0,i[s++]=f+L|0,i[s++]=h+$|0,i[s++]=l+Z|0,i[s++]=b+de|0,i[s++]=m+y|0,i[s++]=g+I|0,i[s++]=p+R|0,i[s++]=w+H|0,i[s++]=_+F|0,i[s++]=v+D|0,i[s++]=E+ae|0}function _a(t,e,n,r,i){let s=r+0,o=r+16*i;for(let a=0;a<16;a++)n[o+a]=t[e+(2*i-1)*16+a];for(let a=0;a<i;a++,s+=16,e+=16)Sd(n,o,t,e,n,s),a>0&&(o+=16),Sd(n,s,t,e+=16,n,o)}function L_(t,e,n){const r=_h({dkLen:32,asyncTick:10,maxmem:1073742848},n),{N:i,r:s,p:o,dkLen:a,asyncTick:d,maxmem:u,onProgress:c}=r;if(Ge(i),Ge(s),Ge(o),Ge(a),Ge(d),Ge(u),c!==void 0&&typeof c!="function")throw new Error("progressCb should be function");const f=128*s,h=f/4;if(i<=1||i&i-1||i>=2**(f/8)||i>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(o<0||o>(2**32-1)*32/f)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(a<0||a>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");const l=f*(i+o);if(l>u)throw new Error(`Scrypt: parameters too large, ${l} (128 * r * (N + p)) > ${u} (maxmem)`);const b=Xc(Yc,t,e,{c:1,dkLen:f*o}),m=bs(b),g=bs(new Uint8Array(f*i)),p=bs(new Uint8Array(f));let w=()=>{};if(c){const _=2*i*o,v=Math.max(Math.floor(_/1e4),1);let E=0;w=()=>{E++,c&&(!(E%v)||E===_)&&c(E/_)}}return{N:i,r:s,p:o,dkLen:a,blockSize32:h,V:g,B32:m,B:b,tmp:p,blockMixCb:w,asyncTick:d}}function M_(t,e,n,r,i){const s=Xc(Yc,t,n,{c:1,dkLen:e});return n.fill(0),r.fill(0),i.fill(0),s}function $_(t,e,n){const{N:r,r:i,p:s,dkLen:o,blockSize32:a,V:d,B32:u,B:c,tmp:f,blockMixCb:h}=L_(t,e,n);Zs||Js(u);for(let l=0;l<s;l++){const b=a*l;for(let m=0;m<a;m++)d[m]=u[b+m];for(let m=0,g=0;m<r-1;m++)_a(d,g,d,g+=a,i),h();_a(d,(r-1)*a,u,b,i),h();for(let m=0;m<r;m++){const g=u[b+a-16]%r;for(let p=0;p<a;p++)f[p]=u[b+p]^d[g*a+p];_a(f,0,u,b,i),h()}}return Zs||Js(u),M_(t,o,c,d,f)}function kh(t,e,n,r,i,s,o){return Xs(t),Xs(e),$_(t,e,{N:n,r:i,p:r,dkLen:s,onProgress:o})}const Sh=[],Rh=[],Ch=[],H_=BigInt(0),Mr=BigInt(1),D_=BigInt(2),U_=BigInt(7),F_=BigInt(256),j_=BigInt(113);for(let t=0,e=Mr,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],Sh.push(2*(5*r+n)),Rh.push((t+1)*(t+2)/2%64);let i=H_;for(let s=0;s<7;s++)e=(e<<Mr^(e>>U_)*j_)%F_,e&D_&&(i^=Mr<<(Mr<<BigInt(s))-Mr);Ch.push(i)}const[G_,q_]=R_(Ch,!0),Rd=(t,e,n)=>n>32?O_(t,e,n):C_(t,e,n),Cd=(t,e,n)=>n>32?N_(t,e,n):P_(t,e,n);function Q_(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,d=(o+2)%10,u=n[d],c=n[d+1],f=Rd(u,c,1)^n[a],h=Cd(u,c,1)^n[a+1];for(let l=0;l<50;l+=10)t[o+l]^=f,t[o+l+1]^=h}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=Rh[o],d=Rd(i,s,a),u=Cd(i,s,a),c=Sh[o];i=t[c],s=t[c+1],t[c]=d,t[c+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=G_[r],t[1]^=q_[r]}n.fill(0)}let V_=class Ph extends Zc{constructor(e,n,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Ge(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=bs(this.state)}keccak(){Zs||Js(this.state32),Q_(this.state32,this.rounds),Zs||Js(this.state32),this.posOut=0,this.pos=0}update(e){Cn(this);const{blockLen:n,state:r}=this;e=fr(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Cn(this,!1),vr(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Ge(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Kc(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new Ph(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const z_=(t,e,n)=>Ih(()=>new V_(e,t,n)),Pd=z_(1,136,256/8),Ke=(()=>{const t=b_(Pd);return t.create=Pd.create,t})();function zi(t){var e,n;return t instanceof Uint8Array||((e=t==null?void 0:t.constructor)===null||e===void 0?void 0:e.name)==="Uint8Array"||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="Buffer"}function Ut(...t){const e=t.reduce((i,s)=>i+s.length,0),n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}function eu(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let n=0;n<t.byteLength;n+=1)if(t[n]!==e[n])return!1;return!0}BigInt(0),BigInt(1),BigInt(1e3),BigInt(1e3),BigInt(1e3),BigInt(1e3),BigInt(1e6),BigInt(1e6),BigInt(1e6),BigInt(1e6),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e12),BigInt(1e12),BigInt(1e12),BigInt(1e15),BigInt(1e15),BigInt(1e15),BigInt("1000000000000000000"),BigInt("1000000000000000000000"),BigInt("1000000000000000000000"),BigInt("1000000000000000000000000"),BigInt("1000000000000000000000000000"),BigInt("1000000000000000000000000000000");const Ii=t=>{if(C.validate(["bytes"],[t]),zi(t))return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="string")return ke(t);throw new Pe(t)},{uint8ArrayToHexString:W_}=Fe,oe=t=>W_(Ii(t)),xe=t=>typeof t=="string"&&t.slice(0,2).toLowerCase()!=="0x"?Ii(`0x${t}`):Ii(t),Oh=(t,e)=>{typeof t!="bigint"&&C.validate(["int"],[t]);let n=Tt(t);return e&&(!n.startsWith("-")&&n.length%2===1?n="0x0".concat(n.slice(2)):n.length%2===0&&n.startsWith("-")&&(n="-0x0".concat(n.slice(3)))),n},$o=t=>{C.validate(["string"],[t]);let e=t.replace(/^(?:\u0000)/,"");return e=e.replace(/(?:\u0000)$/,""),oe(new TextEncoder().encode(e))},K_=$o,Z_=_i,tu=t=>{if(!be(t,!1))throw new qt(t);const e=t.toLowerCase().replace(/^0x/i,""),n=De(Ke(Ue(Z_(e))));if(A(n)||n==="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470")return"";let r="0x";const i=n.replace(/^0x/i,"");for(let s=0;s<e.length;s+=1)parseInt(i[s],16)>7?r+=e[s].toUpperCase():r+=e[s];return r};let J_=class extends Er{constructor(){super(...arguments),this.maxListeners=Number.MAX_SAFE_INTEGER}setMaxListeners(e){return this.maxListeners=e,this}getMaxListeners(){return this.maxListeners}};const Nh="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",X_=t=>{let e;return typeof t=="bigint"||typeof t=="number"?e=_i(t.toString()):Array.isArray(t)?e=new Uint8Array(t):typeof t=="string"&&!G(t)?e=_i(t):e=Ii(t),oe(Ke(Ue(e)))},Y_=t=>{let e;typeof t=="string"?t.startsWith("0x")&&G(t)?e=xe(t):e=_i(t):e=t;const n=X_(e);return n===Nh?void 0:n},Tr=t=>{const e=Y_(t);return A(e)?Nh:e};function e1(t){return g_(t)}const Ya=t=>e1(t),t1=()=>{const t=Ya(16);t[6]=t[6]&15|64,t[8]=t[8]&63|128;const e=oe(t);return[e.substring(2,10),e.substring(10,14),e.substring(14,18),e.substring(18,22),e.substring(22,34)].join("-")};function Od(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function n1(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function Ho(t,...e){if(!n1(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function r1(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Od(t.outputLen),Od(t.blockLen)}function Ys(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function i1(t,e){Ho(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Ia=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const xa=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),mt=(t,e)=>t<<32-e|t>>>e;new Uint8Array(new Uint32Array([287454020]).buffer)[0];function s1(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function nu(t){return typeof t=="string"&&(t=s1(t)),Ho(t),t}function o1(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];Ho(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}let Lh=class{clone(){return this._cloneInto()}};function a1(t){const e=r=>t().update(nu(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function c1(t=32){if(Ia&&typeof Ia.getRandomValues=="function")return Ia.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}function u1(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),d=r?4:0,u=r?0:4;t.setUint32(e+d,o,r),t.setUint32(e+u,a,r)}const d1=(t,e,n)=>t&e^~t&n,f1=(t,e,n)=>t&e^t&n^e&n;class l1 extends Lh{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=xa(this.buffer)}update(e){Ys(this);const{view:n,buffer:r,blockLen:i}=this;e=nu(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const d=xa(e);for(;i<=s-o;o+=i)this.process(d,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Ys(this),i1(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let f=o;f<i;f++)n[f]=0;u1(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=xa(e),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=d/4,c=this.get();if(u>c.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,c[f],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}}const h1=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Jt=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Xt=new Uint32Array(64);class p1 extends l1{constructor(){super(64,32,8,!1),this.A=Jt[0]|0,this.B=Jt[1]|0,this.C=Jt[2]|0,this.D=Jt[3]|0,this.E=Jt[4]|0,this.F=Jt[5]|0,this.G=Jt[6]|0,this.H=Jt[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:d}=this;return[e,n,r,i,s,o,a,d]}set(e,n,r,i,s,o,a,d){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=d|0}process(e,n){for(let f=0;f<16;f++,n+=4)Xt[f]=e.getUint32(n,!1);for(let f=16;f<64;f++){const h=Xt[f-15],l=Xt[f-2],b=mt(h,7)^mt(h,18)^h>>>3,m=mt(l,17)^mt(l,19)^l>>>10;Xt[f]=m+Xt[f-7]+b+Xt[f-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:d,G:u,H:c}=this;for(let f=0;f<64;f++){const h=mt(a,6)^mt(a,11)^mt(a,25),l=c+h+d1(a,d,u)+h1[f]+Xt[f]|0,m=(mt(r,2)^mt(r,13)^mt(r,22))+f1(r,i,s)|0;c=u,u=d,d=a,a=o+l|0,o=s,s=i,i=r,r=l+m|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,d=d+this.F|0,u=u+this.G|0,c=c+this.H|0,this.set(r,i,s,o,a,d,u,c)}roundClean(){Xt.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const m1=a1(()=>new p1);class Mh extends Lh{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,r1(e);const r=nu(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return Ys(this),this.iHash.update(e),this}digestInto(e){Ys(this),Ho(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const $h=(t,e,n)=>new Mh(t,e).update(n).digest();$h.create=(t,e)=>new Mh(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Hh=BigInt(0),Do=BigInt(1),g1=BigInt(2);function Pn(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function Wi(t){if(!Pn(t))throw new Error("Uint8Array expected")}const y1=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function lr(t){Wi(t);let e="";for(let n=0;n<t.length;n++)e+=y1[t[n]];return e}function Dh(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function ru(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}const St={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Nd(t){if(t>=St._0&&t<=St._9)return t-St._0;if(t>=St._A&&t<=St._F)return t-(St._A-10);if(t>=St._a&&t<=St._f)return t-(St._a-10)}function hr(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=Nd(t.charCodeAt(s)),a=Nd(t.charCodeAt(s+1));if(o===void 0||a===void 0){const d=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+d+'" at index '+s)}r[i]=o*16+a}return r}function In(t){return ru(lr(t))}function iu(t){return Wi(t),ru(lr(Uint8Array.from(t).reverse()))}function pr(t,e){return hr(t.toString(16).padStart(e*2,"0"))}function su(t,e){return pr(t,e).reverse()}function b1(t){return hr(Dh(t))}function ct(t,e,n){let r;if(typeof e=="string")try{r=hr(e)}catch(s){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${s}`)}else if(Pn(e))r=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${t} expected ${n} bytes, got ${i}`);return r}function xi(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];Wi(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}function w1(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}function A1(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function _1(t){let e;for(e=0;t>Hh;t>>=Do,e+=1);return e}function I1(t,e){return t>>BigInt(e)&Do}function x1(t,e,n){return t|(n?Do:Hh)<<BigInt(e)}const ou=t=>(g1<<BigInt(t-1))-Do,Ea=t=>new Uint8Array(t),Ld=t=>Uint8Array.from(t);function Uh(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Ea(t),i=Ea(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...f)=>n(i,r,...f),d=(f=Ea())=>{i=a(Ld([0]),f),r=a(),f.length!==0&&(i=a(Ld([1]),f),r=a())},u=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const h=[];for(;f<e;){r=a();const l=r.slice();h.push(l),f+=r.length}return xi(...h)};return(f,h)=>{o(),d(f);let l;for(;!(l=h(u()));)d();return o(),l}}const E1={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Pn(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Ki(t,e,n={}){const r=(i,s,o)=>{const a=E1[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);const d=t[i];if(!(o&&d===void 0)&&!a(d,t))throw new Error(`Invalid param ${String(i)}=${d} (${typeof d}), expected ${s}`)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}const v1=Object.freeze(Object.defineProperty({__proto__:null,abytes:Wi,bitGet:I1,bitLen:_1,bitMask:ou,bitSet:x1,bytesToHex:lr,bytesToNumberBE:In,bytesToNumberLE:iu,concatBytes:xi,createHmacDrbg:Uh,ensureBytes:ct,equalBytes:w1,hexToBytes:hr,hexToNumber:ru,isBytes:Pn,numberToBytesBE:pr,numberToBytesLE:su,numberToHexUnpadded:Dh,numberToVarBytesBE:b1,utf8ToBytes:A1,validateObject:Ki},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ve=BigInt(0),Ae=BigInt(1),ln=BigInt(2),T1=BigInt(3),ec=BigInt(4),Md=BigInt(5),$d=BigInt(8);BigInt(9);BigInt(16);function je(t,e){const n=t%e;return n>=ve?n:e+n}function B1(t,e,n){if(n<=ve||e<ve)throw new Error("Expected power/modulo > 0");if(n===Ae)return ve;let r=Ae;for(;e>ve;)e&Ae&&(r=r*t%n),t=t*t%n,e>>=Ae;return r}function Ye(t,e,n){let r=t;for(;e-- >ve;)r*=r,r%=n;return r}function tc(t,e){if(t===ve||e<=ve)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=je(t,e),r=e,i=ve,s=Ae;for(;n!==ve;){const a=r/n,d=r%n,u=i-s*a;r=n,n=d,i=s,s=u}if(r!==Ae)throw new Error("invert: does not exist");return je(i,e)}function k1(t){const e=(t-Ae)/ln;let n,r,i;for(n=t-Ae,r=0;n%ln===ve;n/=ln,r++);for(i=ln;i<t&&B1(i,e,t)!==t-Ae;i++);if(r===1){const o=(t+Ae)/ec;return function(d,u){const c=d.pow(u,o);if(!d.eql(d.sqr(c),u))throw new Error("Cannot find square root");return c}}const s=(n+Ae)/ln;return function(a,d){if(a.pow(d,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,c=a.pow(a.mul(a.ONE,i),n),f=a.pow(d,s),h=a.pow(d,n);for(;!a.eql(h,a.ONE);){if(a.eql(h,a.ZERO))return a.ZERO;let l=1;for(let m=a.sqr(h);l<u&&!a.eql(m,a.ONE);l++)m=a.sqr(m);const b=a.pow(c,Ae<<BigInt(u-l-1));c=a.sqr(b),f=a.mul(f,b),h=a.mul(h,c),u=l}return f}}function S1(t){if(t%ec===T1){const e=(t+Ae)/ec;return function(r,i){const s=r.pow(i,e);if(!r.eql(r.sqr(s),i))throw new Error("Cannot find square root");return s}}if(t%$d===Md){const e=(t-Md)/$d;return function(r,i){const s=r.mul(i,ln),o=r.pow(s,e),a=r.mul(i,o),d=r.mul(r.mul(a,ln),o),u=r.mul(a,r.sub(d,r.ONE));if(!r.eql(r.sqr(u),i))throw new Error("Cannot find square root");return u}}return k1(t)}const R1=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function C1(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=R1.reduce((r,i)=>(r[i]="function",r),e);return Ki(t,n)}function P1(t,e,n){if(n<ve)throw new Error("Expected power > 0");if(n===ve)return t.ONE;if(n===Ae)return e;let r=t.ONE,i=e;for(;n>ve;)n&Ae&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Ae;return r}function O1(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function Fh(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function N1(t,e,n=!1,r={}){if(t<=ve)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:s}=Fh(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=S1(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:ou(i),ZERO:ve,ONE:Ae,create:d=>je(d,t),isValid:d=>{if(typeof d!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof d}`);return ve<=d&&d<t},is0:d=>d===ve,isOdd:d=>(d&Ae)===Ae,neg:d=>je(-d,t),eql:(d,u)=>d===u,sqr:d=>je(d*d,t),add:(d,u)=>je(d+u,t),sub:(d,u)=>je(d-u,t),mul:(d,u)=>je(d*u,t),pow:(d,u)=>P1(a,d,u),div:(d,u)=>je(d*tc(u,t),t),sqrN:d=>d*d,addN:(d,u)=>d+u,subN:(d,u)=>d-u,mulN:(d,u)=>d*u,inv:d=>tc(d,t),sqrt:r.sqrt||(d=>o(a,d)),invertBatch:d=>O1(a,d),cmov:(d,u,c)=>c?u:d,toBytes:d=>n?su(d,s):pr(d,s),fromBytes:d=>{if(d.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${d.length}`);return n?iu(d):In(d)}});return Object.freeze(a)}function jh(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Gh(t){const e=jh(t);return e+Math.ceil(e/2)}function L1(t,e,n=!1){const r=t.length,i=jh(e),s=Gh(e);if(r<16||r<s||r>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${r}`);const o=n?In(t):iu(t),a=je(o,e-Ae)+Ae;return n?su(a,i):pr(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const M1=BigInt(0),va=BigInt(1);function $1(t,e){const n=(i,s)=>{const o=s.negate();return i?o:s},r=i=>{const s=Math.ceil(e/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:n,unsafeLadder(i,s){let o=t.ZERO,a=i;for(;s>M1;)s&va&&(o=o.add(a)),a=a.double(),s>>=va;return o},precomputeWindow(i,s){const{windows:o,windowSize:a}=r(s),d=[];let u=i,c=u;for(let f=0;f<o;f++){c=u,d.push(c);for(let h=1;h<a;h++)c=c.add(u),d.push(c);u=c.double()}return d},wNAF(i,s,o){const{windows:a,windowSize:d}=r(i);let u=t.ZERO,c=t.BASE;const f=BigInt(2**i-1),h=2**i,l=BigInt(i);for(let b=0;b<a;b++){const m=b*d;let g=Number(o&f);o>>=l,g>d&&(g-=h,o+=va);const p=m,w=m+Math.abs(g)-1,_=b%2!==0,v=g<0;g===0?c=c.add(n(_,s[p])):u=u.add(n(v,s[w]))}return{p:u,f:c}},wNAFCached(i,s,o,a){const d=i._WINDOW_SIZE||1;let u=s.get(i);return u||(u=this.precomputeWindow(i,d),d!==1&&s.set(i,a(u))),this.wNAF(d,u,o)}}}function qh(t){return C1(t.Fp),Ki(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Fh(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function H1(t){const e=qh(t);Ki(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:D1,hexToBytes:U1}=v1,hn={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=hn;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:D1(r),l:t.subarray(n+2)}},toSig(t){const{Err:e}=hn,n=typeof t=="string"?U1(t):t;Wi(n);let r=n.length;if(r<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:i,l:s}=hn._parseInt(n.subarray(2)),{d:o,l:a}=hn._parseInt(s);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(t){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,n=u=>{const c=u.toString(16);return c.length&1?`0${c}`:c},r=e(n(t.s)),i=e(n(t.r)),s=r.length/2,o=i.length/2,a=n(s),d=n(o);return`30${n(o+s+4)}02${d}${i}02${a}${r}`}},Mt=BigInt(0),tt=BigInt(1);BigInt(2);const Hd=BigInt(3);BigInt(4);function F1(t){const e=H1(t),{Fp:n}=e,r=e.toBytes||((b,m,g)=>{const p=m.toAffine();return xi(Uint8Array.from([4]),n.toBytes(p.x),n.toBytes(p.y))}),i=e.fromBytes||(b=>{const m=b.subarray(1),g=n.fromBytes(m.subarray(0,n.BYTES)),p=n.fromBytes(m.subarray(n.BYTES,2*n.BYTES));return{x:g,y:p}});function s(b){const{a:m,b:g}=e,p=n.sqr(b),w=n.mul(p,b);return n.add(n.add(w,n.mul(b,m)),g)}if(!n.eql(n.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function o(b){return typeof b=="bigint"&&Mt<b&&b<e.n}function a(b){if(!o(b))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function d(b){const{allowedPrivateKeyLengths:m,nByteLength:g,wrapPrivateKey:p,n:w}=e;if(m&&typeof b!="bigint"){if(Pn(b)&&(b=lr(b)),typeof b!="string"||!m.includes(b.length))throw new Error("Invalid key");b=b.padStart(g*2,"0")}let _;try{_=typeof b=="bigint"?b:In(ct("private key",b,g))}catch{throw new Error(`private key must be ${g} bytes, hex or bigint, not ${typeof b}`)}return p&&(_=je(_,w)),a(_),_}const u=new Map;function c(b){if(!(b instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(m,g,p){if(this.px=m,this.py=g,this.pz=p,m==null||!n.isValid(m))throw new Error("x required");if(g==null||!n.isValid(g))throw new Error("y required");if(p==null||!n.isValid(p))throw new Error("z required")}static fromAffine(m){const{x:g,y:p}=m||{};if(!m||!n.isValid(g)||!n.isValid(p))throw new Error("invalid affine point");if(m instanceof f)throw new Error("projective point not allowed");const w=_=>n.eql(_,n.ZERO);return w(g)&&w(p)?f.ZERO:new f(g,p,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(m){const g=n.invertBatch(m.map(p=>p.pz));return m.map((p,w)=>p.toAffine(g[w])).map(f.fromAffine)}static fromHex(m){const g=f.fromAffine(i(ct("pointHex",m)));return g.assertValidity(),g}static fromPrivateKey(m){return f.BASE.multiply(d(m))}_setWindowSize(m){this._WINDOW_SIZE=m,u.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:m,y:g}=this.toAffine();if(!n.isValid(m)||!n.isValid(g))throw new Error("bad point: x or y not FE");const p=n.sqr(g),w=s(m);if(!n.eql(p,w))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:m}=this.toAffine();if(n.isOdd)return!n.isOdd(m);throw new Error("Field doesn't support isOdd")}equals(m){c(m);const{px:g,py:p,pz:w}=this,{px:_,py:v,pz:E}=m,k=n.eql(n.mul(g,E),n.mul(_,w)),P=n.eql(n.mul(p,E),n.mul(v,w));return k&&P}negate(){return new f(this.px,n.neg(this.py),this.pz)}double(){const{a:m,b:g}=e,p=n.mul(g,Hd),{px:w,py:_,pz:v}=this;let E=n.ZERO,k=n.ZERO,P=n.ZERO,x=n.mul(w,w),j=n.mul(_,_),B=n.mul(v,v),L=n.mul(w,_);return L=n.add(L,L),P=n.mul(w,v),P=n.add(P,P),E=n.mul(m,P),k=n.mul(p,B),k=n.add(E,k),E=n.sub(j,k),k=n.add(j,k),k=n.mul(E,k),E=n.mul(L,E),P=n.mul(p,P),B=n.mul(m,B),L=n.sub(x,B),L=n.mul(m,L),L=n.add(L,P),P=n.add(x,x),x=n.add(P,x),x=n.add(x,B),x=n.mul(x,L),k=n.add(k,x),B=n.mul(_,v),B=n.add(B,B),x=n.mul(B,L),E=n.sub(E,x),P=n.mul(B,j),P=n.add(P,P),P=n.add(P,P),new f(E,k,P)}add(m){c(m);const{px:g,py:p,pz:w}=this,{px:_,py:v,pz:E}=m;let k=n.ZERO,P=n.ZERO,x=n.ZERO;const j=e.a,B=n.mul(e.b,Hd);let L=n.mul(g,_),$=n.mul(p,v),Z=n.mul(w,E),de=n.add(g,p),y=n.add(_,v);de=n.mul(de,y),y=n.add(L,$),de=n.sub(de,y),y=n.add(g,w);let I=n.add(_,E);return y=n.mul(y,I),I=n.add(L,Z),y=n.sub(y,I),I=n.add(p,w),k=n.add(v,E),I=n.mul(I,k),k=n.add($,Z),I=n.sub(I,k),x=n.mul(j,y),k=n.mul(B,Z),x=n.add(k,x),k=n.sub($,x),x=n.add($,x),P=n.mul(k,x),$=n.add(L,L),$=n.add($,L),Z=n.mul(j,Z),y=n.mul(B,y),$=n.add($,Z),Z=n.sub(L,Z),Z=n.mul(j,Z),y=n.add(y,Z),L=n.mul($,y),P=n.add(P,L),L=n.mul(I,y),k=n.mul(de,k),k=n.sub(k,L),L=n.mul(de,$),x=n.mul(I,x),x=n.add(x,L),new f(k,P,x)}subtract(m){return this.add(m.negate())}is0(){return this.equals(f.ZERO)}wNAF(m){return l.wNAFCached(this,u,m,g=>{const p=n.invertBatch(g.map(w=>w.pz));return g.map((w,_)=>w.toAffine(p[_])).map(f.fromAffine)})}multiplyUnsafe(m){const g=f.ZERO;if(m===Mt)return g;if(a(m),m===tt)return this;const{endo:p}=e;if(!p)return l.unsafeLadder(this,m);let{k1neg:w,k1:_,k2neg:v,k2:E}=p.splitScalar(m),k=g,P=g,x=this;for(;_>Mt||E>Mt;)_&tt&&(k=k.add(x)),E&tt&&(P=P.add(x)),x=x.double(),_>>=tt,E>>=tt;return w&&(k=k.negate()),v&&(P=P.negate()),P=new f(n.mul(P.px,p.beta),P.py,P.pz),k.add(P)}multiply(m){a(m);let g=m,p,w;const{endo:_}=e;if(_){const{k1neg:v,k1:E,k2neg:k,k2:P}=_.splitScalar(g);let{p:x,f:j}=this.wNAF(E),{p:B,f:L}=this.wNAF(P);x=l.constTimeNegate(v,x),B=l.constTimeNegate(k,B),B=new f(n.mul(B.px,_.beta),B.py,B.pz),p=x.add(B),w=j.add(L)}else{const{p:v,f:E}=this.wNAF(g);p=v,w=E}return f.normalizeZ([p,w])[0]}multiplyAndAddUnsafe(m,g,p){const w=f.BASE,_=(E,k)=>k===Mt||k===tt||!E.equals(w)?E.multiplyUnsafe(k):E.multiply(k),v=_(this,g).add(_(m,p));return v.is0()?void 0:v}toAffine(m){const{px:g,py:p,pz:w}=this,_=this.is0();m==null&&(m=_?n.ONE:n.inv(w));const v=n.mul(g,m),E=n.mul(p,m),k=n.mul(w,m);if(_)return{x:n.ZERO,y:n.ZERO};if(!n.eql(k,n.ONE))throw new Error("invZ was invalid");return{x:v,y:E}}isTorsionFree(){const{h:m,isTorsionFree:g}=e;if(m===tt)return!0;if(g)return g(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:m,clearCofactor:g}=e;return m===tt?this:g?g(f,this):this.multiplyUnsafe(e.h)}toRawBytes(m=!0){return this.assertValidity(),r(f,this,m)}toHex(m=!0){return lr(this.toRawBytes(m))}}f.BASE=new f(e.Gx,e.Gy,n.ONE),f.ZERO=new f(n.ZERO,n.ONE,n.ZERO);const h=e.nBitLength,l=$1(f,e.endo?Math.ceil(h/2):h);return{CURVE:e,ProjectivePoint:f,normPrivateKeyToScalar:d,weierstrassEquation:s,isWithinCurveOrder:o}}function j1(t){const e=qh(t);return Ki(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function G1(t){const e=j1(t),{Fp:n,n:r}=e,i=n.BYTES+1,s=2*n.BYTES+1;function o(y){return Mt<y&&y<n.ORDER}function a(y){return je(y,r)}function d(y){return tc(y,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:c,weierstrassEquation:f,isWithinCurveOrder:h}=F1({...e,toBytes(y,I,R){const H=I.toAffine(),F=n.toBytes(H.x),D=xi;return R?D(Uint8Array.from([I.hasEvenY()?2:3]),F):D(Uint8Array.from([4]),F,n.toBytes(H.y))},fromBytes(y){const I=y.length,R=y[0],H=y.subarray(1);if(I===i&&(R===2||R===3)){const F=In(H);if(!o(F))throw new Error("Point is not on curve");const D=f(F);let ae;try{ae=n.sqrt(D)}catch(se){const Se=se instanceof Error?": "+se.message:"";throw new Error("Point is not on curve"+Se)}const we=(ae&tt)===tt;return(R&1)===1!==we&&(ae=n.neg(ae)),{x:F,y:ae}}else if(I===s&&R===4){const F=n.fromBytes(H.subarray(0,n.BYTES)),D=n.fromBytes(H.subarray(n.BYTES,2*n.BYTES));return{x:F,y:D}}else throw new Error(`Point of length ${I} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),l=y=>lr(pr(y,e.nByteLength));function b(y){const I=r>>tt;return y>I}function m(y){return b(y)?a(-y):y}const g=(y,I,R)=>In(y.slice(I,R));class p{constructor(I,R,H){this.r=I,this.s=R,this.recovery=H,this.assertValidity()}static fromCompact(I){const R=e.nByteLength;return I=ct("compactSignature",I,R*2),new p(g(I,0,R),g(I,R,2*R))}static fromDER(I){const{r:R,s:H}=hn.toSig(ct("DER",I));return new p(R,H)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(I){return new p(this.r,this.s,I)}recoverPublicKey(I){const{r:R,s:H,recovery:F}=this,D=P(ct("msgHash",I));if(F==null||![0,1,2,3].includes(F))throw new Error("recovery id invalid");const ae=F===2||F===3?R+e.n:R;if(ae>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const we=F&1?"03":"02",st=u.fromHex(we+l(ae)),se=d(ae),Se=a(-D*se),Pr=a(H*se),Wt=u.BASE.multiplyAndAddUnsafe(st,Se,Pr);if(!Wt)throw new Error("point at infinify");return Wt.assertValidity(),Wt}hasHighS(){return b(this.s)}normalizeS(){return this.hasHighS()?new p(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return hr(this.toDERHex())}toDERHex(){return hn.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return hr(this.toCompactHex())}toCompactHex(){return l(this.r)+l(this.s)}}const w={isValidPrivateKey(y){try{return c(y),!0}catch{return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{const y=Gh(e.n);return L1(e.randomBytes(y),e.n)},precompute(y=8,I=u.BASE){return I._setWindowSize(y),I.multiply(BigInt(3)),I}};function _(y,I=!0){return u.fromPrivateKey(y).toRawBytes(I)}function v(y){const I=Pn(y),R=typeof y=="string",H=(I||R)&&y.length;return I?H===i||H===s:R?H===2*i||H===2*s:y instanceof u}function E(y,I,R=!0){if(v(y))throw new Error("first arg must be private key");if(!v(I))throw new Error("second arg must be public key");return u.fromHex(I).multiply(c(y)).toRawBytes(R)}const k=e.bits2int||function(y){const I=In(y),R=y.length*8-e.nBitLength;return R>0?I>>BigInt(R):I},P=e.bits2int_modN||function(y){return a(k(y))},x=ou(e.nBitLength);function j(y){if(typeof y!="bigint")throw new Error("bigint expected");if(!(Mt<=y&&y<x))throw new Error(`bigint expected < 2^${e.nBitLength}`);return pr(y,e.nByteLength)}function B(y,I,R=L){if(["recovered","canonical"].some(an=>an in R))throw new Error("sign() legacy options not supported");const{hash:H,randomBytes:F}=e;let{lowS:D,prehash:ae,extraEntropy:we}=R;D==null&&(D=!0),y=ct("msgHash",y),ae&&(y=ct("prehashed msgHash",H(y)));const st=P(y),se=c(I),Se=[j(se),j(st)];if(we!=null&&we!==!1){const an=we===!0?F(n.BYTES):we;Se.push(ct("extraEntropy",an))}const Pr=xi(...Se),Wt=st;function fa(an){const Un=k(an);if(!h(Un))return;const zu=d(Un),Fn=u.BASE.multiply(Un).toAffine(),ot=a(Fn.x);if(ot===Mt)return;const jn=a(zu*a(Wt+ot*se));if(jn===Mt)return;let Wu=(Fn.x===ot?0:2)|Number(Fn.y&tt),Ku=jn;return D&&b(jn)&&(Ku=m(jn),Wu^=1),new p(ot,Ku,Wu)}return{seed:Pr,k2sig:fa}}const L={lowS:e.lowS,prehash:!1},$={lowS:e.lowS,prehash:!1};function Z(y,I,R=L){const{seed:H,k2sig:F}=B(y,I,R),D=e;return Uh(D.hash.outputLen,D.nByteLength,D.hmac)(H,F)}u.BASE._setWindowSize(8);function de(y,I,R,H=$){var Fn;const F=y;if(I=ct("msgHash",I),R=ct("publicKey",R),"strict"in H)throw new Error("options.strict was renamed to lowS");const{lowS:D,prehash:ae}=H;let we,st;try{if(typeof F=="string"||Pn(F))try{we=p.fromDER(F)}catch(ot){if(!(ot instanceof hn.Err))throw ot;we=p.fromCompact(F)}else if(typeof F=="object"&&typeof F.r=="bigint"&&typeof F.s=="bigint"){const{r:ot,s:jn}=F;we=new p(ot,jn)}else throw new Error("PARSE");st=u.fromHex(R)}catch(ot){if(ot.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(D&&we.hasHighS())return!1;ae&&(I=e.hash(I));const{r:se,s:Se}=we,Pr=P(I),Wt=d(Se),fa=a(Pr*Wt),an=a(se*Wt),Un=(Fn=u.BASE.multiplyAndAddUnsafe(st,fa,an))==null?void 0:Fn.toAffine();return Un?a(Un.x)===se:!1}return{CURVE:e,getPublicKey:_,getSharedSecret:E,sign:Z,verify:de,ProjectivePoint:u,Signature:p,utils:w}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function q1(t){return{hash:t,hmac:(e,...n)=>$h(t,e,o1(...n)),randomBytes:c1}}function Q1(t,e){const n=r=>G1({...t,...q1(r)});return Object.freeze({...n(e),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Qh=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Dd=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),V1=BigInt(1),nc=BigInt(2),Ud=(t,e)=>(t+e/nc)/e;function z1(t){const e=Qh,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),d=BigInt(88),u=t*t*t%e,c=u*u*t%e,f=Ye(c,n,e)*c%e,h=Ye(f,n,e)*c%e,l=Ye(h,nc,e)*u%e,b=Ye(l,i,e)*l%e,m=Ye(b,s,e)*b%e,g=Ye(m,a,e)*m%e,p=Ye(g,d,e)*g%e,w=Ye(p,a,e)*m%e,_=Ye(w,n,e)*c%e,v=Ye(_,o,e)*b%e,E=Ye(v,r,e)*u%e,k=Ye(E,nc,e);if(!rc.eql(rc.sqr(k),t))throw new Error("Cannot find square root");return k}const rc=N1(Qh,void 0,void 0,{sqrt:z1}),au=Q1({a:BigInt(0),b:BigInt(7),Fp:rc,n:Dd,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=Dd,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-V1*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=Ud(s*t,e),d=Ud(-r*t,e);let u=je(t-a*n-d*i,e),c=je(-a*r-d*s,e);const f=u>o,h=c>o;if(f&&(u=e-u),h&&(c=e-c),u>o||c>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:f,k1:u,k2neg:h,k2:c}}}},m1);BigInt(0);au.ProjectivePoint;const W1=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:au},Symbol.toStringTag,{value:"Module"}));var Ta;const Qt=(Ta=au)!==null&&Ta!==void 0?Ta:W1,Fd=BigInt("0xffffffffffffffff"),Ei=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),K1=Qt.CURVE.n,Z1=K1/BigInt(2),J1={type:"object",required:["crypto","id","version","address"],properties:{crypto:{type:"object",required:["cipher","ciphertext","cipherparams","kdf","kdfparams","mac"],properties:{cipher:{type:"string"},ciphertext:{type:"string"},cipherparams:{type:"object"},kdf:{type:"string"},kdfparams:{type:"object"},salt:{type:"string"},mac:{type:"string"}}},id:{type:"string"},version:{type:"number"},address:{type:"string"}}};var eo;(function(t){t[t.Mainnet=1]="Mainnet",t[t.Goerli=5]="Goerli",t[t.Sepolia=11155111]="Sepolia"})(eo||(eo={}));var ue;(function(t){t.Chainstart="chainstart",t.Homestead="homestead",t.Dao="dao",t.TangerineWhistle="tangerineWhistle",t.SpuriousDragon="spuriousDragon",t.Byzantium="byzantium",t.Constantinople="constantinople",t.Petersburg="petersburg",t.Istanbul="istanbul",t.MuirGlacier="muirGlacier",t.Berlin="berlin",t.London="london",t.ArrowGlacier="arrowGlacier",t.GrayGlacier="grayGlacier",t.MergeForkIdTransition="mergeForkIdTransition",t.Merge="merge",t.Shanghai="shanghai",t.ShardingForkDev="shardingFork"})(ue||(ue={}));var jd;(function(t){t.ProofOfStake="pos",t.ProofOfWork="pow",t.ProofOfAuthority="poa"})(jd||(jd={}));var Gd;(function(t){t.Ethash="ethash",t.Clique="clique",t.Casper="casper"})(Gd||(Gd={}));var Re;(function(t){t.PolygonMainnet="polygon-mainnet",t.PolygonMumbai="polygon-mumbai",t.ArbitrumRinkebyTestnet="arbitrum-rinkeby-testnet",t.ArbitrumOne="arbitrum-one",t.xDaiChain="x-dai-chain",t.OptimisticKovan="optimistic-kovan",t.OptimisticEthereum="optimistic-ethereum"})(Re||(Re={}));var nt;(function(t){t[t.Number=0]="Number",t[t.BigInt=1]="BigInt",t[t.Uint8Array=2]="Uint8Array",t[t.PrefixedHexString=3]="PrefixedHexString"})(nt||(nt={}));const Vh=t=>{if(typeof t!="string")throw new Error(`[stripHexPrefix] input must be type 'string', received ${typeof t}`);return Gc(t)?t.slice(2):t};function X1(t){return!t||t==="0x0"?"0x0000000000000000":Gc(t)?`0x${Vh(t).padStart(16,"0")}`:`0x${t.padStart(16,"0")}`}const zh=function(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Received an invalid integer type: ${t}`);return`0x${t.toString(16)}`};function Y1(t,e=!0){var n,r;const{name:i,config:s,difficulty:o,mixHash:a,gasLimit:d,coinbase:u,baseFeePerGas:c}=t;let{extraData:f,timestamp:h,nonce:l}=t;const b=Number(h),{chainId:m}=s;if(f===""&&(f="0x"),Gc(h)||(h=zh(parseInt(h))),l.length!==18&&(l=X1(l)),s.eip155Block!==s.eip158Block)throw new Error("EIP155 block number must equal EIP 158 block number since both are part of SpuriousDragon hardfork and the client only supports activating the full hardfork");const g={name:i,chainId:m,networkId:m,genesis:{timestamp:h,gasLimit:parseInt(d),difficulty:parseInt(o),nonce:l,extraData:f,mixHash:a,coinbase:u,baseFeePerGas:c},hardfork:void 0,hardforks:[],bootstrapNodes:[],consensus:s.clique!==void 0?{type:"poa",algorithm:"clique",clique:{period:(n=s.clique.period)!==null&&n!==void 0?n:s.clique.blockperiodseconds,epoch:(r=s.clique.epoch)!==null&&r!==void 0?r:s.clique.epochlength}}:{type:"pow",algorithm:"ethash",ethash:{}}},p={[ue.Homestead]:{name:"homesteadBlock"},[ue.Dao]:{name:"daoForkBlock"},[ue.TangerineWhistle]:{name:"eip150Block"},[ue.SpuriousDragon]:{name:"eip155Block"},[ue.Byzantium]:{name:"byzantiumBlock"},[ue.Constantinople]:{name:"constantinopleBlock"},[ue.Petersburg]:{name:"petersburgBlock"},[ue.Istanbul]:{name:"istanbulBlock"},[ue.MuirGlacier]:{name:"muirGlacierBlock"},[ue.Berlin]:{name:"berlinBlock"},[ue.London]:{name:"londonBlock"},[ue.MergeForkIdTransition]:{name:"mergeForkBlock",postMerge:e},[ue.Shanghai]:{name:"shanghaiTime",postMerge:!0,isTimestamp:!0},[ue.ShardingForkDev]:{name:"shardingForkTime",postMerge:!0,isTimestamp:!0}},w=Object.keys(p).reduce((E,k)=>(E[p[k].name]=k,E),{}),_=Object.keys(s).filter(E=>w[E]!==void 0&&s[E]!==void 0&&s[E]!==null);if(g.hardforks=_.map(E=>({name:w[E],block:p[w[E]].isTimestamp===!0||typeof s[E]!="number"?null:s[E],timestamp:p[w[E]].isTimestamp===!0&&typeof s[E]=="number"?s[E]:void 0})).filter(E=>E.block!==null||E.timestamp!==void 0),g.hardforks.sort((E,k)=>{var P,x;return((P=E.block)!==null&&P!==void 0?P:1/0)-((x=k.block)!==null&&x!==void 0?x:1/0)}),g.hardforks.sort((E,k)=>{var P,x;return((P=E.timestamp)!==null&&P!==void 0?P:b)-((x=k.timestamp)!==null&&x!==void 0?x:b)}),s.terminalTotalDifficulty!==void 0){const E={name:ue.Merge,ttd:s.terminalTotalDifficulty,block:null},k=g.hardforks.findIndex(P=>{var x;return((x=p[P.name])===null||x===void 0?void 0:x.postMerge)===!0});k!==-1?g.hardforks.splice(k,0,E):g.hardforks.push(E)}const v=g.hardforks.length>0?g.hardforks.slice(-1)[0]:void 0;return g.hardfork=v==null?void 0:v.name,g.hardforks.unshift({name:ue.Chainstart,block:0}),g}function eI(t,e,n){try{if(["config","difficulty","gasLimit","alloc"].some(r=>!(r in t)))throw new Error("Invalid format, expected geth genesis fields missing");return e!==void 0&&(t.name=e),Y1(t,n)}catch(r){throw new Error(`Error parsing parameters file: ${r.message}`)}}function Wh(t){let e=t;if(typeof e!="string")throw new Error(`[padToEven] value must be type 'string', received ${typeof e}`);return e.length%2&&(e=`0${e}`),e}const tI=function(t){const e=zh(t);return xe(`0x${Wh(e.slice(2))}`)},fe=function(t){var e;if(t==null)return new Uint8Array;if(t instanceof Uint8Array)return t;if(((e=t==null?void 0:t.constructor)===null||e===void 0?void 0:e.name)==="Uint8Array"||Array.isArray(t))return Uint8Array.from(t);if(typeof t=="string"){if(!ih(t))throw new Error(`Cannot convert string to Uint8Array. only supports 0x-prefixed hex strings and this string was given: ${t}`);return xe(Wh(Vh(t)))}if(typeof t=="number")return fe(Oh(t));if(typeof t=="bigint"){if(t<BigInt(0))throw new Error(`Cannot convert negative bigint to Uint8Array. Given: ${t}`);let n=t.toString(16);return n.length%2&&(n=`0${n}`),fe(`0x${n}`)}if(t.toArray)return Uint8Array.from(t.toArray());throw new Error("invalid type")};function ce(t){const e=oe(t);return BigInt(e==="0x"?0:e)}function nI(t){return fe(`0x${t.toString(16)}`)}const Kh=function(t){return new Uint8Array(t).fill(0)},rI=function(t,e,n){const r=Kh(e);return t.length<e?(r.set(t,e-t.length),r):t.subarray(-e)};function cu(t){if(!zi(t)){const e=`This method only supports Uint8Array but input was: ${t}`;throw new Error(e)}}const qd=function(t,e){return cu(t),rI(t,e)};function iI(t){let e=t[0];for(;t.length>0&&e.toString()==="0";)t=t.slice(1),e=t[0];return t}const to=function(t){return cu(t),iI(t)},le=t=>`0x${t.toString(16)}`;function te(t){return to(nI(t))}function sI(t,e){return t===BigInt(0)||t===BigInt(1)?t:e===void 0?t-BigInt(27):t-(e*BigInt(2)+BigInt(35))}function oI(t){return t===BigInt(0)||t===BigInt(1)}const uu=function(t,e,n,r,i){const s=sI(e,i);if(!oI(s))throw new Error("Invalid signature v value");return new Qt.Signature(ce(n),ce(r)).addRecoveryBit(Number(s)).recoverPublicKey(t).toRawBytes(!1).slice(1)};function qn(t,e){if(t===null)return null;if(t===void 0)return;if(typeof t=="string"&&!ih(t))throw new Error(`A string must be provided with a 0x-prefix, given: ${t}`);if(typeof t=="number"&&!Number.isSafeInteger(t))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");const n=fe(t);switch(e){case nt.Uint8Array:return n;case nt.BigInt:return ce(n);case nt.Number:{const r=ce(n);if(r>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return Number(r)}case nt.PrefixedHexString:return oe(n);default:throw new Error("unknown outputType")}}var at={},Qd;function aI(){if(Qd)return at;Qd=1,Object.defineProperty(at,"__esModule",{value:!0}),at.RLP=at.utils=at.decode=at.encode=void 0;function t(p){if(Array.isArray(p)){const _=[];let v=0;for(let E=0;E<p.length;E++){const k=t(p[E]);_.push(k),v+=k.length}return c(r(v,192),..._)}const w=g(p);return w.length===1&&w[0]<128?w:c(r(w.length,128),w)}at.encode=t;function e(p,w,_){if(_>p.length)throw new Error("invalid RLP (safeSlice): end slice of Uint8Array out-of-bounds");return p.slice(w,_)}function n(p){if(p[0]===0)throw new Error("invalid RLP: extra zeros");return d(a(p))}function r(p,w){if(p<56)return Uint8Array.from([p+w]);const _=h(p),v=_.length/2,E=h(w+55+v);return Uint8Array.from(u(E+_))}function i(p,w=!1){if(typeof p>"u"||p===null||p.length===0)return Uint8Array.from([]);const _=g(p),v=s(_);if(w)return v;if(v.remainder.length!==0)throw new Error("invalid RLP: remainder must be zero");return v.data}at.decode=i;function s(p){let w,_,v,E,k;const P=[],x=p[0];if(x<=127)return{data:p.slice(0,1),remainder:p.slice(1)};if(x<=183){if(w=x-127,x===128?v=Uint8Array.from([]):v=e(p,1,w),w===2&&v[0]<128)throw new Error("invalid RLP encoding: invalid prefix, single byte < 0x80 are not prefixed");return{data:v,remainder:p.slice(w)}}else if(x<=191){if(_=x-182,p.length-1<_)throw new Error("invalid RLP: not enough bytes for string length");if(w=n(e(p,1,_)),w<=55)throw new Error("invalid RLP: expected string length to be greater than 55");return v=e(p,_,w+_),{data:v,remainder:p.slice(w+_)}}else if(x<=247){for(w=x-191,E=e(p,1,w);E.length;)k=s(E),P.push(k.data),E=k.remainder;return{data:P,remainder:p.slice(w)}}else{if(_=x-246,w=n(e(p,1,_)),w<56)throw new Error("invalid RLP: encoded list too short");const j=_+w;if(j>p.length)throw new Error("invalid RLP: total length is larger than the data");for(E=e(p,_,j);E.length;)k=s(E),P.push(k.data),E=k.remainder;return{data:P,remainder:p.slice(j)}}}const o=Array.from({length:256},(p,w)=>w.toString(16).padStart(2,"0"));function a(p){let w="";for(let _=0;_<p.length;_++)w+=o[p[_]];return w}function d(p){const w=Number.parseInt(p,16);if(Number.isNaN(w))throw new Error("Invalid byte sequence");return w}function u(p){if(typeof p!="string")throw new TypeError("hexToBytes: expected string, got "+typeof p);if(p.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const w=new Uint8Array(p.length/2);for(let _=0;_<w.length;_++){const v=_*2;w[_]=d(p.slice(v,v+2))}return w}function c(...p){if(p.length===1)return p[0];const w=p.reduce((v,E)=>v+E.length,0),_=new Uint8Array(w);for(let v=0,E=0;v<p.length;v++){const k=p[v];_.set(k,E),E+=k.length}return _}function f(p){return new TextEncoder().encode(p)}function h(p){if(p<0)throw new Error("Invalid integer as argument, must be unsigned!");const w=p.toString(16);return w.length%2?`0${w}`:w}function l(p){return p.length%2?`0${p}`:p}function b(p){return p.length>=2&&p[0]==="0"&&p[1]==="x"}function m(p){return typeof p!="string"?p:b(p)?p.slice(2):p}function g(p){if(p instanceof Uint8Array)return p;if(typeof p=="string")return b(p)?u(l(m(p))):f(p);if(typeof p=="number"||typeof p=="bigint")return p?u(h(p)):Uint8Array.from([]);if(p==null)return Uint8Array.from([]);throw new Error("toBytes: received unsupported type "+typeof p)}return at.utils={bytesToHex:a,concatBytes:c,hexToBytes:u,utf8ToBytes:f},at.RLP={encode:t,decode:i},at}var rt=aI(),Ba={};/*! crc32.js (C) 2014-present SheetJS -- http://sheetjs.com */var Vd;function cI(){return Vd||(Vd=1,function(t){(function(e){e(typeof DO_NOT_EXPORT_CRC>"u"?t:{})})(function(e){e.version="1.2.2";function n(){for(var x=0,j=new Array(256),B=0;B!=256;++B)x=B,x=x&1?-306674912^x>>>1:x>>>1,x=x&1?-306674912^x>>>1:x>>>1,x=x&1?-306674912^x>>>1:x>>>1,x=x&1?-306674912^x>>>1:x>>>1,x=x&1?-306674912^x>>>1:x>>>1,x=x&1?-306674912^x>>>1:x>>>1,x=x&1?-306674912^x>>>1:x>>>1,x=x&1?-306674912^x>>>1:x>>>1,j[B]=x;return typeof Int32Array<"u"?new Int32Array(j):j}var r=n();function i(x){var j=0,B=0,L=0,$=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(L=0;L!=256;++L)$[L]=x[L];for(L=0;L!=256;++L)for(B=x[L],j=256+L;j<4096;j+=256)B=$[j]=B>>>8^x[B&255];var Z=[];for(L=1;L!=16;++L)Z[L-1]=typeof Int32Array<"u"?$.subarray(L*256,L*256+256):$.slice(L*256,L*256+256);return Z}var s=i(r),o=s[0],a=s[1],d=s[2],u=s[3],c=s[4],f=s[5],h=s[6],l=s[7],b=s[8],m=s[9],g=s[10],p=s[11],w=s[12],_=s[13],v=s[14];function E(x,j){for(var B=j^-1,L=0,$=x.length;L<$;)B=B>>>8^r[(B^x.charCodeAt(L++))&255];return~B}function k(x,j){for(var B=j^-1,L=x.length-15,$=0;$<L;)B=v[x[$++]^B&255]^_[x[$++]^B>>8&255]^w[x[$++]^B>>16&255]^p[x[$++]^B>>>24]^g[x[$++]]^m[x[$++]]^b[x[$++]]^l[x[$++]]^h[x[$++]]^f[x[$++]]^c[x[$++]]^u[x[$++]]^d[x[$++]]^a[x[$++]]^o[x[$++]]^r[x[$++]];for(L+=15;$<L;)B=B>>>8^r[(B^x[$++])&255];return~B}function P(x,j){for(var B=j^-1,L=0,$=x.length,Z=0,de=0;L<$;)Z=x.charCodeAt(L++),Z<128?B=B>>>8^r[(B^Z)&255]:Z<2048?(B=B>>>8^r[(B^(192|Z>>6&31))&255],B=B>>>8^r[(B^(128|Z&63))&255]):Z>=55296&&Z<57344?(Z=(Z&1023)+64,de=x.charCodeAt(L++)&1023,B=B>>>8^r[(B^(240|Z>>8&7))&255],B=B>>>8^r[(B^(128|Z>>2&63))&255],B=B>>>8^r[(B^(128|de>>6&15|(Z&3)<<4))&255],B=B>>>8^r[(B^(128|de&63))&255]):(B=B>>>8^r[(B^(224|Z>>12&15))&255],B=B>>>8^r[(B^(128|Z>>6&63))&255],B=B>>>8^r[(B^(128|Z&63))&255]);return~B}e.table=r,e.bstr=E,e.buf=k,e.str=P})}(Ba)),Ba}var uI=cI();const dI=Hc(uI),fI={name:"goerli",chainId:5,networkId:5,defaultHardfork:"merge",consensus:{type:"poa",algorithm:"clique",clique:{period:15,epoch:3e4}},comment:"Cross-client PoA test network",url:"https://github.com/goerli/testnet",genesis:{timestamp:"0x5c51a607",gasLimit:10485760,difficulty:1,nonce:"0x0000000000000000",extraData:"0x22466c6578692069732061207468696e6722202d204166726900000000000000e0a2bd4258d2768837baa26a28fe71dc079f84c70000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},hardforks:[{name:"chainstart",block:0,forkHash:"0xa3f5ab08"},{name:"homestead",block:0,forkHash:"0xa3f5ab08"},{name:"tangerineWhistle",block:0,forkHash:"0xa3f5ab08"},{name:"spuriousDragon",block:0,forkHash:"0xa3f5ab08"},{name:"byzantium",block:0,forkHash:"0xa3f5ab08"},{name:"constantinople",block:0,forkHash:"0xa3f5ab08"},{name:"petersburg",block:0,forkHash:"0xa3f5ab08"},{name:"istanbul",block:1561651,forkHash:"0xc25efa5c"},{name:"berlin",block:4460644,forkHash:"0x757a1c47"},{name:"london",block:5062605,forkHash:"0xb8c6299d"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge, terminal block: https://goerli.etherscan.io/block/7382818",name:"merge",ttd:"10790000",block:7382819,forkHash:"0xb8c6299d"},{name:"mergeForkIdTransition",block:null,forkHash:null},{name:"shanghai",block:null,forkHash:null}],bootstrapNodes:[],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.goerli.ethdisco.net"]},lI={name:"mainnet",chainId:1,networkId:1,defaultHardfork:"merge",consensus:{type:"pow",algorithm:"ethash",ethash:{}},comment:"The Ethereum main chain",url:"https://ethstats.net/",genesis:{gasLimit:5e3,difficulty:17179869184,nonce:"0x0000000000000042",extraData:"0x11bbe8db4e347b4e8c937c1c8370e4b5ed33adb3db69cbdb7a38e1e50b1b82fa"},hardforks:[{name:"chainstart",block:0,forkHash:"0xfc64ec04"},{name:"homestead",block:115e4,forkHash:"0x97c2c34c"},{name:"dao",block:192e4,forkHash:"0x91d1f948"},{name:"tangerineWhistle",block:2463e3,forkHash:"0x7a64da13"},{name:"spuriousDragon",block:2675e3,forkHash:"0x3edd5b10"},{name:"byzantium",block:437e4,forkHash:"0xa00bc324"},{name:"constantinople",block:728e4,forkHash:"0x668db0af"},{name:"petersburg",block:728e4,forkHash:"0x668db0af"},{name:"istanbul",block:9069e3,forkHash:"0x879d6e30"},{name:"muirGlacier",block:92e5,forkHash:"0xe029e991"},{name:"berlin",block:12244e3,forkHash:"0x0eb440f6"},{name:"london",block:12965e3,forkHash:"0xb715077d"},{name:"arrowGlacier",block:13773e3,forkHash:"0x20c327fc"},{name:"grayGlacier",block:1505e4,forkHash:"0xf0afd0e3"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge, terminal block: https://etherscan.io/block/15537393",name:"merge",ttd:"58750000000000000000000",block:15537394,forkHash:"0xf0afd0e3"},{name:"mergeForkIdTransition",block:null,forkHash:null},{name:"shanghai",block:null,forkHash:null}],bootstrapNodes:[],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.mainnet.ethdisco.net"]},hI={name:"sepolia",chainId:11155111,networkId:11155111,defaultHardfork:"merge",consensus:{type:"pow",algorithm:"ethash",ethash:{}},comment:"PoW test network to replace Ropsten",url:"https://github.com/ethereum/go-ethereum/pull/23730",genesis:{timestamp:"0x6159af19",gasLimit:3e7,difficulty:131072,nonce:"0x0000000000000000",extraData:"0x5365706f6c69612c20417468656e732c204174746963612c2047726565636521"},hardforks:[{name:"chainstart",block:0,forkHash:"0xfe3366e7"},{name:"homestead",block:0,forkHash:"0xfe3366e7"},{name:"tangerineWhistle",block:0,forkHash:"0xfe3366e7"},{name:"spuriousDragon",block:0,forkHash:"0xfe3366e7"},{name:"byzantium",block:0,forkHash:"0xfe3366e7"},{name:"constantinople",block:0,forkHash:"0xfe3366e7"},{name:"petersburg",block:0,forkHash:"0xfe3366e7"},{name:"istanbul",block:0,forkHash:"0xfe3366e7"},{name:"muirGlacier",block:0,forkHash:"0xfe3366e7"},{name:"berlin",block:0,forkHash:"0xfe3366e7"},{name:"london",block:0,forkHash:"0xfe3366e7"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge, terminal block: https://sepolia.etherscan.io/block/1450408",name:"merge",ttd:"17000000000000000",block:1450409,forkHash:"0xfe3366e7"},{name:"mergeForkIdTransition",block:1735371,forkHash:"0xb96cbd13"},{name:"shanghai",block:null,timestamp:"1677557088",forkHash:"0xf7f9bc08"}],bootstrapNodes:[],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.sepolia.ethdisco.net"]},pI={name:"EIP-1153",number:1153,comment:"Transient Storage",url:"https://eips.ethereum.org/EIPS/eip-1153",status:"Review",minimumHardfork:"chainstart",requiredEIPs:[],gasConfig:{},gasPrices:{tstore:{v:100,d:"Base fee of the TSTORE opcode"},tload:{v:100,d:"Base fee of the TLOAD opcode"}},vm:{},pow:{}},mI={name:"EIP-1559",number:1559,comment:"Fee market change for ETH 1.0 chain",url:"https://eips.ethereum.org/EIPS/eip-1559",status:"Final",minimumHardfork:"berlin",requiredEIPs:[2930],gasConfig:{baseFeeMaxChangeDenominator:{v:8,d:"Maximum base fee change denominator"},elasticityMultiplier:{v:2,d:"Maximum block gas target elasticity"},initialBaseFee:{v:1e9,d:"Initial base fee on first EIP1559 block"}},gasPrices:{},vm:{},pow:{}},gI={name:"EIP-2315",number:2315,comment:"Simple subroutines for the EVM",url:"https://eips.ethereum.org/EIPS/eip-2315",status:"Draft",minimumHardfork:"istanbul",gasConfig:{},gasPrices:{beginsub:{v:2,d:"Base fee of the BEGINSUB opcode"},returnsub:{v:5,d:"Base fee of the RETURNSUB opcode"},jumpsub:{v:10,d:"Base fee of the JUMPSUB opcode"}},vm:{},pow:{}},yI={name:"EIP-2537",number:2537,comment:"BLS12-381 precompiles",url:"https://eips.ethereum.org/EIPS/eip-2537",status:"Draft",minimumHardfork:"chainstart",gasConfig:{},gasPrices:{Bls12381G1AddGas:{v:600,d:"Gas cost of a single BLS12-381 G1 addition precompile-call"},Bls12381G1MulGas:{v:12e3,d:"Gas cost of a single BLS12-381 G1 multiplication precompile-call"},Bls12381G2AddGas:{v:4500,d:"Gas cost of a single BLS12-381 G2 addition precompile-call"},Bls12381G2MulGas:{v:55e3,d:"Gas cost of a single BLS12-381 G2 multiplication precompile-call"},Bls12381PairingBaseGas:{v:115e3,d:"Base gas cost of BLS12-381 pairing check"},Bls12381PairingPerPairGas:{v:23e3,d:"Per-pair gas cost of BLS12-381 pairing check"},Bls12381MapG1Gas:{v:5500,d:"Gas cost of BLS12-381 map field element to G1"},Bls12381MapG2Gas:{v:11e4,d:"Gas cost of BLS12-381 map field element to G2"},Bls12381MultiExpGasDiscount:{v:[[1,1200],[2,888],[3,764],[4,641],[5,594],[6,547],[7,500],[8,453],[9,438],[10,423],[11,408],[12,394],[13,379],[14,364],[15,349],[16,334],[17,330],[18,326],[19,322],[20,318],[21,314],[22,310],[23,306],[24,302],[25,298],[26,294],[27,289],[28,285],[29,281],[30,277],[31,273],[32,269],[33,268],[34,266],[35,265],[36,263],[37,262],[38,260],[39,259],[40,257],[41,256],[42,254],[43,253],[44,251],[45,250],[46,248],[47,247],[48,245],[49,244],[50,242],[51,241],[52,239],[53,238],[54,236],[55,235],[56,233],[57,232],[58,231],[59,229],[60,228],[61,226],[62,225],[63,223],[64,222],[65,221],[66,220],[67,219],[68,219],[69,218],[70,217],[71,216],[72,216],[73,215],[74,214],[75,213],[76,213],[77,212],[78,211],[79,211],[80,210],[81,209],[82,208],[83,208],[84,207],[85,206],[86,205],[87,205],[88,204],[89,203],[90,202],[91,202],[92,201],[93,200],[94,199],[95,199],[96,198],[97,197],[98,196],[99,196],[100,195],[101,194],[102,193],[103,193],[104,192],[105,191],[106,191],[107,190],[108,189],[109,188],[110,188],[111,187],[112,186],[113,185],[114,185],[115,184],[116,183],[117,182],[118,182],[119,181],[120,180],[121,179],[122,179],[123,178],[124,177],[125,176],[126,176],[127,175],[128,174]],d:"Discount gas costs of calls to the MultiExp precompiles with `k` (point, scalar) pair"}},vm:{},pow:{}},bI={name:"EIP-2565",number:2565,comment:"ModExp gas cost",url:"https://eips.ethereum.org/EIPS/eip-2565",status:"Final",minimumHardfork:"byzantium",gasConfig:{},gasPrices:{modexpGquaddivisor:{v:3,d:"Gquaddivisor from modexp precompile for gas calculation"}},vm:{},pow:{}},wI={name:"EIP-2718",comment:"Typed Transaction Envelope",url:"https://eips.ethereum.org/EIPS/eip-2718",status:"Final",minimumHardfork:"chainstart",gasConfig:{},gasPrices:{},vm:{},pow:{}},AI={name:"EIP-2929",comment:"Gas cost increases for state access opcodes",url:"https://eips.ethereum.org/EIPS/eip-2929",status:"Final",minimumHardfork:"chainstart",gasConfig:{},gasPrices:{coldsload:{v:2100,d:"Gas cost of the first read of storage from a given location (per transaction)"},coldaccountaccess:{v:2600,d:"Gas cost of the first read of a given address (per transaction)"},warmstorageread:{v:100,d:"Gas cost of reading storage locations which have already loaded 'cold'"},sstoreCleanGasEIP2200:{v:2900,d:"Once per SSTORE operation from clean non-zero to something else"},sstoreNoopGasEIP2200:{v:100,d:"Once per SSTORE operation if the value doesn't change"},sstoreDirtyGasEIP2200:{v:100,d:"Once per SSTORE operation if a dirty value is changed"},sstoreInitRefundEIP2200:{v:19900,d:"Once per SSTORE operation for resetting to the original zero value"},sstoreCleanRefundEIP2200:{v:4900,d:"Once per SSTORE operation for resetting to the original non-zero value"},call:{v:0,d:"Base fee of the CALL opcode"},callcode:{v:0,d:"Base fee of the CALLCODE opcode"},delegatecall:{v:0,d:"Base fee of the DELEGATECALL opcode"},staticcall:{v:0,d:"Base fee of the STATICCALL opcode"},balance:{v:0,d:"Base fee of the BALANCE opcode"},extcodesize:{v:0,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:0,d:"Base fee of the EXTCODECOPY opcode"},extcodehash:{v:0,d:"Base fee of the EXTCODEHASH opcode"},sload:{v:0,d:"Base fee of the SLOAD opcode"},sstore:{v:0,d:"Base fee of the SSTORE opcode"}},vm:{},pow:{}},_I={name:"EIP-2930",comment:"Optional access lists",url:"https://eips.ethereum.org/EIPS/eip-2930",status:"Final",minimumHardfork:"istanbul",requiredEIPs:[2718,2929],gasConfig:{},gasPrices:{accessListStorageKeyCost:{v:1900,d:"Gas cost per storage key in an Access List transaction"},accessListAddressCost:{v:2400,d:"Gas cost per storage key in an Access List transaction"}},vm:{},pow:{}},II={name:"EIP-3198",number:3198,comment:"BASEFEE opcode",url:"https://eips.ethereum.org/EIPS/eip-3198",status:"Final",minimumHardfork:"london",gasConfig:{},gasPrices:{basefee:{v:2,d:"Gas cost of the BASEFEE opcode"}},vm:{},pow:{}},xI={name:"EIP-3529",comment:"Reduction in refunds",url:"https://eips.ethereum.org/EIPS/eip-3529",status:"Final",minimumHardfork:"berlin",requiredEIPs:[2929],gasConfig:{maxRefundQuotient:{v:5,d:"Maximum refund quotient; max tx refund is min(tx.gasUsed/maxRefundQuotient, tx.gasRefund)"}},gasPrices:{selfdestructRefund:{v:0,d:"Refunded following a selfdestruct operation"},sstoreClearRefundEIP2200:{v:4800,d:"Once per SSTORE operation for clearing an originally existing storage slot"}},vm:{},pow:{}},EI={name:"EIP-3540",number:3540,comment:"EVM Object Format (EOF) v1",url:"https://eips.ethereum.org/EIPS/eip-3540",status:"Review",minimumHardfork:"london",requiredEIPs:[3541],gasConfig:{},gasPrices:{},vm:{},pow:{}},vI={name:"EIP-3541",comment:"Reject new contracts starting with the 0xEF byte",url:"https://eips.ethereum.org/EIPS/eip-3541",status:"Final",minimumHardfork:"berlin",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}},TI={name:"EIP-3554",comment:"Reduction in refunds",url:"Difficulty Bomb Delay to December 1st 2021",status:"Final",minimumHardfork:"muirGlacier",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:95e5,d:"the amount of blocks to delay the difficulty bomb with"}}},BI={name:"EIP-3607",number:3607,comment:"Reject transactions from senders with deployed code",url:"https://eips.ethereum.org/EIPS/eip-3607",status:"Final",minimumHardfork:"chainstart",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}},kI={name:"EIP-3651",number:3198,comment:"Warm COINBASE",url:"https://eips.ethereum.org/EIPS/eip-3651",status:"Review",minimumHardfork:"london",requiredEIPs:[2929],gasConfig:{},gasPrices:{},vm:{},pow:{}},SI={name:"EIP-3670",number:3670,comment:"EOF - Code Validation",url:"https://eips.ethereum.org/EIPS/eip-3670",status:"Review",minimumHardfork:"london",requiredEIPs:[3540],gasConfig:{},gasPrices:{},vm:{},pow:{}},RI={name:"EIP-3675",number:3675,comment:"Upgrade consensus to Proof-of-Stake",url:"https://eips.ethereum.org/EIPS/eip-3675",status:"Final",minimumHardfork:"london",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}},CI={name:"EIP-3855",number:3855,comment:"PUSH0 instruction",url:"https://eips.ethereum.org/EIPS/eip-3855",status:"Review",minimumHardfork:"chainstart",requiredEIPs:[],gasConfig:{},gasPrices:{push0:{v:2,d:"Base fee of the PUSH0 opcode"}},vm:{},pow:{}},PI={name:"EIP-3860",number:3860,comment:"Limit and meter initcode",url:"https://eips.ethereum.org/EIPS/eip-3860",status:"Review",minimumHardfork:"spuriousDragon",requiredEIPs:[],gasConfig:{},gasPrices:{initCodeWordCost:{v:2,d:"Gas to pay for each word (32 bytes) of initcode when creating a contract"}},vm:{maxInitCodeSize:{v:49152,d:"Maximum length of initialization code when creating a contract"}},pow:{}},OI={name:"EIP-4345",number:4345,comment:"Difficulty Bomb Delay to June 2022",url:"https://eips.ethereum.org/EIPS/eip-4345",status:"Final",minimumHardfork:"london",gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:107e5,d:"the amount of blocks to delay the difficulty bomb with"}}},NI={name:"EIP-4399",number:4399,comment:"Supplant DIFFICULTY opcode with PREVRANDAO",url:"https://eips.ethereum.org/EIPS/eip-4399",status:"Review",minimumHardfork:"london",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}},LI={name:"EIP-5133",number:5133,comment:"Delaying Difficulty Bomb to mid-September 2022",url:"https://eips.ethereum.org/EIPS/eip-5133",status:"Draft",minimumHardfork:"grayGlacier",gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:114e5,d:"the amount of blocks to delay the difficulty bomb with"}}},Qn={1153:pI,1559:mI,2315:gI,2537:yI,2565:bI,2718:wI,2929:AI,2930:_I,3198:II,3529:xI,3540:EI,3541:vI,3554:TI,3607:BI,3651:kI,3670:SI,3675:RI,3855:CI,3860:PI,4345:OI,4399:NI,5133:LI},MI={name:"chainstart",comment:"Start of the Ethereum main chain",url:"",status:"",gasConfig:{minGasLimit:{v:5e3,d:"Minimum the gas limit may ever be"},gasLimitBoundDivisor:{v:1024,d:"The bound divisor of the gas limit, used in update calculations"},maxRefundQuotient:{v:2,d:"Maximum refund quotient; max tx refund is min(tx.gasUsed/maxRefundQuotient, tx.gasRefund)"}},gasPrices:{base:{v:2,d:"Gas base cost, used e.g. for ChainID opcode (Istanbul)"},tierStep:{v:[0,2,3,5,8,10,20],d:"Once per operation, for a selection of them"},exp:{v:10,d:"Base fee of the EXP opcode"},expByte:{v:10,d:"Times ceil(log256(exponent)) for the EXP instruction"},sha3:{v:30,d:"Base fee of the SHA3 opcode"},sha3Word:{v:6,d:"Once per word of the SHA3 operation's data"},sload:{v:50,d:"Base fee of the SLOAD opcode"},sstoreSet:{v:2e4,d:"Once per SSTORE operation if the zeroness changes from zero"},sstoreReset:{v:5e3,d:"Once per SSTORE operation if the zeroness does not change from zero"},sstoreRefund:{v:15e3,d:"Once per SSTORE operation if the zeroness changes to zero"},jumpdest:{v:1,d:"Base fee of the JUMPDEST opcode"},log:{v:375,d:"Base fee of the LOG opcode"},logData:{v:8,d:"Per byte in a LOG* operation's data"},logTopic:{v:375,d:"Multiplied by the * of the LOG*, per LOG transaction. e.g. LOG0 incurs 0 * c_txLogTopicGas, LOG4 incurs 4 * c_txLogTopicGas"},create:{v:32e3,d:"Base fee of the CREATE opcode"},call:{v:40,d:"Base fee of the CALL opcode"},callStipend:{v:2300,d:"Free gas given at beginning of call"},callValueTransfer:{v:9e3,d:"Paid for CALL when the value transfor is non-zero"},callNewAccount:{v:25e3,d:"Paid for CALL when the destination address didn't exist prior"},selfdestructRefund:{v:24e3,d:"Refunded following a selfdestruct operation"},memory:{v:3,d:"Times the address of the (highest referenced byte in memory + 1). NOTE: referencing happens on read, write and in instructions such as RETURN and CALL"},quadCoeffDiv:{v:512,d:"Divisor for the quadratic particle of the memory cost equation"},createData:{v:200,d:""},tx:{v:21e3,d:"Per transaction. NOTE: Not payable on data of calls between transactions"},txCreation:{v:32e3,d:"The cost of creating a contract via tx"},txDataZero:{v:4,d:"Per byte of data attached to a transaction that equals zero. NOTE: Not payable on data of calls between transactions"},txDataNonZero:{v:68,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions"},copy:{v:3,d:"Multiplied by the number of 32-byte words that are copied (round up) for any *COPY operation and added"},ecRecover:{v:3e3,d:""},sha256:{v:60,d:""},sha256Word:{v:12,d:""},ripemd160:{v:600,d:""},ripemd160Word:{v:120,d:""},identity:{v:15,d:""},identityWord:{v:3,d:""},stop:{v:0,d:"Base fee of the STOP opcode"},add:{v:3,d:"Base fee of the ADD opcode"},mul:{v:5,d:"Base fee of the MUL opcode"},sub:{v:3,d:"Base fee of the SUB opcode"},div:{v:5,d:"Base fee of the DIV opcode"},sdiv:{v:5,d:"Base fee of the SDIV opcode"},mod:{v:5,d:"Base fee of the MOD opcode"},smod:{v:5,d:"Base fee of the SMOD opcode"},addmod:{v:8,d:"Base fee of the ADDMOD opcode"},mulmod:{v:8,d:"Base fee of the MULMOD opcode"},signextend:{v:5,d:"Base fee of the SIGNEXTEND opcode"},lt:{v:3,d:"Base fee of the LT opcode"},gt:{v:3,d:"Base fee of the GT opcode"},slt:{v:3,d:"Base fee of the SLT opcode"},sgt:{v:3,d:"Base fee of the SGT opcode"},eq:{v:3,d:"Base fee of the EQ opcode"},iszero:{v:3,d:"Base fee of the ISZERO opcode"},and:{v:3,d:"Base fee of the AND opcode"},or:{v:3,d:"Base fee of the OR opcode"},xor:{v:3,d:"Base fee of the XOR opcode"},not:{v:3,d:"Base fee of the NOT opcode"},byte:{v:3,d:"Base fee of the BYTE opcode"},address:{v:2,d:"Base fee of the ADDRESS opcode"},balance:{v:20,d:"Base fee of the BALANCE opcode"},origin:{v:2,d:"Base fee of the ORIGIN opcode"},caller:{v:2,d:"Base fee of the CALLER opcode"},callvalue:{v:2,d:"Base fee of the CALLVALUE opcode"},calldataload:{v:3,d:"Base fee of the CALLDATALOAD opcode"},calldatasize:{v:2,d:"Base fee of the CALLDATASIZE opcode"},calldatacopy:{v:3,d:"Base fee of the CALLDATACOPY opcode"},codesize:{v:2,d:"Base fee of the CODESIZE opcode"},codecopy:{v:3,d:"Base fee of the CODECOPY opcode"},gasprice:{v:2,d:"Base fee of the GASPRICE opcode"},extcodesize:{v:20,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:20,d:"Base fee of the EXTCODECOPY opcode"},blockhash:{v:20,d:"Base fee of the BLOCKHASH opcode"},coinbase:{v:2,d:"Base fee of the COINBASE opcode"},timestamp:{v:2,d:"Base fee of the TIMESTAMP opcode"},number:{v:2,d:"Base fee of the NUMBER opcode"},difficulty:{v:2,d:"Base fee of the DIFFICULTY opcode"},gaslimit:{v:2,d:"Base fee of the GASLIMIT opcode"},pop:{v:2,d:"Base fee of the POP opcode"},mload:{v:3,d:"Base fee of the MLOAD opcode"},mstore:{v:3,d:"Base fee of the MSTORE opcode"},mstore8:{v:3,d:"Base fee of the MSTORE8 opcode"},sstore:{v:0,d:"Base fee of the SSTORE opcode"},jump:{v:8,d:"Base fee of the JUMP opcode"},jumpi:{v:10,d:"Base fee of the JUMPI opcode"},pc:{v:2,d:"Base fee of the PC opcode"},msize:{v:2,d:"Base fee of the MSIZE opcode"},gas:{v:2,d:"Base fee of the GAS opcode"},push:{v:3,d:"Base fee of the PUSH opcode"},dup:{v:3,d:"Base fee of the DUP opcode"},swap:{v:3,d:"Base fee of the SWAP opcode"},callcode:{v:40,d:"Base fee of the CALLCODE opcode"},return:{v:0,d:"Base fee of the RETURN opcode"},invalid:{v:0,d:"Base fee of the INVALID opcode"},selfdestruct:{v:0,d:"Base fee of the SELFDESTRUCT opcode"}},vm:{stackLimit:{v:1024,d:"Maximum size of VM stack allowed"},callCreateDepth:{v:1024,d:"Maximum depth of call/create stack"},maxExtraDataSize:{v:32,d:"Maximum size extra data may be after Genesis"}},pow:{minimumDifficulty:{v:131072,d:"The minimum that the difficulty may ever be"},difficultyBoundDivisor:{v:2048,d:"The bound divisor of the difficulty, used in the update calculations"},durationLimit:{v:13,d:"The decision boundary on the blocktime duration used to determine whether difficulty should go up or not"},epochDuration:{v:3e4,d:"Duration between proof-of-work epochs"},timebombPeriod:{v:1e5,d:"Exponential difficulty timebomb period"},minerReward:{v:"5000000000000000000",d:"the amount a miner get rewarded for mining a block"},difficultyBombDelay:{v:0,d:"the amount of blocks to delay the difficulty bomb with"}}},$I={name:"dao",comment:"DAO rescue hardfork",url:"https://eips.ethereum.org/EIPS/eip-779",status:"Final",gasConfig:{},gasPrices:{},vm:{},pow:{}},HI={name:"homestead",comment:"Homestead hardfork with protocol and network changes",url:"https://eips.ethereum.org/EIPS/eip-606",status:"Final",gasConfig:{},gasPrices:{delegatecall:{v:40,d:"Base fee of the DELEGATECALL opcode"}},vm:{},pow:{}},DI={name:"tangerineWhistle",comment:"Hardfork with gas cost changes for IO-heavy operations",url:"https://eips.ethereum.org/EIPS/eip-608",status:"Final",gasConfig:{},gasPrices:{sload:{v:200,d:"Once per SLOAD operation"},call:{v:700,d:"Once per CALL operation & message call transaction"},extcodesize:{v:700,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:700,d:"Base fee of the EXTCODECOPY opcode"},balance:{v:400,d:"Base fee of the BALANCE opcode"},delegatecall:{v:700,d:"Base fee of the DELEGATECALL opcode"},callcode:{v:700,d:"Base fee of the CALLCODE opcode"},selfdestruct:{v:5e3,d:"Base fee of the SELFDESTRUCT opcode"}},vm:{},pow:{}},UI={name:"spuriousDragon",comment:"HF with EIPs for simple replay attack protection, EXP cost increase, state trie clearing, contract code size limit",url:"https://eips.ethereum.org/EIPS/eip-607",status:"Final",gasConfig:{},gasPrices:{expByte:{v:50,d:"Times ceil(log256(exponent)) for the EXP instruction"}},vm:{maxCodeSize:{v:24576,d:"Maximum length of contract code"}},pow:{}},FI={name:"byzantium",comment:"Hardfork with new precompiles, instructions and other protocol changes",url:"https://eips.ethereum.org/EIPS/eip-609",status:"Final",gasConfig:{},gasPrices:{modexpGquaddivisor:{v:20,d:"Gquaddivisor from modexp precompile for gas calculation"},ecAdd:{v:500,d:"Gas costs for curve addition precompile"},ecMul:{v:4e4,d:"Gas costs for curve multiplication precompile"},ecPairing:{v:1e5,d:"Base gas costs for curve pairing precompile"},ecPairingWord:{v:8e4,d:"Gas costs regarding curve pairing precompile input length"},revert:{v:0,d:"Base fee of the REVERT opcode"},staticcall:{v:700,d:"Base fee of the STATICCALL opcode"},returndatasize:{v:2,d:"Base fee of the RETURNDATASIZE opcode"},returndatacopy:{v:3,d:"Base fee of the RETURNDATACOPY opcode"}},vm:{},pow:{minerReward:{v:"3000000000000000000",d:"the amount a miner get rewarded for mining a block"},difficultyBombDelay:{v:3e6,d:"the amount of blocks to delay the difficulty bomb with"}}},jI={name:"constantinople",comment:"Postponed hardfork including EIP-1283 (SSTORE gas metering changes)",url:"https://eips.ethereum.org/EIPS/eip-1013",status:"Final",gasConfig:{},gasPrices:{netSstoreNoopGas:{v:200,d:"Once per SSTORE operation if the value doesn't change"},netSstoreInitGas:{v:2e4,d:"Once per SSTORE operation from clean zero"},netSstoreCleanGas:{v:5e3,d:"Once per SSTORE operation from clean non-zero"},netSstoreDirtyGas:{v:200,d:"Once per SSTORE operation from dirty"},netSstoreClearRefund:{v:15e3,d:"Once per SSTORE operation for clearing an originally existing storage slot"},netSstoreResetRefund:{v:4800,d:"Once per SSTORE operation for resetting to the original non-zero value"},netSstoreResetClearRefund:{v:19800,d:"Once per SSTORE operation for resetting to the original zero value"},shl:{v:3,d:"Base fee of the SHL opcode"},shr:{v:3,d:"Base fee of the SHR opcode"},sar:{v:3,d:"Base fee of the SAR opcode"},extcodehash:{v:400,d:"Base fee of the EXTCODEHASH opcode"},create2:{v:32e3,d:"Base fee of the CREATE2 opcode"}},vm:{},pow:{minerReward:{v:"2000000000000000000",d:"The amount a miner gets rewarded for mining a block"},difficultyBombDelay:{v:5e6,d:"the amount of blocks to delay the difficulty bomb with"}}},GI={name:"petersburg",comment:"Aka constantinopleFix, removes EIP-1283, activate together with or after constantinople",url:"https://eips.ethereum.org/EIPS/eip-1716",status:"Final",gasConfig:{},gasPrices:{netSstoreNoopGas:{v:null,d:"Removed along EIP-1283"},netSstoreInitGas:{v:null,d:"Removed along EIP-1283"},netSstoreCleanGas:{v:null,d:"Removed along EIP-1283"},netSstoreDirtyGas:{v:null,d:"Removed along EIP-1283"},netSstoreClearRefund:{v:null,d:"Removed along EIP-1283"},netSstoreResetRefund:{v:null,d:"Removed along EIP-1283"},netSstoreResetClearRefund:{v:null,d:"Removed along EIP-1283"}},vm:{},pow:{}},qI={name:"istanbul",comment:"HF targeted for December 2019 following the Constantinople/Petersburg HF",url:"https://eips.ethereum.org/EIPS/eip-1679",status:"Final",gasConfig:{},gasPrices:{blake2Round:{v:1,d:"Gas cost per round for the Blake2 F precompile"},ecAdd:{v:150,d:"Gas costs for curve addition precompile"},ecMul:{v:6e3,d:"Gas costs for curve multiplication precompile"},ecPairing:{v:45e3,d:"Base gas costs for curve pairing precompile"},ecPairingWord:{v:34e3,d:"Gas costs regarding curve pairing precompile input length"},txDataNonZero:{v:16,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions"},sstoreSentryGasEIP2200:{v:2300,d:"Minimum gas required to be present for an SSTORE call, not consumed"},sstoreNoopGasEIP2200:{v:800,d:"Once per SSTORE operation if the value doesn't change"},sstoreDirtyGasEIP2200:{v:800,d:"Once per SSTORE operation if a dirty value is changed"},sstoreInitGasEIP2200:{v:2e4,d:"Once per SSTORE operation from clean zero to non-zero"},sstoreInitRefundEIP2200:{v:19200,d:"Once per SSTORE operation for resetting to the original zero value"},sstoreCleanGasEIP2200:{v:5e3,d:"Once per SSTORE operation from clean non-zero to something else"},sstoreCleanRefundEIP2200:{v:4200,d:"Once per SSTORE operation for resetting to the original non-zero value"},sstoreClearRefundEIP2200:{v:15e3,d:"Once per SSTORE operation for clearing an originally existing storage slot"},balance:{v:700,d:"Base fee of the BALANCE opcode"},extcodehash:{v:700,d:"Base fee of the EXTCODEHASH opcode"},chainid:{v:2,d:"Base fee of the CHAINID opcode"},selfbalance:{v:5,d:"Base fee of the SELFBALANCE opcode"},sload:{v:800,d:"Base fee of the SLOAD opcode"}},vm:{},pow:{}},QI={name:"muirGlacier",comment:"HF to delay the difficulty bomb",url:"https://eips.ethereum.org/EIPS/eip-2384",status:"Final",gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:9e6,d:"the amount of blocks to delay the difficulty bomb with"}}},VI={name:"berlin",comment:"HF targeted for July 2020 following the Muir Glacier HF",url:"https://eips.ethereum.org/EIPS/eip-2070",status:"Final",eips:[2565,2929,2718,2930]},zI={name:"london",comment:"HF targeted for July 2021 following the Berlin fork",url:"https://github.com/ethereum/eth1.0-specs/blob/master/network-upgrades/mainnet-upgrades/london.md",status:"Final",eips:[1559,3198,3529,3541]},WI={name:"shanghai",comment:"Next feature hardfork after the merge hardfork having withdrawals, warm coinbase, push0, limit/meter initcode",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/shanghai.md",status:"Final",eips:[3651,3855,3860,4895]},KI={name:"arrowGlacier",comment:"HF to delay the difficulty bomb",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/arrow-glacier.md",status:"Final",eips:[4345],gasConfig:{},gasPrices:{},vm:{},pow:{}},ZI={name:"grayGlacier",comment:"Delaying the difficulty bomb to Mid September 2022",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/gray-glacier.md",status:"Draft",eips:[5133],gasConfig:{},gasPrices:{},vm:{},pow:{}},JI={name:"mergeForkIdTransition",comment:"Pre-merge hardfork to fork off non-upgraded clients",url:"https://eips.ethereum.org/EIPS/eip-3675",status:"Draft",eips:[]},XI={name:"merge",comment:"Hardfork to upgrade the consensus mechanism to Proof-of-Stake",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/merge.md",status:"Final",consensus:{type:"pos",algorithm:"casper",casper:{}},eips:[3675,4399]},YI={chainstart:MI,homestead:HI,dao:$I,tangerineWhistle:DI,spuriousDragon:UI,byzantium:FI,constantinople:jI,petersburg:GI,istanbul:qI,muirGlacier:QI,berlin:VI,london:zI,shanghai:WI,arrowGlacier:KI,grayGlacier:ZI,mergeForkIdTransition:JI,merge:XI},{buf:ex}=dI;class Ie extends J_{static custom(e,n={}){var r;const i=(r=n.baseChain)!==null&&r!==void 0?r:"mainnet",s=Object.assign({},Ie._getChainParams(i));if(s.name="custom-chain",typeof e!="string")return new Ie(Object.assign({chain:Object.assign(Object.assign({},s),e)},n));if(e===Re.PolygonMainnet)return Ie.custom({name:Re.PolygonMainnet,chainId:137,networkId:137},n);if(e===Re.PolygonMumbai)return Ie.custom({name:Re.PolygonMumbai,chainId:80001,networkId:80001},n);if(e===Re.ArbitrumRinkebyTestnet)return Ie.custom({name:Re.ArbitrumRinkebyTestnet,chainId:421611,networkId:421611},n);if(e===Re.ArbitrumOne)return Ie.custom({name:Re.ArbitrumOne,chainId:42161,networkId:42161},n);if(e===Re.xDaiChain)return Ie.custom({name:Re.xDaiChain,chainId:100,networkId:100},n);if(e===Re.OptimisticKovan)return Ie.custom({name:Re.OptimisticKovan,chainId:69,networkId:69},Object.assign({hardfork:ue.Berlin},n));if(e===Re.OptimisticEthereum)return Ie.custom({name:Re.OptimisticEthereum,chainId:10,networkId:10},Object.assign({hardfork:ue.Berlin},n));throw new Error(`Custom chain ${e} not supported`)}static fromGethGenesis(e,{chain:n,eips:r,genesisHash:i,hardfork:s,mergeForkIdPostMerge:o}){var a;const d=eI(e,n,o),u=new Ie({chain:(a=d.name)!==null&&a!==void 0?a:"custom",customChains:[d],eips:r,hardfork:s??d.hardfork});return i!==void 0&&u.setForkHashes(i),u}static isSupportedChainId(e){return!!this._getInitializedChains().names[e.toString()]}static _getChainParams(e,n){let r=e;const i=this._getInitializedChains(n);if(typeof r=="number"||typeof r=="bigint"){if(r=r.toString(),i.names[r]){const s=i.names[r];return i[s]}throw new Error(`Chain with ID ${r} not supported`)}if(i[r]!==void 0)return i[r];throw new Error(`Chain with name ${r} not supported`)}constructor(e){var n,r;super(),this._eips=[],this._customChains=(n=e.customChains)!==null&&n!==void 0?n:[],this._chainParams=this.setChain(e.chain),this.DEFAULT_HARDFORK=(r=this._chainParams.defaultHardfork)!==null&&r!==void 0?r:ue.Merge,this.HARDFORK_CHANGES=this.hardforks().map(i=>[i.name,YI[i.name]]),this._hardfork=this.DEFAULT_HARDFORK,e.hardfork!==void 0&&this.setHardfork(e.hardfork),e.eips&&this.setEIPs(e.eips)}setChain(e){if(typeof e=="number"||typeof e=="bigint"||typeof e=="string")this._chainParams=Ie._getChainParams(e,this._customChains);else if(typeof e=="object"){if(this._customChains.length>0)throw new Error("Chain must be a string, number, or bigint when initialized with customChains passed in");const n=["networkId","genesis","hardforks","bootstrapNodes"];for(const r of n)if(!(r in e))throw new Error(`Missing required chain parameter: ${r}`);this._chainParams=e}else throw new Error("Wrong input format");for(const n of this.hardforks())if(n.block===void 0)throw new Error("Hardfork cannot have undefined block number");return this._chainParams}setHardfork(e){let n=!1;for(const r of this.HARDFORK_CHANGES)r[0]===e&&(this._hardfork!==e&&(this._hardfork=e,this.emit("hardforkChanged",e)),n=!0);if(!n)throw new Error(`Hardfork with name ${e} not supported`)}getHardforkByBlockNumber(e,n,r){const i=qn(e,nt.BigInt),s=qn(n,nt.BigInt),o=qn(r,nt.Number),a=this.hardforks().filter(l=>l.block!==null||l.ttd!==null&&l.ttd!==void 0||l.timestamp!==void 0),d=a.findIndex(l=>l.ttd!==null&&l.ttd!==void 0);if(a.slice(d+1).findIndex(l=>l.ttd!==null&&l.ttd!==void 0)>=0)throw Error("More than one merge hardforks found with ttd specified");let c=a.findIndex(l=>l.block!==null&&l.block>i||o!==void 0&&Number(l.timestamp)>o);if(c===-1)c=a.length;else if(c===0)throw Error("Must have at least one hardfork at block 0");if(o===void 0){const l=a.slice(0,c).reverse().findIndex(b=>b.block!==null||b.ttd!==void 0);c-=l}if(c-=1,a[c].block===null&&a[c].timestamp===void 0)(s==null||BigInt(a[c].ttd)>s)&&(c-=1);else if(d>=0&&s!==void 0&&s!==null){if(c>=d&&BigInt(a[d].ttd)>s)throw Error("Maximum HF determined by total difficulty is lower than the block number HF");if(c<d&&BigInt(a[d].ttd)<=s)throw Error("HF determined by block number is lower than the minimum total difficulty HF")}const f=c;for(;c<a.length-1&&!(a[c].block!==a[c+1].block||a[c].timestamp!==a[c+1].timestamp);c+=1);if(o){if(a.slice(0,f).reduce((m,g)=>{var p;return Math.max(Number((p=g.timestamp)!==null&&p!==void 0?p:"0"),m)},0)>o)throw Error("Maximum HF determined by timestamp is lower than the block number/ttd HF");if(a.slice(c+1).reduce((m,g)=>{var p;return Math.min(Number((p=g.timestamp)!==null&&p!==void 0?p:o),m)},o)<o)throw Error("Maximum HF determined by block number/ttd is lower than timestamp HF")}return a[c].name}setHardforkByBlockNumber(e,n,r){const i=this.getHardforkByBlockNumber(e,n,r);return this.setHardfork(i),i}_getHardfork(e){const n=this.hardforks();for(const r of n)if(r.name===e)return r;return null}setEIPs(e=[]){for(const n of e){if(!(n in Qn))throw new Error(`${n} not supported`);const r=this.gteHardfork(Qn[n].minimumHardfork);if(!r)throw new Error(`${n} cannot be activated on hardfork ${this.hardfork()}, minimumHardfork: ${r}`);if(Qn[n].requiredEIPs!==void 0){for(const i of Qn[n].requiredEIPs)if(!(e.includes(i)||this.isActivatedEIP(i)))throw new Error(`${n} requires EIP ${i}, but is not included in the EIP list`)}}this._eips=e}param(e,n){let r;for(const i of this._eips)if(r=this.paramByEIP(e,n,i),r!==void 0)return r;return this.paramByHardfork(e,n,this._hardfork)}paramByHardfork(e,n,r){let i=null;for(const s of this.HARDFORK_CHANGES){if("eips"in s[1]){const o=s[1].eips;for(const a of o){const d=this.paramByEIP(e,n,a);i=typeof d=="bigint"?d:i}}else{if(s[1][e]===void 0)throw new Error(`Topic ${e} not defined`);s[1][e][n]!==void 0&&(i=s[1][e][n].v)}if(s[0]===r)break}return BigInt(i??0)}paramByEIP(e,n,r){if(!(r in Qn))throw new Error(`${r} not supported`);const i=Qn[r];if(!(e in i))throw new Error(`Topic ${e} not defined`);if(i[e][n]===void 0)return;const s=i[e][n].v;return BigInt(s)}paramByBlock(e,n,r,i,s){const o=this.getHardforkByBlockNumber(r,i,s);return this.paramByHardfork(e,n,o)}isActivatedEIP(e){if(this.eips().includes(e))return!0;for(const n of this.HARDFORK_CHANGES){const r=n[1];if(this.gteHardfork(r.name)&&"eips"in r&&r.eips.includes(e))return!0}return!1}hardforkIsActiveOnBlock(e,n){const r=qn(n,nt.BigInt),i=e??this._hardfork,s=this.hardforkBlock(i);return typeof s=="bigint"&&s!==BigInt(0)&&r>=s}activeOnBlock(e){return this.hardforkIsActiveOnBlock(null,e)}hardforkGteHardfork(e,n){const r=e??this._hardfork,i=this.hardforks();let s=-1,o=-1,a=0;for(const d of i)d.name===r&&(s=a),d.name===n&&(o=a),a+=1;return s>=o&&o!==-1}gteHardfork(e){return this.hardforkGteHardfork(null,e)}hardforkBlock(e){var n;const r=e??this._hardfork,i=(n=this._getHardfork(r))===null||n===void 0?void 0:n.block;return i==null?null:BigInt(i)}hardforkTimestamp(e){var n;const r=e??this._hardfork,i=(n=this._getHardfork(r))===null||n===void 0?void 0:n.timestamp;return i==null?null:BigInt(i)}eipBlock(e){for(const n of this.HARDFORK_CHANGES){const r=n[1];if("eips"in r&&r.eips.includes(e))return this.hardforkBlock(typeof n[0]=="number"?String(n[0]):n[0])}return null}hardforkTTD(e){var n;const r=e??this._hardfork,i=(n=this._getHardfork(r))===null||n===void 0?void 0:n.ttd;return i==null?null:BigInt(i)}isHardforkBlock(e,n){const r=qn(e,nt.BigInt),i=n??this._hardfork,s=this.hardforkBlock(i);return typeof s=="bigint"&&s!==BigInt(0)?s===r:!1}nextHardforkBlockOrTimestamp(e){var n,r,i;const s=(n=e)!==null&&n!==void 0?n:this._hardfork,o=this.hardforks();let a=o.findIndex(f=>f.name===s);if(s===ue.Merge&&(a-=1),a<0)return null;let d=(r=o[a].timestamp)!==null&&r!==void 0?r:o[a].block;d=d!=null?Number(d):null;const u=o.slice(a+1).find(f=>{var h;let l=(h=f.timestamp)!==null&&h!==void 0?h:f.block;return l=l!=null?Number(l):null,f.name!==ue.Merge&&l!==null&&l!==void 0&&l!==d});if(u===void 0)return null;const c=(i=u.timestamp)!==null&&i!==void 0?i:u.block;return c==null?null:BigInt(c)}nextHardforkBlock(e){var n;const r=(n=e)!==null&&n!==void 0?n:this._hardfork;let i=this.hardforkBlock(r);if(i===null&&r===ue.Merge){const o=this.hardforks(),a=o.findIndex(d=>d.ttd!==null&&d.ttd!==void 0);if(a<0)throw Error("Merge hardfork should have been found");i=this.hardforkBlock(o[a-1].name)}return i===null?null:this.hardforks().reduce((o,a)=>{const d=BigInt(a.block===null||a.ttd!==void 0&&a.ttd!==null?0:a.block);return d>i&&o===null?d:o},null)}isNextHardforkBlock(e,n){const r=qn(e,nt.BigInt),i=n??this._hardfork,s=this.nextHardforkBlock(i);return s===null?!1:s===r}_calcForkHash(e,n){let r=new Uint8Array,i=0;for(const a of this.hardforks()){const{block:d,timestamp:u,name:c}=a;let f=u??d;if(f=f!==null?Number(f):null,typeof f=="number"&&f!==0&&f!==i&&c!==ue.Merge){const h=xe(f.toString(16).padStart(16,"0"));r=Ut(r,h),i=f}if(a.name===e)break}const s=Ut(n,r);return oe(tI(ex(s)>>>0))}forkHash(e,n){const r=e??this._hardfork,i=this._getHardfork(r);if(i===null||(i==null?void 0:i.block)===null&&(i==null?void 0:i.timestamp)===void 0&&(i==null?void 0:i.ttd)===void 0){const s="No fork hash calculation possible for future hardfork";throw new Error(s)}if((i==null?void 0:i.forkHash)!==null&&(i==null?void 0:i.forkHash)!==void 0)return i.forkHash;if(!n)throw new Error("genesisHash required for forkHash calculation");return this._calcForkHash(r,n)}hardforkForForkHash(e){const n=this.hardforks().filter(r=>r.forkHash===e);return n.length>=1?n[n.length-1]:null}setForkHashes(e){var n;for(const r of this.hardforks()){const i=(n=r.timestamp)!==null&&n!==void 0?n:r.block;(r.forkHash===null||r.forkHash===void 0)&&(i!=null||typeof r.ttd<"u")&&(r.forkHash=this.forkHash(r.name,e))}}genesis(){return this._chainParams.genesis}hardforks(){return this._chainParams.hardforks}bootstrapNodes(){return this._chainParams.bootstrapNodes}dnsNetworks(){return this._chainParams.dnsNetworks}hardfork(){return this._hardfork}chainId(){return BigInt(this._chainParams.chainId)}chainName(){return this._chainParams.name}networkId(){return BigInt(this._chainParams.networkId)}eips(){return this._eips}consensusType(){const e=this.hardfork();let n;for(const r of this.HARDFORK_CHANGES)if("consensus"in r[1]&&(n=r[1].consensus.type),r[0]===e)break;return n??this._chainParams.consensus.type}consensusAlgorithm(){const e=this.hardfork();let n;for(const r of this.HARDFORK_CHANGES)if("consensus"in r[1]&&(n=r[1].consensus.algorithm),r[0]===e)break;return n??this._chainParams.consensus.algorithm}consensusConfig(){var e;const n=this.hardfork();let r;for(const i of this.HARDFORK_CHANGES)if("consensus"in i[1]&&(r=i[1].consensus[i[1].consensus.algorithm]),i[0]===n)break;return(e=r??this._chainParams.consensus[this.consensusAlgorithm()])!==null&&e!==void 0?e:{}}copy(){const e=Object.assign(Object.create(Object.getPrototypeOf(this)),this);return e.removeAllListeners(),e}static _getInitializedChains(e){const n={};for(const[i,s]of Object.entries(eo))n[s]=i.toLowerCase();const r={mainnet:lI,goerli:fI,sepolia:hI};if(e)for(const i of e){const{name:s}=i;n[i.chainId.toString()]=s,r[s]=i}return r.names=n,r}}var bt;(function(t){t[t.EIP155ReplayProtection=155]="EIP155ReplayProtection",t[t.EIP1559FeeMarket=1559]="EIP1559FeeMarket",t[t.EIP2718TypedTransaction=2718]="EIP2718TypedTransaction",t[t.EIP2930AccessLists=2930]="EIP2930AccessLists"})(bt||(bt={}));function tx(t){if(t.length===0)return!0;const e=t[0];return!!Array.isArray(e)}function nx(t){return!tx(t)}class rr{constructor(e){if(e.length!==20)throw new Error("Invalid address length");this.buf=e}static zero(){return new rr(Kh(20))}equals(e){return eu(this.buf,e.buf)}isZero(){return this.equals(rr.zero())}toString(){return oe(this.buf)}toArray(){return this.buf}static publicToAddress(e,n=!1){let r=e;if(cu(r),n&&r.length!==64&&(r=Qt.ProjectivePoint.fromHex(r).toRawBytes(!1).slice(1)),r.length!==64)throw new Error("Expected pubKey to be of length 64");return Ke(r).slice(-20)}}const rx=(t,e)=>{const n=t.param("vm","maxInitCodeSize");if(n&&BigInt(e)>n)throw new Error(`the initcode size of this transaction is too large: it is ${e} while the max is ${t.param("vm","maxInitCodeSize")}`)},Zh=t=>{let e,n;if(nx(t)){e=t;const r=[];for(let i=0;i<t.length;i+=1){const s=t[i],o=fe(s.address),a=[];for(let d=0;d<s.storageKeys.length;d+=1)a.push(fe(s.storageKeys[d]));r.push([o,a])}n=r}else{n=t??[];const r=[];for(let i=0;i<n.length;i+=1){const s=n[i],o=oe(s[0]),a=[];for(let u=0;u<s[1].length;u+=1)a.push(oe(s[1][u]));const d={address:o,storageKeys:a};r.push(d)}e=r}return{AccessListJSON:e,accessList:n}},Jh=t=>{for(let e=0;e<t.length;e+=1){const n=t[e],r=n[0],i=n[1];if(n[2]!==void 0)throw new Error("Access list item cannot have 3 elements. It can only have an address, and an array of storage slots.");if(r.length!==20)throw new Error("Invalid EIP-2930 transaction: address length should be 20 bytes");for(let s=0;s<i.length;s+=1)if(i[s].length!==32)throw new Error("Invalid EIP-2930 transaction: storage slot length should be 32 bytes")}},Xh=t=>{const e=[];for(let n=0;n<t.length;n+=1){const r=t[n],i={address:oe(qd(r[0],20)),storageKeys:[]},s=r&&r[1];for(let o=0;o<s.length;o+=1){const a=s[o];i.storageKeys.push(oe(qd(a,32)))}e.push(i)}return e},Yh=(t,e)=>{const n=e.param("gasPrices","accessListStorageKeyCost"),r=e.param("gasPrices","accessListAddressCost");let i=0;for(let o=0;o<t.length;o+=1){const d=t[o][1];i+=d.length}return t.length*Number(r)+i*Number(n)};class mr{constructor(e,n){var r,i;this.cache={hash:void 0,dataFee:void 0},this.activeCapabilities=[],this.DEFAULT_CHAIN=eo.Mainnet,this.DEFAULT_HARDFORK=ue.Merge;const{nonce:s,gasLimit:o,to:a,value:d,data:u,v:c,r:f,s:h,type:l}=e;this._type=Number(ce(fe(l))),this.txOptions=n;const b=fe(a===""?"0x":a),m=fe(c===""?"0x":c),g=fe(f===""?"0x":f),p=fe(h===""?"0x":h);this.nonce=ce(fe(s===""?"0x":s)),this.gasLimit=ce(fe(o===""?"0x":o)),this.to=b.length>0?new rr(b):void 0,this.value=ce(fe(d===""?"0x":d)),this.data=fe(u===""?"0x":u),this.v=m.length>0?ce(m):void 0,this.r=g.length>0?ce(g):void 0,this.s=p.length>0?ce(p):void 0,this._validateCannotExceedMaxInteger({value:this.value,r:this.r,s:this.s}),this._validateCannotExceedMaxInteger({gasLimit:this.gasLimit},64),this._validateCannotExceedMaxInteger({nonce:this.nonce},64,!0);const w=this.to===void 0||this.to===null,_=(r=n.allowUnlimitedInitCodeSize)!==null&&r!==void 0?r:!1,v=(i=n.common)!==null&&i!==void 0?i:this._getCommon();w&&v.isActivatedEIP(3860)&&!_&&rx(v,this.data.length)}get type(){return this._type}supports(e){return this.activeCapabilities.includes(e)}validate(e=!1){const n=[];return this.getBaseFee()>this.gasLimit&&n.push(`gasLimit is too low. given ${this.gasLimit}, need at least ${this.getBaseFee()}`),this.isSigned()&&!this.verifySignature()&&n.push("Invalid Signature"),e?n:n.length===0}_validateYParity(){const{v:e}=this;if(e!==void 0&&e!==BigInt(0)&&e!==BigInt(1)){const n=this._errorMsg("The y-parity of the transaction should either be 0 or 1");throw new Error(n)}}_validateHighS(){const{s:e}=this;if(this.common.gteHardfork("homestead")&&e!==void 0&&e>Z1){const n=this._errorMsg("Invalid Signature: s-values greater than secp256k1n/2 are considered invalid");throw new Error(n)}}getBaseFee(){const e=this.common.param("gasPrices","tx");let n=this.getDataFee();if(e&&(n+=e),this.common.gteHardfork("homestead")&&this.toCreationAddress()){const r=this.common.param("gasPrices","txCreation");r&&(n+=r)}return n}getDataFee(){const e=this.common.param("gasPrices","txDataZero"),n=this.common.param("gasPrices","txDataNonZero");let r=BigInt(0);for(let i=0;i<this.data.length;i+=1)this.data[i]===0?r+=e:r+=n;if((this.to===void 0||this.to===null)&&this.common.isActivatedEIP(3860)){const i=BigInt(Math.ceil(this.data.length/32)),s=this.common.param("gasPrices","initCodeWordCost")*i;r+=s}return r}toCreationAddress(){return this.to===void 0||this.to.buf.length===0}isSigned(){const{v:e,r:n,s:r}=this;return!(e===void 0||n===void 0||r===void 0)}verifySignature(){try{const e=this.getSenderPublicKey();return to(e).length!==0}catch{return!1}}getSenderAddress(){return new rr(rr.publicToAddress(this.getSenderPublicKey()))}sign(e){if(e.length!==32){const d=this._errorMsg("Private key must be 32 bytes in length.");throw new Error(d)}let n=!1;this.type===0&&this.common.gteHardfork("spuriousDragon")&&!this.supports(bt.EIP155ReplayProtection)&&(this.activeCapabilities.push(bt.EIP155ReplayProtection),n=!0);const r=this.getMessageToSign(!0),{v:i,r:s,s:o}=this._ecsign(r,e),a=this._processSignature(i,s,o);if(n){const d=this.activeCapabilities.indexOf(bt.EIP155ReplayProtection);d>-1&&this.activeCapabilities.splice(d,1)}return a}_getCommon(e,n){var r,i,s,o;if(n!==void 0){const a=ce(fe(n));if(e){if(e.chainId()!==a){const d=this._errorMsg("The chain ID does not match the chain ID of Common");throw new Error(d)}return e.copy()}return Ie.isSupportedChainId(a)?new Ie({chain:a,hardfork:this.DEFAULT_HARDFORK}):Ie.custom({name:"custom-chain",networkId:a,chainId:a},{baseChain:this.DEFAULT_CHAIN,hardfork:this.DEFAULT_HARDFORK})}if(e!=null&&e.copy&&typeof(e==null?void 0:e.copy)=="function")return e.copy();if(e){const a=typeof e.hardfork=="function"?e.hardfork():e.hardfork;return Ie.custom({name:"custom-chain",networkId:e.networkId?e.networkId():(i=BigInt((r=e.customChain)===null||r===void 0?void 0:r.networkId))!==null&&i!==void 0?i:void 0,chainId:e.chainId?e.chainId():(o=BigInt((s=e.customChain)===null||s===void 0?void 0:s.chainId))!==null&&o!==void 0?o:void 0},{baseChain:this.DEFAULT_CHAIN,hardfork:a||this.DEFAULT_HARDFORK})}return new Ie({chain:this.DEFAULT_CHAIN,hardfork:this.DEFAULT_HARDFORK})}_validateCannotExceedMaxInteger(e,n=256,r=!1){for(const[i,s]of Object.entries(e))switch(n){case 64:if(r){if(s!==void 0&&s>=Fd){const o=this._errorMsg(`${i} cannot equal or exceed MAX_UINT64 (2^64-1), given ${s}`);throw new Error(o)}}else if(s!==void 0&&s>Fd){const o=this._errorMsg(`${i} cannot exceed MAX_UINT64 (2^64-1), given ${s}`);throw new Error(o)}break;case 256:if(r){if(s!==void 0&&s>=Ei){const o=this._errorMsg(`${i} cannot equal or exceed MAX_INTEGER (2^256-1), given ${s}`);throw new Error(o)}}else if(s!==void 0&&s>Ei){const o=this._errorMsg(`${i} cannot exceed MAX_INTEGER (2^256-1), given ${s}`);throw new Error(o)}break;default:{const o=this._errorMsg("unimplemented bits value");throw new Error(o)}}}static _validateNotArray(e){const n=["nonce","gasPrice","gasLimit","to","value","data","v","r","s","type","baseFee","maxFeePerGas","chainId"];for(const[r,i]of Object.entries(e))if(n.includes(r)&&Array.isArray(i))throw new Error(`${r} cannot be an array`)}_getSharedErrorPostfix(){let e="";try{e=this.isSigned()?oe(this.hash()):"not available (unsigned)"}catch{e="error"}let n="";try{n=this.isSigned().toString()}catch{e="error"}let r="";try{r=this.common.hardfork()}catch{r="error"}let i=`tx type=${this.type} hash=${e} nonce=${this.nonce} value=${this.value} `;return i+=`signed=${n} hf=${r}`,i}_ecsign(e,n,r){const i=Qt.sign(e,n),s=i.toCompactRawBytes(),o=s.subarray(0,32),a=s.subarray(32,64),d=r===void 0?BigInt(i.recovery+27):BigInt(i.recovery+35)+BigInt(r)*BigInt(2);return{r:o,s:a,v:d}}static fromSerializedTx(e,n={}){}static fromTxData(e,n={}){}}const ic=2,ka=xe(ic.toString(16).padStart(2,"0"));class pn extends mr{static fromTxData(e,n={}){return new pn(e,n)}static fromSerializedTx(e,n={}){if(!eu(e.subarray(0,1),ka))throw new Error(`Invalid serialized tx input: not an EIP-1559 transaction (wrong tx type, expected: ${ic}, received: ${oe(e.subarray(0,1))}`);const r=rt.RLP.decode(e.subarray(1));if(!Array.isArray(r))throw new Error("Invalid serialized tx input: must be array");return pn.fromValuesArray(r,n)}static fromValuesArray(e,n={}){if(e.length!==9&&e.length!==12)throw new Error("Invalid EIP-1559 transaction. Only expecting 9 values (for unsigned tx) or 12 values (for signed tx).");const[r,i,s,o,a,d,u,c,f,h,l,b]=e;return this._validateNotArray({chainId:r,v:h}),qc({nonce:i,maxPriorityFeePerGas:s,maxFeePerGas:o,gasLimit:a,value:u,v:h,r:l,s:b}),new pn({chainId:ce(r),nonce:i,maxPriorityFeePerGas:s,maxFeePerGas:o,gasLimit:a,to:d,value:u,data:c,accessList:f??[],v:h!==void 0?ce(h):void 0,r:l,s:b},n)}constructor(e,n={}){var r;super(Object.assign(Object.assign({},e),{type:ic}),n),this.DEFAULT_HARDFORK="london";const{chainId:i,accessList:s,maxFeePerGas:o,maxPriorityFeePerGas:a}=e;if(this.common=this._getCommon(n.common,i),this.chainId=this.common.chainId(),!this.common.isActivatedEIP(1559))throw new Error("EIP-1559 not enabled on Common");this.activeCapabilities=this.activeCapabilities.concat([1559,2718,2930]);const d=Zh(s??[]);if(this.accessList=d.accessList,this.AccessListJSON=d.AccessListJSON,Jh(this.accessList),this.maxFeePerGas=ce(fe(o===""?"0x":o)),this.maxPriorityFeePerGas=ce(fe(a===""?"0x":a)),this._validateCannotExceedMaxInteger({maxFeePerGas:this.maxFeePerGas,maxPriorityFeePerGas:this.maxPriorityFeePerGas}),mr._validateNotArray(e),this.gasLimit*this.maxFeePerGas>Ei){const c=this._errorMsg("gasLimit * maxFeePerGas cannot exceed MAX_INTEGER (2^256-1)");throw new Error(c)}if(this.maxFeePerGas<this.maxPriorityFeePerGas){const c=this._errorMsg("maxFeePerGas cannot be less than maxPriorityFeePerGas (The total must be the larger of the two)");throw new Error(c)}this._validateYParity(),this._validateHighS(),((r=n==null?void 0:n.freeze)!==null&&r!==void 0?r:!0)&&Object.freeze(this)}getDataFee(){if(this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork())return this.cache.dataFee.value;let e=super.getDataFee();return e+=BigInt(Yh(this.accessList,this.common)),Object.isFrozen(this)&&(this.cache.dataFee={value:e,hardfork:this.common.hardfork()}),e}getUpfrontCost(e=BigInt(0)){const n=this.maxPriorityFeePerGas,r=this.maxFeePerGas-e,s=(n<r?n:r)+e;return this.gasLimit*s+this.value}raw(){return[te(this.chainId),te(this.nonce),te(this.maxPriorityFeePerGas),te(this.maxFeePerGas),te(this.gasLimit),this.to!==void 0?this.to.buf:Uint8Array.from([]),te(this.value),this.data,this.accessList,this.v!==void 0?te(this.v):Uint8Array.from([]),this.r!==void 0?te(this.r):Uint8Array.from([]),this.s!==void 0?te(this.s):Uint8Array.from([])]}serialize(){const e=this.raw();return Ut(ka,rt.RLP.encode(e))}getMessageToSign(e=!0){const n=this.raw().slice(0,9),r=Ut(ka,rt.RLP.encode(n));return e?Ke(r):r}hash(){if(!this.isSigned()){const e=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(e)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=Ke(this.serialize())),this.cache.hash):Ke(this.serialize())}getMessageToVerifySignature(){return this.getMessageToSign()}getSenderPublicKey(){if(!this.isSigned()){const s=this._errorMsg("Cannot call this method if transaction is not signed");throw new Error(s)}const e=this.getMessageToVerifySignature(),{v:n,r,s:i}=this;this._validateHighS();try{return uu(e,n+BigInt(27),te(r),te(i))}catch{const o=this._errorMsg("Invalid Signature");throw new Error(o)}}_processSignature(e,n,r){const i=Object.assign(Object.assign({},this.txOptions),{common:this.common});return pn.fromTxData({chainId:this.chainId,nonce:this.nonce,maxPriorityFeePerGas:this.maxPriorityFeePerGas,maxFeePerGas:this.maxFeePerGas,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:e-BigInt(27),r:ce(n),s:ce(r)},i)}toJSON(){const e=Xh(this.accessList);return{chainId:le(this.chainId),nonce:le(this.nonce),maxPriorityFeePerGas:le(this.maxPriorityFeePerGas),maxFeePerGas:le(this.maxFeePerGas),gasLimit:le(this.gasLimit),to:this.to!==void 0?this.to.toString():void 0,value:le(this.value),data:oe(this.data),accessList:e,v:this.v!==void 0?le(this.v):void 0,r:this.r!==void 0?le(this.r):void 0,s:this.s!==void 0?le(this.s):void 0}}errorStr(){let e=this._getSharedErrorPostfix();return e+=` maxFeePerGas=${this.maxFeePerGas} maxPriorityFeePerGas=${this.maxPriorityFeePerGas}`,e}_errorMsg(e){return`${e} (${this.errorStr()})`}}const sc=1,Sa=xe(sc.toString(16).padStart(2,"0"));class mn extends mr{static fromTxData(e,n={}){return new mn(e,n)}static fromSerializedTx(e,n={}){if(!eu(e.subarray(0,1),Sa))throw new Error(`Invalid serialized tx input: not an EIP-2930 transaction (wrong tx type, expected: ${sc}, received: ${oe(e.subarray(0,1))}`);const r=rt.RLP.decode(Uint8Array.from(e.subarray(1)));if(!Array.isArray(r))throw new Error("Invalid serialized tx input: must be array");return mn.fromValuesArray(r,n)}static fromValuesArray(e,n={}){if(e.length!==8&&e.length!==11)throw new Error("Invalid EIP-2930 transaction. Only expecting 8 values (for unsigned tx) or 11 values (for signed tx).");const[r,i,s,o,a,d,u,c,f,h,l]=e;this._validateNotArray({chainId:r,v:f}),qc({nonce:i,gasPrice:s,gasLimit:o,value:d,v:f,r:h,s:l});const b=[];return new mn({chainId:ce(r),nonce:i,gasPrice:s,gasLimit:o,to:a,value:d,data:u,accessList:c??b,v:f!==void 0?ce(f):void 0,r:h,s:l},n)}constructor(e,n={}){var r;super(Object.assign(Object.assign({},e),{type:sc}),n),this.DEFAULT_HARDFORK="berlin";const{chainId:i,accessList:s,gasPrice:o}=e;if(this.common=this._getCommon(n.common,i),this.chainId=this.common.chainId(),!this.common.isActivatedEIP(2930))throw new Error("EIP-2930 not enabled on Common");this.activeCapabilities=this.activeCapabilities.concat([2718,2930]);const a=Zh(s??[]);if(this.accessList=a.accessList,this.AccessListJSON=a.AccessListJSON,Jh(this.accessList),this.gasPrice=ce(fe(o===""?"0x":o)),this._validateCannotExceedMaxInteger({gasPrice:this.gasPrice}),mr._validateNotArray(e),this.gasPrice*this.gasLimit>Ei){const u=this._errorMsg("gasLimit * gasPrice cannot exceed MAX_INTEGER");throw new Error(u)}this._validateYParity(),this._validateHighS(),((r=n==null?void 0:n.freeze)!==null&&r!==void 0?r:!0)&&Object.freeze(this)}getDataFee(){if(this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork())return this.cache.dataFee.value;let e=super.getDataFee();return e+=BigInt(Yh(this.accessList,this.common)),Object.isFrozen(this)&&(this.cache.dataFee={value:e,hardfork:this.common.hardfork()}),e}getUpfrontCost(){return this.gasLimit*this.gasPrice+this.value}raw(){return[te(this.chainId),te(this.nonce),te(this.gasPrice),te(this.gasLimit),this.to!==void 0?this.to.buf:Uint8Array.from([]),te(this.value),this.data,this.accessList,this.v!==void 0?te(this.v):Uint8Array.from([]),this.r!==void 0?te(this.r):Uint8Array.from([]),this.s!==void 0?te(this.s):Uint8Array.from([])]}serialize(){const e=this.raw();return Ut(Sa,rt.RLP.encode(e))}getMessageToSign(e=!0){const n=this.raw().slice(0,8),r=Ut(Sa,rt.RLP.encode(n));return e?Ke(r):r}hash(){if(!this.isSigned()){const e=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(e)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=Ke(this.serialize())),this.cache.hash):Ke(this.serialize())}getMessageToVerifySignature(){return this.getMessageToSign()}getSenderPublicKey(){if(!this.isSigned()){const s=this._errorMsg("Cannot call this method if transaction is not signed");throw new Error(s)}const e=this.getMessageToVerifySignature(),{v:n,r,s:i}=this;this._validateHighS();try{return uu(e,n+BigInt(27),te(r),te(i))}catch{const o=this._errorMsg("Invalid Signature");throw new Error(o)}}_processSignature(e,n,r){const i=Object.assign(Object.assign({},this.txOptions),{common:this.common});return mn.fromTxData({chainId:this.chainId,nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:e-BigInt(27),r:ce(n),s:ce(r)},i)}toJSON(){const e=Xh(this.accessList);return{chainId:le(this.chainId),nonce:le(this.nonce),gasPrice:le(this.gasPrice),gasLimit:le(this.gasLimit),to:this.to!==void 0?this.to.toString():void 0,value:le(this.value),data:oe(this.data),accessList:e,v:this.v!==void 0?le(this.v):void 0,r:this.r!==void 0?le(this.r):void 0,s:this.s!==void 0?le(this.s):void 0}}errorStr(){var e,n;let r=this._getSharedErrorPostfix();return r+=` gasPrice=${this.gasPrice} accessListCount=${(n=(e=this.accessList)===null||e===void 0?void 0:e.length)!==null&&n!==void 0?n:0}`,r}_errorMsg(e){return`${e} (${this.errorStr()})`}}const ix=0;function zd(t,e){const n=Number(t),r=Number(e)*2;return n===r+35||n===r+36}class Yt extends mr{static fromTxData(e,n={}){return new Yt(e,n)}static fromSerializedTx(e,n={}){const r=rt.RLP.decode(e);if(!Array.isArray(r))throw new Error("Invalid serialized tx input. Must be array");return this.fromValuesArray(r,n)}static fromValuesArray(e,n={}){if(e.length!==6&&e.length!==9)throw new Error("Invalid transaction. Only expecting 6 values (for unsigned tx) or 9 values (for signed tx).");const[r,i,s,o,a,d,u,c,f]=e;return qc({nonce:r,gasPrice:i,gasLimit:s,value:a,v:u,r:c,s:f}),new Yt({nonce:r,gasPrice:i,gasLimit:s,to:o,value:a,data:d,v:u,r:c,s:f},n)}constructor(e,n={}){var r;if(super(Object.assign(Object.assign({},e),{type:ix}),n),this.common=this._validateTxV(this.v,n.common),this.gasPrice=ce(fe(e.gasPrice===""?"0x":e.gasPrice)),this.gasPrice*this.gasLimit>Ei){const s=this._errorMsg("gas limit * gasPrice cannot exceed MAX_INTEGER (2^256-1)");throw new Error(s)}this._validateCannotExceedMaxInteger({gasPrice:this.gasPrice}),mr._validateNotArray(e),this.common.gteHardfork("spuriousDragon")&&(this.isSigned()?zd(this.v,this.common.chainId())&&this.activeCapabilities.push(bt.EIP155ReplayProtection):this.activeCapabilities.push(bt.EIP155ReplayProtection)),((r=n==null?void 0:n.freeze)!==null&&r!==void 0?r:!0)&&Object.freeze(this)}raw(){return[te(this.nonce),te(this.gasPrice),te(this.gasLimit),this.to!==void 0?this.to.buf:Uint8Array.from([]),te(this.value),this.data,this.v!==void 0?te(this.v):Uint8Array.from([]),this.r!==void 0?te(this.r):Uint8Array.from([]),this.s!==void 0?te(this.s):Uint8Array.from([])]}serialize(){return rt.RLP.encode(this.raw())}_getMessageToSign(){const e=[te(this.nonce),te(this.gasPrice),te(this.gasLimit),this.to!==void 0?this.to.buf:Uint8Array.from([]),te(this.value),this.data];return this.supports(bt.EIP155ReplayProtection)&&(e.push(fe(this.common.chainId())),e.push(to(fe(0))),e.push(to(fe(0)))),e}getMessageToSign(e=!0){const n=this._getMessageToSign();return e?Ke(rt.RLP.encode(n)):n}getDataFee(){return this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork()?this.cache.dataFee.value:(Object.isFrozen(this)&&(this.cache.dataFee={value:super.getDataFee(),hardfork:this.common.hardfork()}),super.getDataFee())}getUpfrontCost(){return this.gasLimit*this.gasPrice+this.value}hash(){if(!this.isSigned()){const e=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(e)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=Ke(rt.RLP.encode(this.raw()))),this.cache.hash):Ke(rt.RLP.encode(this.raw()))}getMessageToVerifySignature(){if(!this.isSigned()){const n=this._errorMsg("This transaction is not signed");throw new Error(n)}const e=this._getMessageToSign();return Ke(rt.RLP.encode(e))}getSenderPublicKey(){const e=this.getMessageToVerifySignature(),{v:n,r,s:i}=this;this._validateHighS();try{return uu(e,n,te(r),te(i),this.supports(bt.EIP155ReplayProtection)?this.common.chainId():void 0)}catch{const o=this._errorMsg("Invalid Signature");throw new Error(o)}}_processSignature(e,n,r){let i=e;this.supports(bt.EIP155ReplayProtection)&&(i+=this.common.chainId()*BigInt(2)+BigInt(8));const s=Object.assign(Object.assign({},this.txOptions),{common:this.common});return Yt.fromTxData({nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,v:i,r:ce(n),s:ce(r)},s)}toJSON(){return{nonce:le(this.nonce),gasPrice:le(this.gasPrice),gasLimit:le(this.gasLimit),to:this.to!==void 0?this.to.toString():void 0,value:le(this.value),data:oe(this.data),v:this.v!==void 0?le(this.v):void 0,r:this.r!==void 0?le(this.r):void 0,s:this.s!==void 0?le(this.s):void 0}}_validateTxV(e,n){let r;const i=e!==void 0?Number(e):void 0;if(i!==void 0&&i<37&&i!==27&&i!==28)throw new Error(`Legacy txs need either v = 27/28 or v >= 37 (EIP-155 replay protection), got v = ${i}`);if(i!==void 0&&i!==0&&(!n||n.gteHardfork("spuriousDragon"))&&i!==27&&i!==28)if(n){if(!zd(BigInt(i),n.chainId()))throw new Error(`Incompatible EIP155-based V ${i} and chain id ${n.chainId()}. See the Common parameter of the Transaction constructor to set the chain id.`)}else{let s;(i-35)%2===0?s=35:s=36,r=BigInt(i-s)/BigInt(2)}return this._getCommon(n,r)}errorStr(){let e=this._getSharedErrorPostfix();return e+=` gasPrice=${this.gasPrice}`,e}_errorMsg(e){return`${e} (${this.errorStr()})`}}const Ra=new Map;class On{constructor(){}static typeToInt(e){return Number(ce(fe(e)))}static registerTransactionType(e,n){const r=On.typeToInt(e);Ra.set(r,n)}static fromTxData(e,n={}){if(!("type"in e)||e.type===void 0)return Yt.fromTxData(e,n);const r=On.typeToInt(e.type);if(r===0)return Yt.fromTxData(e,n);if(r===1)return mn.fromTxData(e,n);if(r===2)return pn.fromTxData(e,n);const i=Ra.get(r);if(i!=null&&i.fromTxData)return i.fromTxData(e,n);throw new Error(`Tx instantiation with type ${r} not supported`)}static fromSerializedData(e,n={}){if(e[0]<=127)switch(e[0]){case 1:return mn.fromSerializedTx(e,n);case 2:return pn.fromSerializedTx(e,n);default:{const r=Ra.get(Number(e[0]));if(r!=null&&r.fromSerializedTx)return r.fromSerializedTx(e,n);throw new Error(`TypedTransaction with ID ${e[0]} unknown`)}}else return Yt.fromSerializedTx(e,n)}static fromBlockBodyData(e,n={}){if(zi(e))return this.fromSerializedData(e,n);if(Array.isArray(e))return Yt.fromValuesArray(e,n);throw new Error("Cannot decode transaction: unknown type input")}}var Uo=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function d(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,d)}u((r=r.apply(t,e||[])).next())})};const Br=(t,e)=>{let n;if(!e&&typeof t=="string"&&G(t)&&t.length!==66)throw new Xu;try{n=zi(t)?t:Ii(t)}catch{throw new Ly}if(!e&&n.byteLength!==32)throw new Xu;return n},du=(t,e=!1)=>{const n=G(t)?t:$o(t),r=xe(n),i=xe(K_(`Ethereum Signed Message:
${r.byteLength}`)),s=e?r:Ut(i,r);return Tr(s)},sx=(t,e)=>{const n=Br(e),r=Qt.sign(t.substring(2),n),i=r.toCompactRawBytes(),s=r.r.toString(16).padStart(64,"0"),o=r.s.toString(16).padStart(64,"0"),a=r.recovery+27;return{messageHash:t,v:Oh(a),r:`0x${s}`,s:`0x${o}`,signature:`${oe(i)}${a.toString(16)}`}},e0=(t,e)=>{const n=du(t),{messageHash:r,v:i,r:s,s:o,signature:a}=sx(n,e);return{message:t,messageHash:r,v:i,r:s,s:o,signature:a}},ox=(t,e)=>Uo(void 0,void 0,void 0,function*(){const n=t.sign(xe(e));if(A(n.v)||A(n.r)||A(n.s))throw new Ga("Signer Error");const r=n.validate(!0);if(r.length>0){let o="Signer Error ";for(const a of r)o+=`${o} ${a}.`;throw new Ga(o)}const i=oe(n.serialize()),s=Tr(i);return{messageHash:oe(n.getMessageToSign(!0)),v:`0x${n.v.toString(16)}`,r:`0x${n.r.toString(16).padStart(64,"0")}`,s:`0x${n.s.toString(16).padStart(64,"0")}`,rawTransaction:i,transactionHash:oe(s)}}),ax=t=>{if(A(t))throw new Wy;const e=On.fromSerializedData(xe(t));return tu(e.getSenderAddress().toString())},oc=(t,e,n,r,i)=>{if(typeof t=="object"){const f=`${t.r}${t.s.slice(2)}${t.v.slice(2)}`;return oc(t.messageHash,f,n)}if(typeof e=="string"&&typeof n=="string"&&!A(r)){const f=`${n}${r.slice(2)}${e.slice(2)}`;return oc(t,f,i)}if(A(e))throw new My("signature string undefined");const s=130,o=n?t:du(t);let a=parseInt(e.substring(s),16);a>26&&(a-=27);const d=Qt.Signature.fromCompact(e.slice(2,s)).addRecoveryBit(a).recoverPublicKey(o.replace("0x","")).toRawBytes(!1),u=Tr(d.subarray(1));return tu(`0x${u.slice(-40)}`)},Fo=t=>{const e=Br(t),n=Qt.getPublicKey(e,!1),i=Tr(n.slice(1)).slice(-40);return tu(`0x${i}`)},cx=(t,e)=>{const n=Br(t);return`0x${oe(Qt.getPublicKey(n,e)).slice(4)}`},t0=(t,e,n)=>Uo(void 0,void 0,void 0,function*(){var r,i,s,o,a,d,u;const c=Br(t);let f;if(n!=null&&n.salt?f=typeof n.salt=="string"?xe(n.salt):n.salt:f=Ya(32),!(jc(e)||zi(e)))throw new Dy;const h=typeof e=="string"?xe($o(e)):e;let l;if(n!=null&&n.iv){if(l=typeof n.iv=="string"?xe(n.iv):n.iv,l.length!==16)throw new Uy}else l=Ya(16);const b=(r=n==null?void 0:n.kdf)!==null&&r!==void 0?r:"scrypt";let m,g;if(b==="pbkdf2"){if(g={dklen:(i=n==null?void 0:n.dklen)!==null&&i!==void 0?i:32,salt:oe(f).replace("0x",""),c:(s=n==null?void 0:n.c)!==null&&s!==void 0?s:262144,prf:"hmac-sha256"},g.c<1e3)throw new Fy;m=Bh(h,f,g.c,g.dklen,"sha256")}else if(b==="scrypt")g={n:(o=n==null?void 0:n.n)!==null&&o!==void 0?o:8192,r:(a=n==null?void 0:n.r)!==null&&a!==void 0?a:8,p:(d=n==null?void 0:n.p)!==null&&d!==void 0?d:1,dklen:(u=n==null?void 0:n.dklen)!==null&&u!==void 0?u:32,salt:oe(f).replace("0x","")},m=kh(h,f,g.n,g.p,g.r,g.dklen);else throw new xl;const p=yield Jc(c,m.slice(0,16),l,"aes-128-ctr"),w=oe(p).slice(2),_=Tr(Ut(m.slice(16,32),p)).replace("0x","");return{version:3,id:t1(),address:Fo(c).toLowerCase().replace("0x",""),crypto:{ciphertext:w,cipherparams:{iv:oe(l).replace("0x","")},cipher:"aes-128-ctr",kdf:b,kdfparams:g,mac:_}}}),fu=(t,e)=>{const n=Br(t,e);return{address:Fo(n),privateKey:oe(n),signTransaction:r=>{throw new Ga("Do not have network access to sign the transaction")},sign:r=>e0(typeof r=="string"?r:JSON.stringify(r),n),encrypt:(r,i)=>Uo(void 0,void 0,void 0,function*(){return t0(n,r,i)})}},ux=()=>{const t=Qt.utils.randomPrivateKey();return fu(`${oe(t)}`)},dx=(t,e,n)=>Uo(void 0,void 0,void 0,function*(){const r=typeof t=="object"?t:JSON.parse(n?t.toLowerCase():t);if(C.validateJSONSchema(J1,r),r.version!==3)throw new Hy;const i=typeof e=="string"?xe($o(e)):e;C.validate(["bytes"],[i]);let s;if(r.crypto.kdf==="scrypt"){const u=r.crypto.kdfparams,c=typeof u.salt=="string"?xe(u.salt):u.salt;s=kh(i,c,u.n,u.p,u.r,u.dklen)}else if(r.crypto.kdf==="pbkdf2"){const u=r.crypto.kdfparams,c=typeof u.salt=="string"?xe(u.salt):u.salt;s=Bh(i,c,u.c,u.dklen,"sha256")}else throw new xl;const o=xe(r.crypto.ciphertext);if(Tr(Ut(s.slice(16,32),o)).replace("0x","")!==r.crypto.mac)throw new $y;const d=yield A_(xe(r.crypto.ciphertext),s.slice(0,16),xe(r.crypto.cipherparams.iv));return fu(d)});var Wd=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function d(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,d)}u((r=r.apply(t,e||[])).next())})};const fx=1e3;class lx{constructor(e){this._requestManager=e,this._requests=new Map}get requests(){return[...this._requests.values()].map(e=>e.payload)}add(e){const n=zc(e),r=new _d;return this._requests.set(n.id,{payload:n,promise:r}),r}execute(e){return Wd(this,void 0,void 0,function*(){var n;if(this.requests.length===0)return Promise.resolve([]);const r=new _d({timeout:(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:fx,eagerStart:!0,timeoutMessage:"Batch request timeout"});return this._processBatchRequest(r).catch(i=>r.reject(i)),r.catch(i=>{i instanceof So&&this._abortAllRequests("Batch request timeout"),r.reject(i)}),r})}_processBatchRequest(e){return Wd(this,void 0,void 0,function*(){var n,r;const i=yield this._requestManager.sendBatch([...this._requests.values()].map(a=>a.payload));if(i.length!==this._requests.size)throw this._abortAllRequests("Invalid batch response"),new yt(i,`Batch request size mismatch the results size. Requests: ${this._requests.size}, Responses: ${i.length}`);const s=this.requests.map(a=>a.id).map(Number).sort((a,d)=>a-d),o=i.map(a=>a.id).map(Number).sort((a,d)=>a-d);if(JSON.stringify(s)!==JSON.stringify(o))throw this._abortAllRequests("Invalid batch response"),new yt(i,`Batch request mismatch the results. Requests: [${s.join()}], Responses: [${o.join()}]`);for(const a of i)ti(a)?(n=this._requests.get(a.id))===null||n===void 0||n.promise.resolve(a.result):ni(a)&&((r=this._requests.get(a.id))===null||r===void 0||r.promise.reject(a.error));e.resolve(i)})}_abortAllRequests(e){for(const{promise:n}of this._requests.values())n.reject(new Qy(e))}}var hx=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function d(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,d)}u((r=r.apply(t,e||[])).next())})};class Qe extends FA{constructor(e){var n;if(super(),this.providers=_n.providers,me(e)||typeof e=="string"&&e.trim()!==""||zs(e)){this._requestManager=new _n(e),this._subscriptionManager=new Ws(this._requestManager,{});return}const{config:r,provider:i,requestManager:s,subscriptionManager:o,registeredSubscriptions:a,accountProvider:d,wallet:u,requestManagerMiddleware:c}=e;this.setConfig(r??{}),this._requestManager=s??new _n(i,(n=r==null?void 0:r.enableExperimentalFeatures)===null||n===void 0?void 0:n.useSubscriptionWhenCheckingBlockTimeout,c),o?this._subscriptionManager=o:this._subscriptionManager=new Ws(this.requestManager,a??{}),d&&(this._accountProvider=d),u&&(this._wallet=u)}get requestManager(){return this._requestManager}get subscriptionManager(){return this._subscriptionManager}get wallet(){return this._wallet}get accountProvider(){return this._accountProvider}static fromContextObject(...e){return new this(...e.reverse())}getContextObject(){var e;return{config:this.config,provider:this.provider,requestManager:this.requestManager,subscriptionManager:this.subscriptionManager,registeredSubscriptions:(e=this.subscriptionManager)===null||e===void 0?void 0:e.registeredSubscriptions,providers:this.providers,wallet:this.wallet,accountProvider:this.accountProvider}}use(e,...n){const r=new e(...n,this.getContextObject());return this.on(Rn.CONFIG_CHANGE,i=>{r.setConfig({[i.name]:i.newValue})}),this[e.name]=r,r}link(e){this.setConfig(e.config),this._requestManager=e.requestManager,this.provider=e.provider,this._subscriptionManager=e.subscriptionManager,this._wallet=e.wallet,this._accountProvider=e._accountProvider,e.on(Rn.CONFIG_CHANGE,n=>{this.setConfig({[n.name]:n.newValue})})}registerPlugin(e){if(this[e.pluginNamespace]!==void 0)throw new Vy(e.pluginNamespace);const n={[e.pluginNamespace]:e};n[e.pluginNamespace].link(this),Object.assign(this,n)}get provider(){return this.currentProvider}set provider(e){this.requestManager.setProvider(e)}get currentProvider(){return this.requestManager.provider}set currentProvider(e){this.requestManager.setProvider(e)}get givenProvider(){return Qe.givenProvider}setProvider(e){return this.provider=e,!0}setRequestManagerMiddleware(e){this.requestManager.setMiddleware(e)}get BatchRequest(){return lx.bind(void 0,this._requestManager)}extend(e){var n;return e.property&&!this[e.property]&&(this[e.property]={}),(n=e.methods)===null||n===void 0||n.forEach(r=>{const i=(...s)=>hx(this,void 0,void 0,function*(){return this.requestManager.send({method:r.call,params:s})});e.property?this[e.property][r.name]=i:this[r.name]=i}),this}}Qe.providers=_n.providers;function vi(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function px(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function mx(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function jo(t,...e){if(!mx(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function gx(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");vi(t.outputLen),vi(t.blockLen)}function ac(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function n0(t,e){jo(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const yx={number:vi,bool:px,bytes:jo,hash:gx,exists:ac,output:n0},ns=BigInt(2**32-1),Kd=BigInt(32);function bx(t,e=!1){return e?{h:Number(t&ns),l:Number(t>>Kd&ns)}:{h:Number(t>>Kd&ns)|0,l:Number(t&ns)|0}}function wx(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=bx(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const Ax=(t,e,n)=>t<<n|e>>>32-n,_x=(t,e,n)=>e<<n|t>>>32-n,Ix=(t,e,n)=>e<<n-32|t>>>64-n,xx=(t,e,n)=>t<<n-32|e>>>64-n;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ex=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),Zd=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,vx=t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255;function Jd(t){for(let e=0;e<t.length;e++)t[e]=vx(t[e])}function r0(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function i0(t){return typeof t=="string"&&(t=r0(t)),jo(t),t}let Tx=class{clone(){return this._cloneInto()}};function Bx(t){const e=r=>t().update(i0(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}const s0=[],o0=[],a0=[],kx=BigInt(0),$r=BigInt(1),Sx=BigInt(2),Rx=BigInt(7),Cx=BigInt(256),Px=BigInt(113);for(let t=0,e=$r,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],s0.push(2*(5*r+n)),o0.push((t+1)*(t+2)/2%64);let i=kx;for(let s=0;s<7;s++)e=(e<<$r^(e>>Rx)*Px)%Cx,e&Sx&&(i^=$r<<($r<<BigInt(s))-$r);a0.push(i)}const[Ox,Nx]=wx(a0,!0),Xd=(t,e,n)=>n>32?Ix(t,e,n):Ax(t,e,n),Yd=(t,e,n)=>n>32?xx(t,e,n):_x(t,e,n);function Lx(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,d=(o+2)%10,u=n[d],c=n[d+1],f=Xd(u,c,1)^n[a],h=Yd(u,c,1)^n[a+1];for(let l=0;l<50;l+=10)t[o+l]^=f,t[o+l+1]^=h}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=o0[o],d=Xd(i,s,a),u=Yd(i,s,a),c=s0[o];i=t[c],s=t[c+1],t[c]=d,t[c+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=Ox[r],t[1]^=Nx[r]}n.fill(0)}let Mx=class c0 extends Tx{constructor(e,n,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,vi(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Ex(this.state)}keccak(){Zd||Jd(this.state32),Lx(this.state32,this.rounds),Zd||Jd(this.state32),this.posOut=0,this.pos=0}update(e){ac(this);const{blockLen:n,state:r}=this;e=i0(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){ac(this,!1),jo(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return vi(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(n0(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new c0(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const $x=(t,e,n)=>Bx(()=>new Mx(e,t,n)),ef=$x(1,136,256/8);function Hx(t){return e=>(yx.bytes(e),t(e))}(()=>{const t=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,e=typeof module<"u"&&typeof module.require=="function"&&module.require.bind(module);return{node:e&&!t?e("crypto"):void 0,web:t}})();const Dx=(()=>{const t=Hx(ef);return t.create=ef.create,t})();BigInt(0),BigInt(1),BigInt(1e3),BigInt(1e3),BigInt(1e3),BigInt(1e3),BigInt(1e6),BigInt(1e6),BigInt(1e6),BigInt(1e6),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e12),BigInt(1e12),BigInt(1e12),BigInt(1e15),BigInt(1e15),BigInt(1e15),BigInt("1000000000000000000"),BigInt("1000000000000000000000"),BigInt("1000000000000000000000"),BigInt("1000000000000000000000000"),BigInt("1000000000000000000000000000"),BigInt("1000000000000000000000000000000");const Ux=t=>(C.validate(["hex"],[t]),Hn(t)),Fx=r0,jx=t=>{if(!be(t,!1))throw new qt(t);const e=t.toLowerCase().replace(/^0x/i,""),n=De(Dx(Ue(Fx(e))));if(A(n)||n==="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470")return"";let r="0x";const i=n.replace(/^0x/i,"");for(let s=0;s<e.length;s+=1)parseInt(i[s],16)>7?r+=e[s].toUpperCase():r+=e[s];return r},Gx=(t,e,n="0")=>typeof t=="string"?G(t)?ze(t,e,n):t.padStart(e,n):(C.validate(["int"],[t]),ze(t,e,n)),tf=Gx;class _e{constructor(e){if(this.toAddress=()=>{if(this.isDirect()){const n=this._iban.slice(4),r=_e._parseInt(n,36),i=tf(r,40);return jx(i)}throw new Error("Iban is indirect and cannot be converted. Must be length of 34 or 35")},_e.isIndirect(e)||_e.isDirect(e))this._iban=e;else throw new Error("Invalid IBAN was provided")}static isDirect(e){return e.length===34||e.length===35}isDirect(){return _e.isDirect(this._iban)}static isIndirect(e){return e.length===20}isIndirect(){return _e.isIndirect(this._iban)}static isValid(e){return/^XE[0-9]{2}(ETH[0-9A-Z]{13}|[0-9A-Z]{30,31})$/.test(e)&&_e._mod9710(_e._iso13616Prepare(e))===1}isValid(){return _e.isValid(this._iban)}static fromBban(e){const n="XE",i=`0${(98-this._mod9710(this._iso13616Prepare(`${n}00${e}`))).toString()}`.slice(-2);return new _e(`${n}${i}${e}`)}static createIndirect(e){return _e.fromBban(`ETH${e.institution}${e.identifier}`)}static fromAddress(e){if(!be(e))throw new qt(e);const r=BigInt(Ux(e)).toString(36),i=tf(r,15);return _e.fromBban(i.toUpperCase())}static toIban(e){return _e.fromAddress(e).toString()}client(){return this.isIndirect()?this._iban.slice(11):""}checksum(){return this._iban.slice(2,4)}institution(){return this.isIndirect()?this._iban.slice(7,11):""}toString(){return this._iban}}_e._iso13616Prepare=t=>{const r=t.toUpperCase();return`${r.slice(4)}${r.slice(0,4)}`.split("").map(s=>{const o=s.charCodeAt(0);return o>=65&&o<=90?o-65+10:s}).join("")};_e._parseInt=(t,e)=>[...t].reduce((n,r)=>BigInt(parseInt(r,e))+BigInt(e)*n,BigInt(0));_e._mod9710=t=>{let e=t,n;for(;e.length>2;)n=e.slice(0,9),e=`${(parseInt(n,10)%97).toString()}${e.slice(n.length)}`;return parseInt(e,10)%97};_e.toAddress=t=>new _e(t).toAddress();var Ca=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function d(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,d)}u((r=r.apply(t,e||[])).next())})},u0;class d0 extends Lo{constructor(e){super(),this[u0]="Promise",this._promise=new Promise(e)}then(e,n){return Ca(this,void 0,void 0,function*(){return this._promise.then(e,n)})}catch(e){return Ca(this,void 0,void 0,function*(){return this._promise.catch(e)})}finally(e){return Ca(this,void 0,void 0,function*(){return this._promise.finally(e)})}on(e,n){return super.on(e,n),this}once(e,n){return super.once(e,n),this}}u0=Symbol.toStringTag;var Pa={},nf;function qx(){return nf||(nf=1,function(t,e){if(t.setImmediate)return;var n=1,r={},i=!1,s=t.document,o;function a(w){typeof w!="function"&&(w=new Function(""+w));for(var _=new Array(arguments.length-1),v=0;v<_.length;v++)_[v]=arguments[v+1];var E={callback:w,args:_};return r[n]=E,o(n),n++}function d(w){delete r[w]}function u(w){var _=w.callback,v=w.args;switch(v.length){case 0:_();break;case 1:_(v[0]);break;case 2:_(v[0],v[1]);break;case 3:_(v[0],v[1],v[2]);break;default:_.apply(e,v);break}}function c(w){if(i)setTimeout(c,0,w);else{var _=r[w];if(_){i=!0;try{u(_)}finally{d(w),i=!1}}}}function f(){o=function(w){process.nextTick(function(){c(w)})}}function h(){if(t.postMessage&&!t.importScripts){var w=!0,_=t.onmessage;return t.onmessage=function(){w=!1},t.postMessage("","*"),t.onmessage=_,w}}function l(){var w="setImmediate$"+Math.random()+"$",_=function(v){v.source===t&&typeof v.data=="string"&&v.data.indexOf(w)===0&&c(+v.data.slice(w.length))};t.addEventListener?t.addEventListener("message",_,!1):t.attachEvent("onmessage",_),o=function(v){t.postMessage(w+v,"*")}}function b(){var w=new MessageChannel;w.port1.onmessage=function(_){var v=_.data;c(v)},o=function(_){w.port2.postMessage(_)}}function m(){var w=s.documentElement;o=function(_){var v=s.createElement("script");v.onreadystatechange=function(){c(_),v.onreadystatechange=null,w.removeChild(v),v=null},w.appendChild(v)}}function g(){o=function(w){setTimeout(c,0,w)}}var p=Object.getPrototypeOf&&Object.getPrototypeOf(t);p=p&&p.setTimeout?p:t,{}.toString.call(t.process)==="[object process]"?f():h()?l():t.MessageChannel?b():s&&"onreadystatechange"in s.createElement("script")?m():g(),p.setImmediate=a,p.clearImmediate=d}(typeof self>"u"?typeof Xn>"u"?Pa:Xn:self)),Pa}qx();function Ti(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function Qx(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function Vx(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function Go(t,...e){if(!Vx(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function zx(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Ti(t.outputLen),Ti(t.blockLen)}function cc(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function f0(t,e){Go(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Wx={number:Ti,bool:Qx,bytes:Go,hash:zx,exists:cc,output:f0},rs=BigInt(2**32-1),rf=BigInt(32);function Kx(t,e=!1){return e?{h:Number(t&rs),l:Number(t>>rf&rs)}:{h:Number(t>>rf&rs)|0,l:Number(t&rs)|0}}function Zx(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=Kx(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const Jx=(t,e,n)=>t<<n|e>>>32-n,Xx=(t,e,n)=>e<<n|t>>>32-n,Yx=(t,e,n)=>e<<n-32|t>>>64-n,eE=(t,e,n)=>t<<n-32|e>>>64-n;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const tE=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),sf=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,nE=t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255;function of(t){for(let e=0;e<t.length;e++)t[e]=nE(t[e])}function no(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function l0(t){return typeof t=="string"&&(t=no(t)),Go(t),t}let rE=class{clone(){return this._cloneInto()}};function iE(t){const e=r=>t().update(l0(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}const h0=[],p0=[],m0=[],sE=BigInt(0),Hr=BigInt(1),oE=BigInt(2),aE=BigInt(7),cE=BigInt(256),uE=BigInt(113);for(let t=0,e=Hr,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],h0.push(2*(5*r+n)),p0.push((t+1)*(t+2)/2%64);let i=sE;for(let s=0;s<7;s++)e=(e<<Hr^(e>>aE)*uE)%cE,e&oE&&(i^=Hr<<(Hr<<BigInt(s))-Hr);m0.push(i)}const[dE,fE]=Zx(m0,!0),af=(t,e,n)=>n>32?Yx(t,e,n):Jx(t,e,n),cf=(t,e,n)=>n>32?eE(t,e,n):Xx(t,e,n);function lE(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,d=(o+2)%10,u=n[d],c=n[d+1],f=af(u,c,1)^n[a],h=cf(u,c,1)^n[a+1];for(let l=0;l<50;l+=10)t[o+l]^=f,t[o+l+1]^=h}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=p0[o],d=af(i,s,a),u=cf(i,s,a),c=h0[o];i=t[c],s=t[c+1],t[c]=d,t[c+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=dE[r],t[1]^=fE[r]}n.fill(0)}let hE=class g0 extends rE{constructor(e,n,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Ti(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=tE(this.state)}keccak(){sf||of(this.state32),lE(this.state32,this.rounds),sf||of(this.state32),this.posOut=0,this.pos=0}update(e){cc(this);const{blockLen:n,state:r}=this;e=l0(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){cc(this,!1),Go(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Ti(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(f0(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new g0(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const pE=(t,e,n)=>iE(()=>new hE(e,t,n)),uf=pE(1,136,256/8);function mE(t){return e=>(Wx.bytes(e),t(e))}(()=>{const t=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,e=typeof module<"u"&&typeof module.require=="function"&&module.require.bind(module);return{node:e&&!t?e("crypto"):void 0,web:t}})();const y0=(()=>{const t=mE(uf);return t.create=uf.create,t})();function lu(t){var e,n;return t instanceof Uint8Array||((e=t==null?void 0:t.constructor)===null||e===void 0?void 0:e.name)==="Uint8Array"||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="Buffer"}function gE(...t){const e=t.reduce((i,s)=>i+s.length,0),n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}const yE={noether:BigInt(0),wei:BigInt(1),kwei:BigInt(1e3),Kwei:BigInt(1e3),babbage:BigInt(1e3),femtoether:BigInt(1e3),mwei:BigInt(1e6),Mwei:BigInt(1e6),lovelace:BigInt(1e6),picoether:BigInt(1e6),gwei:BigInt(1e9),Gwei:BigInt(1e9),shannon:BigInt(1e9),nanoether:BigInt(1e9),nano:BigInt(1e9),szabo:BigInt(1e12),microether:BigInt(1e12),micro:BigInt(1e12),finney:BigInt(1e15),milliether:BigInt(1e15),milli:BigInt(1e15),ether:BigInt("1000000000000000000"),kether:BigInt("1000000000000000000000"),grand:BigInt("1000000000000000000000"),mether:BigInt("1000000000000000000000000"),gether:BigInt("1000000000000000000000000000"),tether:BigInt("1000000000000000000000000000000")},bE="Warning: Using type `number` with values that are large or contain many decimals may cause loss of precision, it is recommended to use type `string` or `BigInt` when using conversion methods",Nn=t=>{if(C.validate(["bytes"],[t]),lu(t))return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="string")return ke(t);throw new Pe(t)},{uint8ArrayToHexString:wE}=Fe,Ft=t=>wE(Nn(t)),As=t=>typeof t=="string"&&t.slice(0,2).toLowerCase()!=="0x"?Nn(`0x${t}`):Nn(t),AE=t=>(C.validate(["hex"],[t]),Hn(t)),Ze=(t,e)=>{typeof t!="bigint"&&C.validate(["int"],[t]);let n=Tt(t);return e&&(!n.startsWith("-")&&n.length%2===1?n="0x0".concat(n.slice(2)):n.length%2===0&&n.startsWith("-")&&(n="-0x0".concat(n.slice(3)))),n},df=t=>{C.validate(["string"],[t]);let e=t.replace(/^(?:\u0000)/,"");return e=e.replace(/(?:\u0000)$/,""),Ft(new TextEncoder().encode(e))},_E=no,uc=(t,e)=>{if(typeof t=="string"&&be(t))return e?"address":`0x${t.toLowerCase().replace(/^0x/i,"")}`;if(typeof t=="boolean")return e?"bool":t?"0x01":"0x00";if(typeof t=="number")return e?t<0?"int256":"uint256":Ze(t);if(typeof t=="bigint")return e?"bigint":Ze(t);if(lu(t))return e?"bytes":Ft(t);if(typeof t=="object"&&t)return e?"string":df(JSON.stringify(t));if(typeof t=="string"){if(t.startsWith("-0x")||t.startsWith("-0X"))return e?"int256":Ze(t);if(G(t))return e?"bytes":t;if(Ve(t)&&!lt(t)&&!He(t))return e?"bytes":`0x${t}`;if(Ve(t)&&!lt(t)&&He(t))return e?"uint":Ze(t);if(!Number.isFinite(t))return e?"string":df(t)}throw new Ro(t)},Kr=t=>{if(typeof t=="number")return t>1e20?(console.warn(bE),BigInt(t)):t;if(typeof t=="bigint")return t>=Number.MIN_SAFE_INTEGER&&t<=Number.MAX_SAFE_INTEGER?Number(t):t;if(typeof t=="string"&&G(t))return AE(t);try{return Kr(BigInt(t))}catch{throw new Gt(t)}},is=t=>{if(typeof t=="number")return BigInt(t);if(typeof t=="bigint")return t;if(typeof t=="string"&&Ve(t))return t.startsWith("-")?-BigInt(t.substring(1)):BigInt(t);throw new Gt(t)},IE=t=>{if(!be(t,!1))throw new qt(t);const e=t.toLowerCase().replace(/^0x/i,""),n=De(y0(Ue(_E(e))));if(A(n)||n==="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470")return"";let r="0x";const i=n.replace(/^0x/i,"");for(let s=0;s<e.length;s+=1)parseInt(i[s],16)>7?r+=e[s].toUpperCase():r+=e[s];return r},xE=A,ff=t=>typeof t=="object"&&!A(t)&&!Array.isArray(t)&&!(t instanceof jt),hu=(t,...e)=>{if(!ff(t))return t;const n=Object.assign({},t);for(const r of e)for(const i in r)ff(r[i])?(n[i]||(n[i]={}),n[i]=hu(n[i],r[i])):!A(r[i])&&Object.hasOwnProperty.call(r,i)&&(Array.isArray(r[i])||r[i]instanceof jt?n[i]=r[i].slice(0):n[i]=r[i]);return n},EE=(t,e,n="0")=>typeof t=="string"?G(t)?ze(t,e,n):t.padStart(e,n):(C.validate(["int"],[t]),ze(t,e,n)),{parseBaseType:vE}=Fe,TE=(t,e,n=[])=>{let r=Object.assign({},t),i;for(const s of e){if(r.oneOf&&i){const o=i,a=n.find(([d])=>d===o);a&&a[0]===i&&(r=r.oneOf[a[1]])}if(!r.properties&&!r.items)return;r.properties?r=r.properties[s]:r.items&&r.items.properties?r=r.items.properties[s]:r.items&&pe(r.items)?r=r.items:r.items&&Array.isArray(r.items)&&(r=r.items[parseInt(s,10)]),r&&s&&(i=s)}return r},ro=(t,e,n)=>{try{const{baseType:r,baseTypeSize:i}=vE(e);if(r==="int"||r==="uint")switch(n.number){case he.NUMBER:return Number(is(t));case he.HEX:return Ze(is(t));case he.STR:return is(t).toString();case he.BIGINT:return is(t);default:throw new it(`Invalid format: ${String(n.number)}`)}if(r==="bytes"){let s;switch(i?typeof t=="string"?s=EE(t,i*2):lu(t)&&(s=gE(new Uint8Array(i-t.length),t)):s=t,n.bytes){case Me.HEX:return Ft(Nn(s));case Me.UINT8ARRAY:return Nn(s);default:throw new it(`Invalid format: ${String(n.bytes)}`)}}if(r==="string")return String(t)}catch{return t}return t},lf=({value:t,schemaProp:e,schema:n,object:r,key:i,dataPath:s,format:o,oneOfPath:a=[]})=>{var d,u;if(Array.isArray(t)){let c=e;if((e==null?void 0:e.oneOf)!==void 0&&e.oneOf.forEach((f,h)=>{var l,b;!Array.isArray(e==null?void 0:e.items)&&(typeof t[0]=="object"&&((l=f==null?void 0:f.items)===null||l===void 0?void 0:l.type)==="object"||typeof t[0]=="string"&&((b=f==null?void 0:f.items)===null||b===void 0?void 0:b.type)!=="object")&&(c=f,a.push([i,h]))}),A(c==null?void 0:c.items))return delete r[i],s.pop(),!0;if(pe(c.items)&&!A(c.items.format)){for(let f=0;f<t.length;f+=1)r[i][f]=ro(t[f],(d=c==null?void 0:c.items)===null||d===void 0?void 0:d.format,o);return s.pop(),!0}if(!Array.isArray(c==null?void 0:c.items)&&((u=c==null?void 0:c.items)===null||u===void 0?void 0:u.type)==="object"){for(const f of t)pu(f,n,s,o,a);return s.pop(),!0}if(Array.isArray(c==null?void 0:c.items)){for(let f=0;f<t.length;f+=1)r[i][f]=ro(t[f],c.items[f].format,o);return s.pop(),!0}}return!1},pu=(t,e,n,r,i=[])=>{var s;if(!pe(t)&&!Array.isArray(t))return ro(t,e==null?void 0:e.format,r);const o=t;if(Array.isArray(o)&&(e==null?void 0:e.type)==="array"&&((s=e==null?void 0:e.items)===null||s===void 0?void 0:s.type)==="object")lf({value:o,schemaProp:e,schema:e,object:o,key:"",dataPath:n,format:r,oneOfPath:i});else for(const[a,d]of Object.entries(o)){n.push(a);let u=TE(e,n,i);if(A(u)){delete o[a],n.pop();continue}if(pe(d)){pu(d,e,n,r,i),n.pop();continue}if(!lf({value:d,schemaProp:u,schema:e,object:o,key:a,dataPath:n,format:r,oneOfPath:i})){if((u==null?void 0:u.format)===void 0&&(u==null?void 0:u.oneOf)!==void 0){for(const[c,f]of u.oneOf.entries())if((f==null?void 0:f.format)!==void 0){u=f;break}}o[a]=ro(d,u.format,r),n.pop()}}return o},S=(t,e,n=Te)=>{let r;pe(e)?r=hu({},e):Array.isArray(e)?r=[...e]:r=e;const i=pe(t)?t:Ir(t);if(!i.properties&&!i.items&&!i.format)throw new it("Invalid json schema for formatting");return pu(r,i,[],n)},BE=t=>{let e;return typeof t=="bigint"||typeof t=="number"?e=no(t.toString()):Array.isArray(t)?e=new Uint8Array(t):typeof t=="string"&&!G(t)?e=no(t):e=Nn(t),Ft(y0(Ue(e)))};var mu=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function d(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,d)}u((r=r.apply(t,e||[])).next())})};function kE(t,e,n){return mu(this,void 0,void 0,function*(){let r;const i=yield Promise.race([t instanceof Promise?t:t(),new Promise((s,o)=>{r=setTimeout(()=>s(void 0),e)})]);if(r&&clearTimeout(r),i instanceof Error)throw i;return i})}function SE(t,e){let n;return[new Promise((i,s)=>{n=setInterval(function o(){return mu(this,void 0,void 0,function*(){try{const a=yield kE(t,e);A(a)||(clearInterval(n),i(a))}catch(a){clearInterval(n),s(a)}}),o}(),e)}),n]}function b0(t,e){let n;const r=new Promise((i,s)=>{n=setTimeout(()=>{s(e)},t)});return[n,r]}function RE(t,e){let n;const r=new Promise((i,s)=>{n=setInterval(()=>{mu(this,void 0,void 0,function*(){const o=yield t();o&&(clearInterval(n),s(o))})},e)});return[n,r]}var z=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function d(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,d)}u((r=r.apply(t,e||[])).next())})};function CE(t){return z(this,void 0,void 0,function*(){return t.send({method:"eth_protocolVersion",params:[]})})}function w0(t){return z(this,void 0,void 0,function*(){return t.send({method:"eth_syncing",params:[]})})}function PE(t){return z(this,void 0,void 0,function*(){return t.send({method:"eth_coinbase",params:[]})})}function OE(t){return z(this,void 0,void 0,function*(){return t.send({method:"eth_mining",params:[]})})}function NE(t){return z(this,void 0,void 0,function*(){return t.send({method:"eth_hashrate",params:[]})})}function LE(t){return z(this,void 0,void 0,function*(){return t.send({method:"eth_gasPrice",params:[]})})}function ME(t){return z(this,void 0,void 0,function*(){return t.send({method:"eth_maxPriorityFeePerGas",params:[]})})}function $E(t){return z(this,void 0,void 0,function*(){return t.send({method:"eth_accounts",params:[]})})}function HE(t){return z(this,void 0,void 0,function*(){return t.send({method:"eth_blockNumber",params:[]})})}function DE(t,e,n){return z(this,void 0,void 0,function*(){return C.validate(["address","blockNumberOrTag"],[e,n]),t.send({method:"eth_getBalance",params:[e,n]})})}function UE(t,e,n,r){return z(this,void 0,void 0,function*(){return C.validate(["address","hex","blockNumberOrTag"],[e,n,r]),t.send({method:"eth_getStorageAt",params:[e,n,r]})})}function FE(t,e,n){return z(this,void 0,void 0,function*(){return C.validate(["address","blockNumberOrTag"],[e,n]),t.send({method:"eth_getTransactionCount",params:[e,n]})})}function jE(t,e){return z(this,void 0,void 0,function*(){return C.validate(["bytes32"],[e]),t.send({method:"eth_getBlockTransactionCountByHash",params:[e]})})}function GE(t,e){return z(this,void 0,void 0,function*(){return C.validate(["blockNumberOrTag"],[e]),t.send({method:"eth_getBlockTransactionCountByNumber",params:[e]})})}function qE(t,e){return z(this,void 0,void 0,function*(){return C.validate(["bytes32"],[e]),t.send({method:"eth_getUncleCountByBlockHash",params:[e]})})}function QE(t,e){return z(this,void 0,void 0,function*(){return C.validate(["blockNumberOrTag"],[e]),t.send({method:"eth_getUncleCountByBlockNumber",params:[e]})})}function VE(t,e,n){return z(this,void 0,void 0,function*(){return C.validate(["address","blockNumberOrTag"],[e,n]),t.send({method:"eth_getCode",params:[e,n]})})}function zE(t,e,n){return z(this,void 0,void 0,function*(){return C.validate(["address","hex"],[e,n]),t.send({method:"eth_sign",params:[e,n]})})}function WE(t,e){return z(this,void 0,void 0,function*(){return t.send({method:"eth_signTransaction",params:[e]})})}function KE(t,e){return z(this,void 0,void 0,function*(){return t.send({method:"eth_sendTransaction",params:[e]})})}function A0(t,e){return z(this,void 0,void 0,function*(){return C.validate(["hex"],[e]),t.send({method:"eth_sendRawTransaction",params:[e]})})}function ZE(t,e,n){return z(this,void 0,void 0,function*(){return C.validate(["blockNumberOrTag"],[n]),t.send({method:"eth_call",params:[e,n]})})}function JE(t,e,n){return z(this,void 0,void 0,function*(){return C.validate(["blockNumberOrTag"],[n]),t.send({method:"eth_estimateGas",params:[e,n]})})}function XE(t,e,n){return z(this,void 0,void 0,function*(){return C.validate(["bytes32","bool"],[e,n]),t.send({method:"eth_getBlockByHash",params:[e,n]})})}function _0(t,e,n){return z(this,void 0,void 0,function*(){return C.validate(["blockNumberOrTag","bool"],[e,n]),t.send({method:"eth_getBlockByNumber",params:[e,n]})})}function YE(t,e){return z(this,void 0,void 0,function*(){return C.validate(["bytes32"],[e]),t.send({method:"eth_getTransactionByHash",params:[e]})})}function e2(t,e,n){return z(this,void 0,void 0,function*(){return C.validate(["bytes32","hex"],[e,n]),t.send({method:"eth_getTransactionByBlockHashAndIndex",params:[e,n]})})}function t2(t,e,n){return z(this,void 0,void 0,function*(){return C.validate(["blockNumberOrTag","hex"],[e,n]),t.send({method:"eth_getTransactionByBlockNumberAndIndex",params:[e,n]})})}function n2(t,e){return z(this,void 0,void 0,function*(){return C.validate(["bytes32"],[e]),t.send({method:"eth_getTransactionReceipt",params:[e]})})}function r2(t,e,n){return z(this,void 0,void 0,function*(){return C.validate(["bytes32","hex"],[e,n]),t.send({method:"eth_getUncleByBlockHashAndIndex",params:[e,n]})})}function i2(t,e,n){return z(this,void 0,void 0,function*(){return C.validate(["blockNumberOrTag","hex"],[e,n]),t.send({method:"eth_getUncleByBlockNumberAndIndex",params:[e,n]})})}function s2(t,e){return z(this,void 0,void 0,function*(){return C.validate(["filter"],[e]),t.send({method:"eth_newFilter",params:[e]})})}function o2(t){return z(this,void 0,void 0,function*(){return t.send({method:"eth_newBlockFilter",params:[]})})}function a2(t){return z(this,void 0,void 0,function*(){return t.send({method:"eth_newPendingTransactionFilter",params:[]})})}function c2(t,e){return z(this,void 0,void 0,function*(){return C.validate(["hex"],[e]),t.send({method:"eth_uninstallFilter",params:[e]})})}function u2(t,e){return z(this,void 0,void 0,function*(){return C.validate(["hex"],[e]),t.send({method:"eth_getFilterChanges",params:[e]})})}function d2(t,e){return z(this,void 0,void 0,function*(){return C.validate(["hex"],[e]),t.send({method:"eth_getFilterLogs",params:[e]})})}function f2(t,e){return z(this,void 0,void 0,function*(){return C.validate(["filter"],[e]),t.send({method:"eth_getLogs",params:[e]})})}function l2(t){return z(this,void 0,void 0,function*(){return t.send({method:"eth_getWork",params:[]})})}function h2(t,e,n,r){return z(this,void 0,void 0,function*(){return C.validate(["bytes8","bytes32","bytes32"],[e,n,r]),t.send({method:"eth_submitWork",params:[e,n,r]})})}function p2(t,e,n,r){return z(this,void 0,void 0,function*(){C.validate(["hex","blockNumberOrTag"],[e,n]);for(const i of r)C.validate(["number"],[i]);return t.send({method:"eth_feeHistory",params:[e,n,r]})})}function m2(t){return z(this,void 0,void 0,function*(){return t.send({method:"eth_pendingTransactions",params:[]})})}function g2(t){return z(this,void 0,void 0,function*(){return t.send({method:"eth_requestAccounts",params:[]})})}function y2(t){return z(this,void 0,void 0,function*(){return t.send({method:"eth_chainId",params:[]})})}function b2(t,e,n,r){return z(this,void 0,void 0,function*(){return C.validate(["address","bytes32[]","blockNumberOrTag"],[e,n,r]),t.send({method:"eth_getProof",params:[e,n,r]})})}function w2(t){return z(this,void 0,void 0,function*(){return t.send({method:"web3_clientVersion",params:[]})})}function A2(t,e,n){return z(this,void 0,void 0,function*(){return C.validate(["blockNumberOrTag"],[n]),t.send({method:"eth_createAccessList",params:[e,n]})})}function _2(t,e,n,r=!1){return z(this,void 0,void 0,function*(){return C.validate(["address"],[e]),t.send({method:`eth_signTypedData${r?"":"_v4"}`,params:[e,n]})})}var gu=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function d(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,d)}u((r=r.apply(t,e||[])).next())})};function I2(t){return gu(this,void 0,void 0,function*(){return t.send({method:"net_version",params:[]})})}function x2(t){return gu(this,void 0,void 0,function*(){return t.send({method:"net_peerCount",params:[]})})}function E2(t){return gu(this,void 0,void 0,function*(){return t.send({method:"net_listening",params:[]})})}var Vt=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function d(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,d)}u((r=r.apply(t,e||[])).next())})};const v2=t=>Vt(void 0,void 0,void 0,function*(){return t.send({method:"personal_listAccounts",params:[]})}),T2=(t,e)=>Vt(void 0,void 0,void 0,function*(){return t.send({method:"personal_newAccount",params:[e]})}),B2=(t,e,n,r)=>Vt(void 0,void 0,void 0,function*(){return t.send({method:"personal_unlockAccount",params:[e,n,r]})}),k2=(t,e)=>Vt(void 0,void 0,void 0,function*(){return t.send({method:"personal_lockAccount",params:[e]})}),S2=(t,e,n)=>Vt(void 0,void 0,void 0,function*(){return t.send({method:"personal_importRawKey",params:[e,n]})}),R2=(t,e,n)=>Vt(void 0,void 0,void 0,function*(){return t.send({method:"personal_sendTransaction",params:[e,n]})}),C2=(t,e,n)=>Vt(void 0,void 0,void 0,function*(){return t.send({method:"personal_signTransaction",params:[e,n]})}),P2=(t,e,n,r)=>Vt(void 0,void 0,void 0,function*(){return t.send({method:"personal_sign",params:[e,n,r]})}),O2=(t,e,n)=>Vt(void 0,void 0,void 0,function*(){return t.send({method:"personal_ecRecover",params:[e,n]})}),hf={type:"object",properties:{accessList:{type:"null"},maxFeePerGas:{type:"null"},maxPriorityFeePerGas:{type:"null"}}},pf={type:"object",properties:{maxFeePerGas:{type:"null"},maxPriorityFeePerGas:{type:"null"}}},mf={type:"object",properties:{gasPrice:{type:"null"}}},ss=(t,e,n)=>{try{C.validateJSONSchema(t,e)}catch(r){throw r instanceof ur?new bb(r.errors,n):r}},N2=t=>{var e,n;const r=t;if(!A(r.type)){let s;switch(r.type){case"0x0":s=hf;break;case"0x1":s=pf;break;case"0x2":s=mf;break;default:return S({format:"uint"},r.type,W)}return ss(s,r,r.type),S({format:"uint"},r.type,W)}if(!A(r.maxFeePerGas)||!A(r.maxPriorityFeePerGas))return ss(mf,r,"0x2"),"0x2";if(!A(r.accessList))return ss(pf,r,"0x1"),"0x1";const i=(e=r.hardfork)!==null&&e!==void 0?e:(n=r.common)===null||n===void 0?void 0:n.hardfork;if(!A(i)){const s=Object.keys(Xr).indexOf(i);if(s>=Object.keys(Xr).indexOf("london"))return A(r.gasPrice)?"0x2":"0x0";if(s===Object.keys(Xr).indexOf("berlin"))return"0x0"}if(!A(r.gasPrice))return ss(hf,r,"0x0"),"0x0"},L2=(t,e)=>{var n;return((n=e==null?void 0:e.transactionTypeParser)!==null&&n!==void 0?n:N2)(t)},M2=t=>t[0]>127?"0x0":uc(t[0]),$2={type:"object",properties:{address:{format:"address"},storageKeys:{type:"array",items:{format:"bytes32"}}}},yu={type:"array",items:Object.assign({},$2)},H2={type:"object",properties:{accessList:Object.assign({},yu),gasUsed:{type:"string"}}},gf={type:"string",enum:["goerli","kovan","mainnet","rinkeby","ropsten","sepolia"]},yf={type:"string",enum:["arrowGlacier","berlin","byzantium","chainstart","constantinople","dao","homestead","istanbul","london","merge","muirGlacier","petersburg","shanghai","spuriousDragon","tangerineWhistle"]},D2={type:"object",properties:{name:{format:"string"},networkId:{format:"uint"},chainId:{format:"uint"}}},I0={type:"object",properties:{from:{format:"address"},to:{oneOf:[{format:"address"},{type:"null"}]},value:{format:"uint"},gas:{format:"uint"},gasPrice:{format:"uint"},effectiveGasPrice:{format:"uint"},type:{format:"uint"},maxFeePerGas:{format:"uint"},maxPriorityFeePerGas:{format:"uint"},accessList:Object.assign({},yu),data:{format:"bytes"},input:{format:"bytes"},nonce:{format:"uint"},chain:Object.assign({},gf),hardfork:Object.assign({},yf),chainId:{format:"uint"},networkId:{format:"uint"},common:{type:"object",properties:{customChain:Object.assign({},D2),baseChain:Object.assign({},gf),hardfork:Object.assign({},yf)}},gasLimit:{format:"uint"},v:{format:"uint"},r:{format:"bytes32"},s:{format:"bytes32"}}},dc={type:"object",properties:Object.assign(Object.assign({},I0.properties),{blockHash:{format:"bytes32"},blockNumber:{format:"uint"},hash:{format:"bytes32"},transactionIndex:{format:"uint"},from:{format:"address"},to:{oneOf:[{format:"address"},{type:"null"}]},value:{format:"uint"},gas:{format:"uint"},gasPrice:{format:"uint"},effectiveGasPrice:{format:"uint"},type:{format:"uint"},maxFeePerGas:{format:"uint"},maxPriorityFeePerGas:{format:"uint"},accessList:Object.assign({},yu),data:{format:"bytes"},input:{format:"bytes"},nonce:{format:"uint"},gasLimit:{format:"uint"},v:{format:"uint"},r:{format:"bytes32"},s:{format:"bytes32"}})},x0={type:"object",properties:{index:{format:"uint"},validatorIndex:{format:"uint"},address:{format:"address"},amount:{format:"uint"}}},io={type:"object",properties:{baseFeePerGas:{format:"uint"},blobGasUsed:{format:"uint"},difficulty:{format:"uint"},excessBlobGas:{format:"uint"},extraData:{format:"bytes"},gasLimit:{format:"uint"},gasUsed:{format:"uint"},hash:{format:"bytes32"},logsBloom:{format:"bytes256"},miner:{format:"bytes"},mixHash:{format:"bytes32"},nonce:{format:"uint"},number:{format:"uint"},parentBeaconBlockRoot:{format:"bytes32"},parentHash:{format:"bytes32"},receiptsRoot:{format:"bytes32"},sha3Uncles:{format:"bytes32"},size:{format:"uint"},stateRoot:{format:"bytes32"},timestamp:{format:"uint"},totalDifficulty:{format:"uint"},transactions:{oneOf:[{type:"array",items:Object.assign({},dc)},{type:"array",items:{format:"bytes32"}}]},transactionsRoot:{format:"bytes32"},uncles:{type:"array",items:{format:"bytes32"}},withdrawals:{type:"array",items:Object.assign({},x0)},withdrawalsRoot:{format:"bytes32"}}},U2={type:"object",properties:{author:{format:"bytes32"},excessDataGas:{format:"uint"},baseFeePerGas:{format:"uint"},blobGasUsed:{format:"uint"},difficulty:{format:"uint"},excessBlobGas:{format:"uint"},extraData:{format:"bytes"},gasLimit:{format:"uint"},gasUsed:{format:"uint"},hash:{format:"bytes32"},logsBloom:{format:"bytes256"},miner:{format:"bytes"},mixHash:{format:"bytes32"},nonce:{format:"uint"},number:{format:"uint"},parentBeaconBlockRoot:{format:"bytes32"},parentHash:{format:"bytes32"},receiptsRoot:{format:"bytes32"},sha3Uncles:{format:"bytes32"},size:{format:"uint"},stateRoot:{format:"bytes32"},timestamp:{format:"uint"},totalDifficulty:{format:"uint"},transactions:{type:"array",items:{format:"bytes32"}},transactionsRoot:{format:"bytes32"},uncles:{type:"array",items:{format:"bytes32"}},withdrawals:{type:"array",items:Object.assign({},x0)},withdrawalsRoot:{format:"bytes32"}}},kr={type:"object",properties:{removed:{format:"bool"},logIndex:{format:"uint"},transactionIndex:{format:"uint"},transactionHash:{format:"bytes32"},blockHash:{format:"bytes32"},blockNumber:{format:"uint"},address:{format:"address"},data:{format:"bytes"},topics:{type:"array",items:{format:"bytes32"}}}},F2={type:"object",properties:{startingBlock:{format:"string"},currentBlock:{format:"string"},highestBlock:{format:"string"},knownStates:{format:"string"},pulledStates:{format:"string"}}},Sr={type:"object",properties:{transactionHash:{format:"bytes32"},transactionIndex:{format:"uint"},blockHash:{format:"bytes32"},blockNumber:{format:"uint"},from:{format:"address"},to:{format:"address"},cumulativeGasUsed:{format:"uint"},gasUsed:{format:"uint"},effectiveGasPrice:{format:"uint"},contractAddress:{format:"address"},logs:{type:"array",items:Object.assign({},kr)},logsBloom:{format:"bytes"},root:{format:"bytes"},status:{format:"uint"},type:{format:"uint"}}},j2={type:"object",properties:{messageHash:{format:"bytes"},r:{format:"bytes32"},s:{format:"bytes32"},v:{format:"bytes"},message:{format:"bytes"},signature:{format:"bytes"}}},G2={type:"object",properties:{oldestBlock:{format:"uint"},baseFeePerGas:{type:"array",items:{format:"uint"}},reward:{type:"array",items:{type:"array",items:{format:"uint"}}},gasUsedRatio:{type:"array",items:{type:"number"}}}},q2={type:"object",properties:{key:{format:"bytes32"},value:{format:"uint"},proof:{type:"array",items:{format:"bytes32"}}}},Q2={type:"object",properties:{balance:{format:"uint"},codeHash:{format:"bytes32"},nonce:{format:"uint"},storageHash:{format:"bytes32"},accountProof:{type:"array",items:{format:"bytes32"}},storageProof:{type:"array",items:Object.assign({},q2)}}};function We(t,e=Te,n={transactionSchema:dc,fillInputAndData:!1}){var r,i;let s=hu({},t);if(A(t==null?void 0:t.common)||(s.common=Object.assign({},t.common),A((r=t.common)===null||r===void 0?void 0:r.customChain)||(s.common.customChain=Object.assign({},t.common.customChain))),s=S((i=n.transactionSchema)!==null&&i!==void 0?i:dc,s,e),!A(s.data)&&!A(s.input)&&uc(s.data)!==uc(s.input))throw new Cl({data:Ft(s.data),input:Ft(s.input)});return n.fillInputAndData&&(A(s.data)?A(s.input)||(s.data=s.input):s.input=s.data),A(s.gasLimit)||(s.gas=s.gasLimit,delete s.gasLimit),s}function V2(t,e,n={fillInputAndData:!1}){return{raw:S({format:"bytes"},t,e),tx:We(Object.assign(Object.assign({},On.fromSerializedData(As(t)).toJSON()),{hash:Ft(BE(As(t))),type:M2(As(t))}),e,{fillInputAndData:n.fillInputAndData,transactionSchema:n.transactionSchema})}}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */new Uint8Array(new Uint32Array([287454020]).buffer)[0];function E0(t){var e,n;return t instanceof Uint8Array||((e=t==null?void 0:t.constructor)===null||e===void 0?void 0:e.name)==="Uint8Array"||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="Buffer"}function z2(...t){const e=t.reduce((i,s)=>i+s.length,0),n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}BigInt(0),BigInt(1),BigInt(1e3),BigInt(1e3),BigInt(1e3),BigInt(1e3),BigInt(1e6),BigInt(1e6),BigInt(1e6),BigInt(1e6),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e12),BigInt(1e12),BigInt(1e12),BigInt(1e15),BigInt(1e15),BigInt(1e15),BigInt("1000000000000000000"),BigInt("1000000000000000000000"),BigInt("1000000000000000000000"),BigInt("1000000000000000000000000"),BigInt("1000000000000000000000000000"),BigInt("1000000000000000000000000000000");const fc=t=>{if(C.validate(["bytes"],[t]),E0(t))return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="string")return ke(t);throw new Pe(t)},{uint8ArrayToHexString:W2}=Fe,K2=t=>W2(fc(t)),Z2=(t,e)=>{typeof t!="bigint"&&C.validate(["int"],[t]);let n=Tt(t);return e&&(!n.startsWith("-")&&n.length%2===1?n="0x0".concat(n.slice(2)):n.length%2===0&&n.startsWith("-")&&(n="-0x0".concat(n.slice(3)))),n},os=t=>{if(typeof t=="number")return BigInt(t);if(typeof t=="bigint")return t;if(typeof t=="string"&&Ve(t))return t.startsWith("-")?-BigInt(t.substring(1)):BigInt(t);throw new Gt(t)},bf=t=>typeof t=="object"&&!A(t)&&!Array.isArray(t)&&!(t instanceof jt),v0=(t,...e)=>{if(!bf(t))return t;const n=Object.assign({},t);for(const r of e)for(const i in r)bf(r[i])?(n[i]||(n[i]={}),n[i]=v0(n[i],r[i])):!A(r[i])&&Object.hasOwnProperty.call(r,i)&&(Array.isArray(r[i])||r[i]instanceof jt?n[i]=r[i].slice(0):n[i]=r[i]);return n},J2=(t,e,n="0")=>typeof t=="string"?G(t)?ze(t,e,n):t.padStart(e,n):(C.validate(["int"],[t]),ze(t,e,n)),{parseBaseType:X2}=Fe,Y2=(t,e,n=[])=>{let r=Object.assign({},t),i;for(const s of e){if(r.oneOf&&i){const o=i,a=n.find(([d])=>d===o);a&&a[0]===i&&(r=r.oneOf[a[1]])}if(!r.properties&&!r.items)return;r.properties?r=r.properties[s]:r.items&&r.items.properties?r=r.items.properties[s]:r.items&&pe(r.items)?r=r.items:r.items&&Array.isArray(r.items)&&(r=r.items[parseInt(s,10)]),r&&s&&(i=s)}return r},so=(t,e,n)=>{try{const{baseType:r,baseTypeSize:i}=X2(e);if(r==="int"||r==="uint")switch(n.number){case he.NUMBER:return Number(os(t));case he.HEX:return Z2(os(t));case he.STR:return os(t).toString();case he.BIGINT:return os(t);default:throw new it(`Invalid format: ${String(n.number)}`)}if(r==="bytes"){let s;switch(i?typeof t=="string"?s=J2(t,i*2):E0(t)&&(s=z2(new Uint8Array(i-t.length),t)):s=t,n.bytes){case Me.HEX:return K2(fc(s));case Me.UINT8ARRAY:return fc(s);default:throw new it(`Invalid format: ${String(n.bytes)}`)}}if(r==="string")return String(t)}catch{return t}return t},wf=({value:t,schemaProp:e,schema:n,object:r,key:i,dataPath:s,format:o,oneOfPath:a=[]})=>{var d,u;if(Array.isArray(t)){let c=e;if((e==null?void 0:e.oneOf)!==void 0&&e.oneOf.forEach((f,h)=>{var l,b;!Array.isArray(e==null?void 0:e.items)&&(typeof t[0]=="object"&&((l=f==null?void 0:f.items)===null||l===void 0?void 0:l.type)==="object"||typeof t[0]=="string"&&((b=f==null?void 0:f.items)===null||b===void 0?void 0:b.type)!=="object")&&(c=f,a.push([i,h]))}),A(c==null?void 0:c.items))return delete r[i],s.pop(),!0;if(pe(c.items)&&!A(c.items.format)){for(let f=0;f<t.length;f+=1)r[i][f]=so(t[f],(d=c==null?void 0:c.items)===null||d===void 0?void 0:d.format,o);return s.pop(),!0}if(!Array.isArray(c==null?void 0:c.items)&&((u=c==null?void 0:c.items)===null||u===void 0?void 0:u.type)==="object"){for(const f of t)bu(f,n,s,o,a);return s.pop(),!0}if(Array.isArray(c==null?void 0:c.items)){for(let f=0;f<t.length;f+=1)r[i][f]=so(t[f],c.items[f].format,o);return s.pop(),!0}}return!1},bu=(t,e,n,r,i=[])=>{var s;if(!pe(t)&&!Array.isArray(t))return so(t,e==null?void 0:e.format,r);const o=t;if(Array.isArray(o)&&(e==null?void 0:e.type)==="array"&&((s=e==null?void 0:e.items)===null||s===void 0?void 0:s.type)==="object")wf({value:o,schemaProp:e,schema:e,object:o,key:"",dataPath:n,format:r,oneOfPath:i});else for(const[a,d]of Object.entries(o)){n.push(a);let u=Y2(e,n,i);if(A(u)){delete o[a],n.pop();continue}if(pe(d)){bu(d,e,n,r,i),n.pop();continue}if(!wf({value:d,schemaProp:u,schema:e,object:o,key:a,dataPath:n,format:r,oneOfPath:i})){if((u==null?void 0:u.format)===void 0&&(u==null?void 0:u.oneOf)!==void 0){for(const[c,f]of u.oneOf.entries())if((f==null?void 0:f.format)!==void 0){u=f;break}}o[a]=so(d,u.format,r),n.pop()}}return o},T0=(t,e,n=Te)=>{let r;pe(e)?r=v0({},e):Array.isArray(e)?r=[...e]:r=e;const i=pe(t)?t:Ir(t);if(!i.properties&&!i.items&&!i.format)throw new it("Invalid json schema for formatting");return bu(r,i,[],n)};var wu=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function d(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,d)}u((r=r.apply(t,e||[])).next())})};function Au(t,e){return wu(this,void 0,void 0,function*(){const n=yield I2(t.requestManager);return T0({format:"uint"},n,e)})}function ev(t,e){return wu(this,void 0,void 0,function*(){const n=yield x2(t.requestManager);return T0({format:"uint"},n,e)})}const tv=t=>wu(void 0,void 0,void 0,function*(){return E2(t.requestManager)});var Oa=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function d(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,d)}u((r=r.apply(t,e||[])).next())})};class B0 extends Qe{getId(e=this.defaultReturnFormat){return Oa(this,void 0,void 0,function*(){return Au(this,e)})}getPeerCount(e=this.defaultReturnFormat){return Oa(this,void 0,void 0,function*(){return ev(this,e)})}isListening(){return Oa(this,void 0,void 0,function*(){return tv(this)})}}const gr="ALLEVENTS",lc={name:gr,signature:"",type:"event",inputs:[]},qo={bytes:Me.HEX,number:he.NUMBER};var k0=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function d(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,d)}u((r=r.apply(t,e||[])).next())})};function nv(t,e,n){return k0(this,void 0,void 0,function*(){var r,i,s,o;const a=yield mp(e,e.defaultBlock,!1,W);if(A(a.baseFeePerGas))throw new pb;let d;if(A(t.gasPrice)&&BigInt(a.baseFeePerGas)===BigInt(0)&&(d=yield Ru(e,n)),!A(t.gasPrice)||!A(d)){const u=S({format:"uint"},(r=t.gasPrice)!==null&&r!==void 0?r:d,n);return{maxPriorityFeePerGas:u,maxFeePerGas:u}}return{maxPriorityFeePerGas:S({format:"uint"},(i=t.maxPriorityFeePerGas)!==null&&i!==void 0?i:e.defaultMaxPriorityFeePerGas,n),maxFeePerGas:S({format:"uint"},(s=t.maxFeePerGas)!==null&&s!==void 0?s:BigInt(a.baseFeePerGas)*BigInt(2)+BigInt((o=t.maxPriorityFeePerGas)!==null&&o!==void 0?o:e.defaultMaxPriorityFeePerGas),n)}})}function S0(t,e,n){return k0(this,void 0,void 0,function*(){const r=R0(t,e);if(!A(r)){if(r.startsWith("-"))throw new nd(r);if(Number(r)<0||Number(r)>127)throw new nd(r);if(A(t.gasPrice)&&(r==="0x0"||r==="0x1"))return{gasPrice:yield Ru(e,n),maxPriorityFeePerGas:void 0,maxFeePerGas:void 0};if(r==="0x2")return Object.assign({gasPrice:void 0},yield nv(t,e,n))}})}var _u=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function d(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,d)}u((r=r.apply(t,e||[])).next())})};const hc=(t,e,n,r)=>{if(n!==void 0&&t in n&&n[t]!==void 0){if(typeof n[t]=="string"&&be(n[t]))return n[t];if(!G(n[t])&&ah(n[t])){if(e.wallet){const i=e.wallet.get(S({format:"uint"},n[t],qo));if(!A(i))return i.address;throw new rd}throw new rd}else throw t==="from"?new Ky(n.from):new Zy(n.to)}if(t==="from"){if(!A(r))return Fo(r);if(!A(e.defaultAccount))return e.defaultAccount}},rv=(t,e,...n)=>_u(void 0,[t,e,...n],void 0,function*(r,i,s=r.defaultReturnFormat){if(A(i))throw new hb;return yp(r,i,r.defaultBlock,s)}),R0=(t,e)=>{const n=L2(t,e);if(!A(n))return n;if(!A(e.defaultTransactionType))return S({format:"uint"},e.defaultTransactionType,W)};function iv(t){return _u(this,void 0,void 0,function*(){var e,n;let r=S(I0,t.transaction,t.web3Context.defaultReturnFormat);if(A(r.from)&&(r.from=hc("from",t.web3Context,void 0,t.privateKey)),A(r.nonce)&&(r.nonce=yield rv(t.web3Context,r.from,W)),A(r.value)&&(r.value="0x0"),A(r.data))A(r.input)?r.input="0x":r.input.startsWith("0x")||(r.input=`0x${r.input}`);else{if(!A(r.input)&&r.data!==r.input)throw new Cl({data:Ft(r.data),input:Ft(r.input)});r.data.startsWith("0x")||(r.data=`0x${r.data}`)}if(A(r.common)){if(t.web3Context.defaultCommon){const i=t.web3Context.defaultCommon,s=i.customChain.chainId,o=i.customChain.networkId,a=i.customChain.name;r.common=Object.assign(Object.assign({},i),{customChain:{chainId:s,networkId:o,name:a}})}A(r.chain)&&(r.chain=t.web3Context.defaultChain),A(r.hardfork)&&(r.hardfork=t.web3Context.defaultHardfork)}if(A(r.chainId)&&A((e=r.common)===null||e===void 0?void 0:e.customChain.chainId)&&(r.chainId=yield wp(t.web3Context,W)),A(r.networkId)&&(r.networkId=(n=t.web3Context.defaultNetworkId)!==null&&n!==void 0?n:yield Au(t.web3Context,W)),A(r.gasLimit)&&!A(r.gas)&&(r.gasLimit=r.gas),r.type=R0(r,t.web3Context),A(r.accessList)&&(r.type==="0x1"||r.type==="0x2")&&(r.accessList=[]),t.fillGasPrice&&(r=Object.assign(Object.assign({},r),yield S0(r,t.web3Context,W))),A(r.gas)&&A(r.gasLimit)&&t.fillGasLimit){const i=yield Ou(t.web3Context,r,"latest",W);r=Object.assign(Object.assign({},r),{gas:S({format:"uint"},i,W)})}return r})}const sv=t=>_u(void 0,void 0,void 0,function*(){var e;return((e=t.web3Context.transactionBuilder)!==null&&e!==void 0?e:iv)(Object.assign(Object.assign({},t),{transaction:t.transaction}))});var Iu=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function d(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,d)}u((r=r.apply(t,e||[])).next())})};function pc(t,e,n){const r=t.transactionPollingInterval,[i,s]=RE(()=>Iu(this,void 0,void 0,function*(){let a;try{a=yield Cu(t,qo)}catch(u){console.warn("An error happen while trying to get the block number",u);return}const d=a-e;if(d>=t.transactionBlockTimeout)return new Nl({starterBlockNumber:e,numberOfBlocks:d,transactionHash:n})}),r);return[s,{clean:()=>{clearInterval(i)}}]}function ov(t,e,n){return Iu(this,void 0,void 0,function*(){var r;let i=!0,s,o;function a(u,c){c&&console.warn("error happened at subscription. So revert to polling...",c),o.clean(),i=!1;const[f,h]=pc(t,e,n);o.clean=h.clean,f.catch(l=>u(l))}try{s=yield(r=t.subscriptionManager)===null||r===void 0?void 0:r.subscribe("newHeads"),o={clean:()=>{var u;s.id&&((u=t.subscriptionManager)===null||u===void 0||u.removeSubscription(s).then(()=>{}).catch(()=>{}))}}}catch{return pc(t,e,n)}return[new Promise((u,c)=>{try{s.on("data",f=>{if(i=!1,!(f!=null&&f.number))return;const h=Number(BigInt(f.number)-BigInt(e));h>=t.transactionBlockTimeout&&c(new Nl({starterBlockNumber:e,numberOfBlocks:h,transactionHash:n}))}),s.on("error",f=>{a(c,f)})}catch(f){a(c,f)}setTimeout(()=>{i&&a(c)},t.blockHeaderTimeout*1e3)}),o]})}function C0(t,e){return Iu(this,void 0,void 0,function*(){var n,r;const{provider:i}=t.requestManager;let s;const o=yield Cu(t,qo);return!((r=(n=i).supportsSubscriptions)===null||r===void 0)&&r.call(n)&&t.enableExperimentalFeatures.useSubscriptionWhenCheckingBlockTimeout?s=yield ov(t,o,e):s=pc(t,o,e),s})}var av=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function d(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,d)}u((r=r.apply(t,e||[])).next())})};function mc(t,e,n){return av(this,void 0,void 0,function*(){const[r,i]=b0(t.transactionSendTimeout,new mb({numberOfSeconds:t.transactionSendTimeout/1e3,transactionHash:n})),[s,o]=yield C0(t,n);try{return yield Promise.race([e(),i,s])}finally{clearTimeout(r),o.clean()}})}var Af=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function d(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,d)}u((r=r.apply(t,e||[])).next())})};function P0(t,e,n,r){return Af(this,void 0,void 0,function*(){var i;const s=(i=t.transactionReceiptPollingInterval)!==null&&i!==void 0?i:t.transactionPollingInterval,[o,a]=SE(()=>Af(this,void 0,void 0,function*(){try{return(r??gp)(t,e,n)}catch(h){console.warn("An error happen while trying to get the transaction receipt",h);return}}),s),[d,u]=b0(t.transactionPollingTimeout,new Ol({numberOfSeconds:t.transactionPollingTimeout/1e3,transactionHash:e})),[c,f]=yield C0(t,e);try{return yield Promise.race([o,u,c])}finally{d&&clearTimeout(d),a&&clearInterval(a),f.clean()}})}var cv=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function d(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,d)}u((r=r.apply(t,e||[])).next())})};const _s=({web3Context:t,transactionReceipt:e,transactionPromiEvent:n,customTransactionReceiptSchema:r,returnFormat:i})=>{var s;let o=1;const a=setInterval(()=>{cv(void 0,void 0,void 0,function*(){if(o>=t.transactionConfirmationBlocks){clearInterval(a);return}const d=yield _0(t.requestManager,Ze(BigInt(e.blockNumber)+BigInt(o)),!1);d!=null&&d.hash&&(o+=1,n.emit("confirmation",{confirmations:S({format:"uint"},o,i),receipt:S(r??Sr,e,i),latestBlockHash:S({format:"bytes32"},d.hash,i)}))})},(s=t.transactionReceiptPollingInterval)!==null&&s!==void 0?s:t.transactionPollingInterval)};var _f=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function d(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,d)}u((r=r.apply(t,e||[])).next())})};const uv=({web3Context:t,transactionReceipt:e,transactionPromiEvent:n,customTransactionReceiptSchema:r,returnFormat:i})=>{let s=!0,o;setImmediate(()=>{var a;(a=t.subscriptionManager)===null||a===void 0||a.subscribe("newHeads").then(d=>{d.on("data",u=>_f(void 0,void 0,void 0,function*(){var c;if(s=!1,!(u!=null&&u.number)||o===(u==null?void 0:u.parentHash))return;o=u==null?void 0:u.parentHash;const f=BigInt(u.number)-BigInt(e.blockNumber)+BigInt(1);n.emit("confirmation",{confirmations:S({format:"uint"},f,i),receipt:S(r??Sr,e,i),latestBlockHash:S({format:"bytes32"},u.parentHash,i)}),f>=t.transactionConfirmationBlocks&&(yield(c=t.subscriptionManager)===null||c===void 0?void 0:c.removeSubscription(d))})),d.on("error",()=>_f(void 0,void 0,void 0,function*(){var u;yield(u=t.subscriptionManager)===null||u===void 0?void 0:u.removeSubscription(d),s=!1,_s({web3Context:t,transactionReceipt:e,transactionPromiEvent:n,customTransactionReceiptSchema:r,returnFormat:i})}))}).catch(()=>{s=!1,_s({web3Context:t,transactionReceipt:e,customTransactionReceiptSchema:r,transactionPromiEvent:n,returnFormat:i})})}),setTimeout(()=>{s&&_s({web3Context:t,transactionReceipt:e,transactionPromiEvent:n,returnFormat:i})},t.blockHeaderTimeout*1e3)};function dv(t,e,n,r,i,s){if(A(n)||A(n.blockHash))throw new gb({receipt:n,blockHash:S({format:"bytes32"},n==null?void 0:n.blockHash,i),transactionHash:S({format:"bytes32"},r,i)});if(!n.blockNumber)throw new yb({receipt:n});e.emit("confirmation",{confirmations:S({format:"uint"},1,i),receipt:S(s??Sr,n,i),latestBlockHash:S({format:"bytes32"},n.blockHash,i)});const o=t.requestManager.provider;o&&"supportsSubscriptions"in o&&o.supportsSubscriptions()?uv({web3Context:t,transactionReceipt:n,transactionPromiEvent:e,customTransactionReceiptSchema:s,returnFormat:i}):_s({web3Context:t,transactionReceipt:n,transactionPromiEvent:e,customTransactionReceiptSchema:s,returnFormat:i})}function Bi(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function fv(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function lv(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function Qo(t,...e){if(!lv(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function hv(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Bi(t.outputLen),Bi(t.blockLen)}function gc(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function O0(t,e){Qo(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const pv={number:Bi,bool:fv,bytes:Qo,hash:hv,exists:gc,output:O0},as=BigInt(2**32-1),If=BigInt(32);function mv(t,e=!1){return e?{h:Number(t&as),l:Number(t>>If&as)}:{h:Number(t>>If&as)|0,l:Number(t&as)|0}}function gv(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=mv(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const yv=(t,e,n)=>t<<n|e>>>32-n,bv=(t,e,n)=>e<<n|t>>>32-n,wv=(t,e,n)=>e<<n-32|t>>>64-n,Av=(t,e,n)=>t<<n-32|e>>>64-n;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _v=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),xf=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,Iv=t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255;function Ef(t){for(let e=0;e<t.length;e++)t[e]=Iv(t[e])}function ki(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function N0(t){return typeof t=="string"&&(t=ki(t)),Qo(t),t}let xv=class{clone(){return this._cloneInto()}};function Ev(t){const e=r=>t().update(N0(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}const L0=[],M0=[],$0=[],vv=BigInt(0),Dr=BigInt(1),Tv=BigInt(2),Bv=BigInt(7),kv=BigInt(256),Sv=BigInt(113);for(let t=0,e=Dr,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],L0.push(2*(5*r+n)),M0.push((t+1)*(t+2)/2%64);let i=vv;for(let s=0;s<7;s++)e=(e<<Dr^(e>>Bv)*Sv)%kv,e&Tv&&(i^=Dr<<(Dr<<BigInt(s))-Dr);$0.push(i)}const[Rv,Cv]=gv($0,!0),vf=(t,e,n)=>n>32?wv(t,e,n):yv(t,e,n),Tf=(t,e,n)=>n>32?Av(t,e,n):bv(t,e,n);function Pv(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,d=(o+2)%10,u=n[d],c=n[d+1],f=vf(u,c,1)^n[a],h=Tf(u,c,1)^n[a+1];for(let l=0;l<50;l+=10)t[o+l]^=f,t[o+l+1]^=h}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=M0[o],d=vf(i,s,a),u=Tf(i,s,a),c=L0[o];i=t[c],s=t[c+1],t[c]=d,t[c+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=Rv[r],t[1]^=Cv[r]}n.fill(0)}let Ov=class H0 extends xv{constructor(e,n,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Bi(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=_v(this.state)}keccak(){xf||Ef(this.state32),Pv(this.state32,this.rounds),xf||Ef(this.state32),this.posOut=0,this.pos=0}update(e){gc(this);const{blockLen:n,state:r}=this;e=N0(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){gc(this,!1),Qo(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Bi(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(O0(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new H0(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const Nv=(t,e,n)=>Ev(()=>new Ov(e,t,n)),Bf=Nv(1,136,256/8);function Lv(t){if(!(t instanceof Uint8Array))throw new TypeError(`bytesToUtf8 expected Uint8Array, got ${typeof t}`);return new TextDecoder().decode(t)}function Mv(t){return e=>(pv.bytes(e),t(e))}(()=>{const t=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,e=typeof module<"u"&&typeof module.require=="function"&&module.require.bind(module);return{node:e&&!t?e("crypto"):void 0,web:t}})();const D0=(()=>{const t=Mv(Bf);return t.create=Bf.create,t})();function U0(t){var e,n;return t instanceof Uint8Array||((e=t==null?void 0:t.constructor)===null||e===void 0?void 0:e.name)==="Uint8Array"||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="Buffer"}function oo(...t){const e=t.reduce((i,s)=>i+s.length,0),n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}BigInt(0),BigInt(1),BigInt(1e3),BigInt(1e3),BigInt(1e3),BigInt(1e3),BigInt(1e6),BigInt(1e6),BigInt(1e6),BigInt(1e6),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e12),BigInt(1e12),BigInt(1e12),BigInt(1e15),BigInt(1e15),BigInt(1e15),BigInt("1000000000000000000"),BigInt("1000000000000000000000"),BigInt("1000000000000000000000"),BigInt("1000000000000000000000000"),BigInt("1000000000000000000000000000"),BigInt("1000000000000000000000000000000");const $v="Warning: Using type `number` with values that are large or contain many decimals may cause loss of precision, it is recommended to use type `string` or `BigInt` when using conversion methods",Si=t=>{if(C.validate(["bytes"],[t]),U0(t))return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="string")return ke(t);throw new Pe(t)},{uint8ArrayToHexString:Hv}=Fe,Vo=t=>Hv(Si(t)),F0=t=>typeof t=="string"&&t.slice(0,2).toLowerCase()!=="0x"?Si(`0x${t}`):Si(t),Dv=t=>(C.validate(["hex"],[t]),Hn(t)),cs=(t,e)=>{typeof t!="bigint"&&C.validate(["int"],[t]);let n=Tt(t);return e&&(!n.startsWith("-")&&n.length%2===1?n="0x0".concat(n.slice(2)):n.length%2===0&&n.startsWith("-")&&(n="-0x0".concat(n.slice(3)))),n},kf=t=>{C.validate(["string"],[t]);let e=t.replace(/^(?:\u0000)/,"");return e=e.replace(/(?:\u0000)$/,""),Vo(new TextEncoder().encode(e))},Uv=t=>Lv(F0(t)),j0=ki,Fv=(t,e)=>{if(typeof t=="string"&&be(t))return e?"address":`0x${t.toLowerCase().replace(/^0x/i,"")}`;if(typeof t=="boolean")return e?"bool":t?"0x01":"0x00";if(typeof t=="number")return e?t<0?"int256":"uint256":cs(t);if(typeof t=="bigint")return e?"bigint":cs(t);if(U0(t))return e?"bytes":Vo(t);if(typeof t=="object"&&t)return e?"string":kf(JSON.stringify(t));if(typeof t=="string"){if(t.startsWith("-0x")||t.startsWith("-0X"))return e?"int256":cs(t);if(G(t))return e?"bytes":t;if(Ve(t)&&!lt(t)&&!He(t))return e?"bytes":`0x${t}`;if(Ve(t)&&!lt(t)&&He(t))return e?"uint":cs(t);if(!Number.isFinite(t))return e?"string":kf(t)}throw new Ro(t)},G0=t=>{if(typeof t=="number")return t>1e20?(console.warn($v),BigInt(t)):t;if(typeof t=="bigint")return t>=Number.MIN_SAFE_INTEGER&&t<=Number.MAX_SAFE_INTEGER?Number(t):t;if(typeof t=="string"&&G(t))return Dv(t);try{return G0(BigInt(t))}catch{throw new Gt(t)}},jv=t=>{if(typeof t=="number")return BigInt(t);if(typeof t=="bigint")return t;if(typeof t=="string"&&Ve(t))return t.startsWith("-")?-BigInt(t.substring(1)):BigInt(t);throw new Gt(t)},Gv=t=>{if(!be(t,!1))throw new qt(t);const e=t.toLowerCase().replace(/^0x/i,""),n=De(D0(Ue(j0(e))));if(A(n)||n==="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470")return"";let r="0x";const i=n.replace(/^0x/i,"");for(let s=0;s<e.length;s+=1)parseInt(i[s],16)>7?r+=e[s].toUpperCase():r+=e[s];return r},qv=t=>{if(typeof t=="boolean")return t;if(typeof t=="number"&&(t===0||t===1)||typeof t=="bigint"&&(t===BigInt(0)||t===BigInt(1)))return!!t;if(typeof t=="string"&&!G(t)&&(t==="1"||t==="0"||t==="false"||t==="true"))return t==="true"?!0:t==="false"?!1:!!Number(t);if(typeof t=="string"&&G(t)&&(t==="0x1"||t==="0x0"))return!!G0(t);throw new Co(t)},Et=A,Qv=(t,e,n="0")=>typeof t=="string"?G(t)?ze(t,e,n):t.padStart(e,n):(C.validate(["int"],[t]),ze(t,e,n)),q0="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",Vv=t=>{let e;return typeof t=="bigint"||typeof t=="number"?e=ki(t.toString()):Array.isArray(t)?e=new Uint8Array(t):typeof t=="string"&&!G(t)?e=ki(t):e=Si(t),Vo(D0(Ue(e)))},zv=t=>{let e;typeof t=="string"?t.startsWith("0x")&&G(t)?e=F0(t):e=ki(t):e=t;const n=Vv(e);return n===q0?void 0:n},xu=t=>{const e=zv(t);return A(e)?q0:e},zo=t=>!Et(t)&&typeof t=="object"&&!Et(t.type)&&t.type==="error",Eu=t=>!Et(t)&&typeof t=="object"&&!Et(t.type)&&t.type==="event",Wo=t=>!Et(t)&&typeof t=="object"&&!Et(t.type)&&t.type==="function",Wv=t=>!Et(t)&&typeof t=="object"&&!Et(t.type)&&t.type==="constructor",Kv=t=>typeof t=="object"&&typeof t.components>"u"&&typeof t.name>"u",Q0=t=>t.includes("[]")?{type:"tuple[]",name:t.slice(0,-2)}:{type:"tuple",name:t},V0=t=>{const e=[];for(const n of Object.keys(t)){const r=t[n];typeof r=="object"?e.push(Object.assign(Object.assign({},Q0(n)),{components:V0(r)})):e.push({name:n,type:t[n]})}return e},yc=(t,e)=>{const n=[];return e.forEach(r=>{if(typeof r.components=="object"){if(!r.type.startsWith("tuple"))throw new ee(`Invalid value given "${r.type}". Error: components found but type is not tuple.`);const i=r.type.indexOf("["),s=i>=0?r.type.substring(i):"",o=yc(t,r.components);n.push(`(${o.join(",")})${s}`)}else n.push(r.type)}),n},Ht=t=>{var e,n,r,i;return zo(t)||Eu(t)||Wo(t)?!((e=t.name)===null||e===void 0)&&e.includes("(")?t.name:`${(n=t.name)!==null&&n!==void 0?n:""}(${yc(!1,(r=t.inputs)!==null&&r!==void 0?r:[]).join(",")})`:`(${yc(!1,(i=t.inputs)!==null&&i!==void 0?i:[]).join(",")})`},Zv=t=>{if(typeof t!="string"&&!zo(t))throw new ee("Invalid parameter value in encodeErrorSignature");let e;return t&&(typeof t=="function"||typeof t=="object")?e=Ht(t):e=t,xu(e)},vu=t=>{if(typeof t!="string"&&!Eu(t))throw new ee("Invalid parameter value in encodeEventSignature");let e;return t&&(typeof t=="function"||typeof t=="object")?e=Ht(t):e=t,xu(e)};function Tu(t,e){const n=t.exec(e);return n==null?void 0:n.groups}var z0=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,W0=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,K0=/^\(.+?\).*?$/,Jv=Object.defineProperty,Xv=(t,e,n)=>e in t?Jv(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ur=(t,e,n)=>(Xv(t,typeof e!="symbol"?e+"":e,n),n),Yv="abitype",eT="0.7.1",qe=class extends Error{constructor(t,e={}){var s;const n=e.cause instanceof qe?e.cause.details:(s=e.cause)!=null&&s.message?e.cause.message:e.details,r=e.cause instanceof qe&&e.cause.docsPath||e.docsPath,i=[t||"An error occurred.","",...e.metaMessages?[...e.metaMessages,""]:[],...r?[`Docs: https://abitype.dev${r}`]:[],...n?[`Details: ${n}`]:[],`Version: ${Yv}@${eT}`].join(`
`);super(i),Ur(this,"details"),Ur(this,"docsPath"),Ur(this,"metaMessages"),Ur(this,"shortMessage"),Ur(this,"name","AbiTypeError"),e.cause&&(this.cause=e.cause),this.details=n,this.docsPath=r,this.metaMessages=e.metaMessages,this.shortMessage=t}},Z0=/^struct (?<name>[a-zA-Z0-9_]+) \{(?<properties>.*?)\}$/;function J0(t){return Z0.test(t)}function tT(t){return Tu(Z0,t)}var Sf=new Set(["memory","indexed","storage","calldata"]),nT=new Set(["calldata","memory","storage"]);function rT(t,e){return e?`${e}:${t}`:t}var Na=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]),iT=/^(?<type>[a-zA-Z0-9_]+?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z0-9_]+))?$/,sT=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z0-9_]+))?$/,oT=/^u?int$/;function ao(t,e){var f,h;const n=rT(t,e==null?void 0:e.type);if(Na.has(n))return Na.get(n);const r=K0.test(t),i=Tu(r?sT:iT,t);if(!i)throw new qe("Invalid ABI parameter.",{details:t});if(i.name&&cT(i.name))throw new qe("Invalid ABI parameter.",{details:t,metaMessages:[`"${i.name}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]});const s=i.name?{name:i.name}:{},o=i.modifier==="indexed"?{indexed:!0}:{},a=(e==null?void 0:e.structs)??{};let d,u={};if(r){d="tuple";const l=Zn(i.type),b=[],m=l.length;for(let g=0;g<m;g++)b.push(ao(l[g],{structs:a}));u={components:b}}else if(i.type in a)d="tuple",u={components:a[i.type]};else if(oT.test(i.type))d=`${i.type}256`;else if(d=i.type,(e==null?void 0:e.type)!=="struct"&&!X0(d))throw new qe("Unknown type.",{metaMessages:[`Type "${d}" is not a valid ABI type.`]});if(i.modifier){if(!((h=(f=e==null?void 0:e.modifiers)==null?void 0:f.has)!=null&&h.call(f,i.modifier)))throw new qe("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${i.modifier}" not allowed${e!=null&&e.type?` in "${e.type}" type`:""}.`]});if(nT.has(i.modifier)&&!uT(d,!!i.array))throw new qe("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${i.modifier}" not allowed${e!=null&&e.type?` in "${e.type}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${i.modifier}" was given.`]})}const c={type:`${d}${i.array??""}`,...s,...o,...u};return Na.set(n,c),c}function Zn(t,e=[],n="",r=0){if(t===""){if(n==="")return e;if(r!==0)throw new qe("Unbalanced parentheses.",{metaMessages:[`"${n.trim()}" has too many ${r>0?"opening":"closing"} parentheses.`],details:`Depth "${r}"`});return[...e,n.trim()]}const i=t.length;for(let s=0;s<i;s++){const o=t[s],a=t.slice(s+1);switch(o){case",":return r===0?Zn(a,[...e,n.trim()]):Zn(a,e,`${n}${o}`,r);case"(":return Zn(a,e,`${n}${o}`,r+1);case")":return Zn(a,e,`${n}${o}`,r-1);default:return Zn(a,e,`${n}${o}`,r)}}return[]}function X0(t){return t==="address"||t==="bool"||t==="function"||t==="string"||z0.test(t)||W0.test(t)}var aT=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function cT(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||z0.test(t)||W0.test(t)||aT.test(t)}function uT(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function dT(t){const e={},n=t.length;for(let o=0;o<n;o++){const a=t[o];if(!J0(a))continue;const d=tT(a);if(!d)throw new qe("Invalid struct signature.",{details:a});const u=d.properties.split(";"),c=[],f=u.length;for(let h=0;h<f;h++){const b=u[h].trim();if(!b)continue;const m=ao(b,{type:"struct"});c.push(m)}if(!c.length)throw new qe("Invalid struct signature.",{details:a,metaMessages:["No properties exist."]});e[d.name]=c}const r={},i=Object.entries(e),s=i.length;for(let o=0;o<s;o++){const[a,d]=i[o];r[a]=Y0(d,e)}return r}var fT=/^(?<type>[a-zA-Z0-9_]+?)(?<array>(?:\[\d*?\])+?)?$/;function Y0(t,e,n=new Set){const r=[],i=t.length;for(let s=0;s<i;s++){const o=t[s];if(K0.test(o.type))r.push(o);else{const d=Tu(fT,o.type);if(!(d!=null&&d.type))throw new qe("Invalid ABI parameter.",{details:JSON.stringify(o,null,2),metaMessages:["ABI parameter type is invalid."]});const{array:u,type:c}=d;if(c in e){if(n.has(c))throw new qe("Circular reference detected.",{metaMessages:[`Struct "${c}" is a circular reference.`]});r.push({...o,type:`tuple${u??""}`,components:Y0(e[c]??[],e,new Set([...n,c]))})}else if(X0(c))r.push(o);else throw new qe("Unknown type.",{metaMessages:[`Type "${c}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]})}}return r}function lT(t){let e;if(typeof t=="string")e=ao(t,{modifiers:Sf});else{const n=dT(t),r=t.length;for(let i=0;i<r;i++){const s=t[i];if(!J0(s)){e=ao(s,{modifiers:Sf,structs:n});break}}}if(!e)throw new qe("Failed to parse ABI parameter.",{details:`parseAbiParameter(${JSON.stringify(t,null,2)})`,docsPath:"/api/human.html#parseabiparameter-1"});return e}const ye=32;function bc(t=0){var e;if(((e=globalThis.Buffer)===null||e===void 0?void 0:e.alloc)!==void 0){const n=globalThis.Buffer.alloc(t);return new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}return new Uint8Array(t)}function ep(t){var e,n;return Object.assign(Object.assign({},t),{name:(e=t.name)!==null&&e!==void 0?e:"",components:(n=t.components)===null||n===void 0?void 0:n.map(r=>ep(r))})}function hT(t){return!Et(t)&&typeof t=="object"&&!Et(t.type)&&typeof t.type=="string"}function tp(t){return t.map(e=>{var n;if(hT(e))return e;if(typeof e=="string")return ep(lT(e.replace(/tuple/,"")));if(Kv(e)){const r=Object.keys(e)[0],i=Q0(r);return i.name=(n=i.name)!==null&&n!==void 0?n:"",Object.assign(Object.assign({},i),{components:V0(e[r])})}throw new ee("Invalid abi")})}function Bu(t){const e=t.type.lastIndexOf("["),n=t.type.substring(0,e),r=t.type.substring(e);let i=-1;if(r!=="[]"&&(i=Number(r.slice(1,-1)),isNaN(i)))throw new ee("Invalid fixed array size",{size:r});return{param:{type:n,name:"",components:t.components},size:i}}function co(t){var e,n;return t.type==="string"||t.type==="bytes"||t.type.endsWith("[]")?!0:t.type==="tuple"?(n=(e=t.components)===null||e===void 0?void 0:e.some(co))!==null&&n!==void 0?n:!1:t.type.endsWith("]")?co(Bu(t).param):!1}const np=20,rp=ye-np;function pT(t,e){if(typeof e!="string")throw new ee("address type expects string as input type",{value:e,name:t.name,type:t.type});let n=e.toLowerCase();if(n.startsWith("0x")||(n=`0x${n}`),!be(n))throw new ee("provided input is not valid address",{value:e,name:t.name,type:t.type});const r=ke(n),i=bc(ye);return i.set(r,rp),{dynamic:!1,encoded:i}}function mT(t,e){const n=e.subarray(rp,ye);if(n.length!==np)throw new ee("Invalid decoding input, not enough bytes to decode address",{bytes:e});const r=De(n);return{result:Gv(r),encoded:e.subarray(ye),consumed:ye}}const sn=new Map;let us=BigInt(256);for(let t=8;t<=256;t+=8)sn.set(`uint${t}`,{min:BigInt(0),max:us-BigInt(1)}),sn.set(`int${t}`,{min:-us/BigInt(2),max:us/BigInt(2)-BigInt(1)}),us*=BigInt(256);sn.set("int",sn.get("int256"));sn.set("uint",sn.get("uint256"));const ip=BigInt(1)<<BigInt(256);function gT(t,e=ye){let n;return t<0?n=(ip+t).toString(16):n=t.toString(16),n=Qv(n,e*2),ke(n)}function yT(t,e){const n=De(t),r=BigInt(n);return r<=e?r:r-ip}function Zi(t,e){let n;try{n=jv(e)}catch{throw new ee("provided input is not number value",{type:t.type,value:e,name:t.name})}const r=sn.get(t.type);if(!r)throw new ee("provided abi contains invalid number datatype",{type:t.type});if(n<r.min)throw new ee("provided input is less then minimum for given type",{type:t.type,value:e,name:t.name,minimum:r.min.toString()});if(n>r.max)throw new ee("provided input is greater then maximum for given type",{type:t.type,value:e,name:t.name,maximum:r.max.toString()});return{dynamic:!1,encoded:gT(n)}}function yr(t,e){if(e.length<ye)throw new ee("Not enough bytes left to decode",{param:t,bytesLeft:e.length});const n=e.subarray(0,ye),r=sn.get(t.type);if(!r)throw new ee("provided abi contains invalid number datatype",{type:t.type});const i=yT(n,r.max);if(i<r.min)throw new ee("decoded value is less then minimum for given type",{type:t.type,value:i,name:t.name,minimum:r.min.toString()});if(i>r.max)throw new ee("decoded value is greater then maximum for given type",{type:t.type,value:i,name:t.name,maximum:r.max.toString()});return{result:i,encoded:e.subarray(ye),consumed:ye}}function bT(t,e){let n;try{n=qv(e)}catch(r){if(r instanceof Co)throw new ee("provided input is not valid boolean value",{type:t.type,value:e,name:t.name})}return Zi({type:"uint8",name:""},Number(n))}function wT(t,e){const n=yr({type:"uint8",name:""},e);if(n.result>1||n.result<0)throw new ee("Invalid boolean value encoded",{boolBytes:e.subarray(0,ye),numberResult:n});return{result:n.result===BigInt(1),encoded:n.encoded,consumed:ye}}const AT=32;function sp(t,e){if(typeof e=="string"&&e.length%2!==0&&(e+="0"),!on(e))throw new ee("provided input is not valid bytes value",{type:t.type,value:e,name:t.name});const n=Si(e),[,r]=t.type.split("bytes");if(r){if(Number(r)>AT||Number(r)<1)throw new ee("invalid bytes type. Static byte type can have between 1 and 32 bytes",{type:t.type});if(Number(r)<n.length)throw new ee("provided input size is different than type size",{type:t.type,value:e,name:t.name});const o=bc(ye);return o.set(n),{dynamic:!1,encoded:o}}const i=Math.ceil(n.length/ye),s=bc(ye+i*ye);return s.set(Zi({type:"uint32",name:""},n.length).encoded),s.set(n,ye),{dynamic:!0,encoded:s}}function op(t,e){const[,n]=t.type.split("bytes");let r=Number(n),i=e,s=1,o=0;if(!r){const a=yr({type:"uint32",name:""},i);r=Number(a.result),o+=a.consumed,i=a.encoded,s=Math.ceil(r/ye)}if(r>e.length)throw new ee("there is not enough data to decode",{type:t.type,encoded:e,size:r});return{result:Vo(i.subarray(0,r)),encoded:i.subarray(s*ye),consumed:o+s*ye}}function _T(t,e){if(typeof e!="string")throw new ee("invalid input, should be string",{input:e});const n=j0(e);return sp({type:"bytes",name:""},n)}function IT(t,e){const n=op({type:"bytes",name:""},e);return{result:Uv(n.result),encoded:n.encoded,consumed:n.consumed}}function ap(t){let e=0,n=0;const r=[],i=[];for(const s of t)s.dynamic?e+=ye:e+=s.encoded.length;for(const s of t)s.dynamic?(r.push(Zi({type:"uint256",name:""},e+n)),i.push(s),n+=s.encoded.length):r.push(s);return oo(...r.map(s=>s.encoded),...i.map(s=>s.encoded))}function xT(t,e){if(!Array.isArray(e))throw new ee("Expected value to be array",{abi:t,values:e});const{size:n,param:r}=Bu(t),i=e.map(a=>wc(r,a)),s=n===-1,o=i.length>0&&i[0].dynamic;if(!s&&e.length!==n)throw new ee("Given arguments count doesn't match array length",{arrayLength:n,argumentsLength:e.length});if(s||o){const a=ap(i);if(s){const d=Zi({type:"uint256",name:""},i.length).encoded;return{dynamic:!0,encoded:i.length>0?oo(d,a):d}}return{dynamic:!0,encoded:a}}return{dynamic:!1,encoded:oo(...i.map(a=>a.encoded))}}function ET(t,e){let{size:n,param:r}=Bu(t);const i=n===-1;let s=0;const o=[];let a=e;if(i){const u=yr({type:"uint32",name:""},e);n=Number(u.result),s=u.consumed,a=u.encoded}if(co(r)){for(let u=0;u<n;u+=1){const c=yr({type:"uint32",name:""},a.subarray(u*ye));s+=c.consumed;const f=uo(r,a.subarray(Number(c.result)));s+=f.consumed,o.push(f.result)}return{result:o,encoded:a.subarray(s),consumed:s}}for(let u=0;u<n;u+=1){const c=uo(r,e.subarray(s));s+=c.consumed,o.push(c.result)}return{result:o,encoded:e.subarray(s),consumed:s}}function wc(t,e){if(t.type==="string")return _T(t,e);if(t.type==="bool")return bT(t,e);if(t.type==="address")return pT(t,e);if(t.type==="tuple")return ku(t,e);if(t.type.endsWith("]"))return xT(t,e);if(t.type.startsWith("bytes"))return sp(t,e);if(t.type.startsWith("uint")||t.type.startsWith("int"))return Zi(t,e);throw new ee("Unsupported",{param:t,value:e})}function uo(t,e){if(t.type==="string")return IT(t,e);if(t.type==="bool")return wT(t,e);if(t.type==="address")return mT(t,e);if(t.type==="tuple")return cp(t,e);if(t.type.endsWith("]"))return ET(t,e);if(t.type.startsWith("bytes"))return op(t,e);if(t.type.startsWith("uint")||t.type.startsWith("int"))return yr(t,e);throw new ee("Unsupported",{param:t,bytes:e})}function ku(t,e){var n,r,i;let s=!1;if(!Array.isArray(e)&&typeof e!="object")throw new ee("param must be either Array or Object",{param:t,input:e});const o=e,a=[];for(let d=0;d<((r=(n=t.components)===null||n===void 0?void 0:n.length)!==null&&r!==void 0?r:0);d+=1){const u=t.components[d];let c;if(Array.isArray(o)){if(d>=o.length)throw new ee("input param length missmatch",{param:t,input:e});c=wc(u,o[d])}else{const f=o[(i=u.name)!==null&&i!==void 0?i:""];if(f==null)throw new ee("missing input defined in abi",{param:t,input:e,paramName:u.name});c=wc(u,f)}c.dynamic&&(s=!0),a.push(c)}return s?{dynamic:!0,encoded:ap(a)}:{dynamic:!1,encoded:oo(...a.map(d=>d.encoded))}}function cp(t,e){const n={__length__:0};let r=0;if(!t.components)return{result:n,encoded:e,consumed:r};let i=0;for(const[s,o]of t.components.entries()){let a;if(co(o)){const d=yr({type:"uint32",name:""},e.subarray(r));a=uo(o,e.subarray(Number(d.result))),r+=d.consumed,i+=a.consumed}else a=uo(o,e.subarray(r)),r+=a.consumed;n.__length__+=1,n[s]=a.result,o.name&&o.name!==""&&(n[o.name]=a.result)}return{encoded:e.subarray(r+i),result:n,consumed:r+i}}function vT(t,e,n){const r=tp(t),i=ke(e);return cp({type:"tuple",name:"",components:r},i).result}function up(t){const e=[];return t.forEach(n=>{if(Array.isArray(n)){const r=up(n);e.push({type:"tuple",components:r,name:""})}else e.push({type:Fv(n,!0)})}),e}function Ko(t,e){if((t==null?void 0:t.length)!==e.length)throw new ee("Invalid number of values received for given ABI",{expected:t==null?void 0:t.length,received:e.length});const n=tp(t);return De(ku({type:"tuple",name:"",components:n},e).encoded)}function TT(t){try{const e=up(t);return De(ku({type:"tuple",name:"",components:e},t).encoded)}catch{throw new ee("Could not infer types from given params",{params:t})}}const Ac=(t,e)=>Ko([t],[e]),dp=(t,e,n)=>{try{if(t.length>0&&(!e||e==="0x"||e==="0X"))throw new ee("Returned values aren't valid, did it run Out of Gas? You might also see this error if you are not using the correct ABI for the contract you are retrieving data from, requesting data from a block number that does not exist, or querying a node which is not fully synced.");return vT(t,`0x${e.replace(/0x/i,"")}`,n)}catch(r){throw new ee(`Parameter decoding error: ${r.message}`,{internalErr:r})}},xn=(t,e)=>dp(t,e,!1),fp=(t,e)=>xn([t],e)[0],Ri=t=>{if(typeof t!="string"&&!Wo(t))throw new ee("Invalid parameter value in encodeFunctionSignature");let e;return t&&(typeof t=="function"||typeof t=="object")?e=Ht(t):e=t,xu(e).slice(0,10)},BT=(t,e)=>{var n;if(!Wo(t))throw new ee("Invalid parameter value in encodeFunctionCall");return`${Ri(t)}${Ko((n=t.inputs)!==null&&n!==void 0?n:[],e??[]).replace("0x","")}`},_c=(t,e,n=!0)=>{const r=n&&e&&e.length>=10&&e.startsWith("0x")?e.slice(10):e;if(!t.inputs)throw new Le("No inputs found in the ABI");const i=xn([...t.inputs],r);return Object.assign(Object.assign({},i),{__method__:Ht(t)})},kT=(t,e)=>{if(t.type==="constructor")return e;if(!e)return null;const n=e.length>=2?e.slice(2):e;if(!t.outputs)return null;const r=xn([...t.outputs],n);return r.__length__===1?r[0]:r},ST=["bool","string","int","uint","address","fixed","ufixed"],RT=(t,e)=>t==="string"?e:fp(t,e),lp=(t,e,n)=>{const r=Array.isArray(n)?n:[n],i={},s={};for(const[h,l]of t.entries())l.indexed?i[h]=l:s[h]=l;const o=e?dp(Object.values(s),e,!0):{__length__:0},a=r.length-Object.keys(i).length,d=Object.values(i).map((h,l)=>ST.some(b=>h.type.startsWith(b))?RT(h.type,r[l+a]):r[l+a]),u={__length__:0};let c=0,f=0;for(const[h,l]of t.entries())u[h]=l.type==="string"?"":void 0,i[h]&&(u[h]=d[c],c+=1),s[h]&&(u[h]=o[String(f)],f+=1),l.name&&(u[l.name]=u[h]),u.__length__+=1;return u},Is=(t,e)=>{if(e!=null&&e.data){let n,r,i;try{const s=e.data.slice(0,10),o=t.find(a=>Zv(a).startsWith(s));o!=null&&o.inputs?(n=o.name,r=Ht(o),i=xn([...o.inputs],e.data.substring(10))):e.data.startsWith("0x08c379a0")?(n="Error",r="Error(string)",i=xn([{name:"message",type:"string"}],e.data.substring(10))):e.data.startsWith("0x4e487b71")?(n="Panic",r="Panic(uint256)",i=xn([{name:"code",type:"uint256"}],e.data.substring(10))):console.error("No matching error abi found for error data",e.data)}catch(s){console.error(s)}n&&e.setDecodedProperties(n,r,i)}};var CT=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function d(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,d)}u((r=r.apply(t,e||[])).next())})};const PT=(t,e)=>{var n,r,i,s,o;if(t instanceof wn&&t.cause instanceof ko){if(e!==void 0){const a=e.filter(d=>zo(d));return Is(a,t.cause),{reason:t.cause.message,signature:(n=t.cause.data)===null||n===void 0?void 0:n.slice(0,10),data:(r=t.cause.data)===null||r===void 0?void 0:r.substring(10),customErrorName:t.cause.errorName,customErrorDecodedSignature:t.cause.errorSignature,customErrorArguments:t.cause.errorArgs}}return{reason:t.cause.message,signature:(i=t.cause.data)===null||i===void 0?void 0:i.slice(0,10),data:(s=t.cause.data)===null||s===void 0?void 0:s.substring(10)}}if(t instanceof qi&&!Array.isArray((o=t.cause)===null||o===void 0?void 0:o.errors)&&t.cause!==void 0)return t.cause.message;throw t};function hp(t,e,n){return CT(this,arguments,void 0,function*(r,i,s,o=r.defaultReturnFormat){try{yield Pu(r,i,r.defaultBlock,o);return}catch(a){return PT(a,s)}})}var OT=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function d(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,d)}u((r=r.apply(t,e||[])).next())})};function La(t,e,n,r,i,s){return OT(this,void 0,void 0,function*(){let o=s;o===void 0&&t.handleRevert&&e!==void 0&&(o=yield hp(t,e,i));let a;if(o===void 0)a=new Sl(n);else if(typeof o=="string")a=new $s(o,void 0,n);else if(o.customErrorName!==void 0&&o.customErrorDecodedSignature!==void 0&&o.customErrorArguments!==void 0){const d=o;a=new kl(d.reason,d.customErrorName,d.customErrorDecodedSignature,d.customErrorArguments,d.signature,n,d.data)}else a=new $s(o.reason,o.signature,n,o.data);return a})}const Su=(t,e,n,r=Te)=>{var i,s,o,a,d,u;let c=Object.assign({},t);const f=S(kr,e,r);if([gr,"allEvents"].includes(c.name)){const l=n.find(b=>b.signature===e.topics[0]);l?c=l:c={anonymous:!0}}if(c.inputs=(s=(i=c.inputs)!==null&&i!==void 0?i:t.inputs)!==null&&s!==void 0?s:[],!c.anonymous){let l=0;((o=c.inputs)!==null&&o!==void 0?o:[]).forEach(b=>{b.indexed&&(l+=1)}),l>0&&(e!=null&&e.topics)&&(e==null?void 0:e.topics.length)!==l+1&&(c=Object.assign(Object.assign({},c),{anonymous:!0,inputs:[]}))}const h=c.anonymous?e.topics:((a=e.topics)!==null&&a!==void 0?a:[]).slice(1);return Object.assign(Object.assign({},f),{returnValues:lp([...(d=c.inputs)!==null&&d!==void 0?d:[]],e.data,h),event:c.name,signature:!c.anonymous&&((u=e.topics)===null||u===void 0?void 0:u.length)>0&&e.topics[0]?e.topics[0]:void 0,raw:{data:e.data,topics:e.topics}})};var un=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function d(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,d)}u((r=r.apply(t,e||[])).next())})};class pp{constructor({options:e,web3Context:n,promiEvent:r,returnFormat:i}){this.options={checkRevertBeforeSending:!0},this.options=e,this.web3Context=n,this.promiEvent=r,this.returnFormat=i}getReceiptWithEvents(e){var n,r;const i=Object.assign({},e??{});if(!((n=this.options)===null||n===void 0)&&n.contractAbi&&i.logs&&i.logs.length>0){i.events={};for(const s of i.logs){const o=Su(lc,s,(r=this.options)===null||r===void 0?void 0:r.contractAbi,this.returnFormat);o.event&&(i.events[o.event]=o)}}return i}checkRevertBeforeSending(e){return un(this,void 0,void 0,function*(){if(this.options.checkRevertBeforeSending!==!1){let n=e;A(e.data)&&A(e.input)&&A(e.gas)&&(n=Object.assign(Object.assign({},e),{gas:21e3}));const r=yield hp(this.web3Context,n,this.options.contractAbi);if(r!==void 0)throw yield La(this.web3Context,e,void 0,void 0,this.options.contractAbi,r)}})}emitSending(e){this.promiEvent.listenerCount("sending")>0&&this.promiEvent.emit("sending",e)}populateGasPrice(e){return un(this,arguments,void 0,function*({transactionFormatted:n,transaction:r}){var i;let s=n;return!this.web3Context.config.ignoreGasPricing&&!(!((i=this.options)===null||i===void 0)&&i.ignoreGasPricing)&&A(n.gasPrice)&&(A(r.maxPriorityFeePerGas)||A(r.maxFeePerGas))&&(s=Object.assign(Object.assign({},n),yield S0(n,this.web3Context,W))),s})}signAndSend(e){return un(this,arguments,void 0,function*({wallet:n,tx:r}){if(n){const i=yield n.signTransaction(r);return mc(this.web3Context,()=>un(this,void 0,void 0,function*(){return A0(this.web3Context.requestManager,i.rawTransaction)}),i.transactionHash)}return mc(this.web3Context,()=>un(this,void 0,void 0,function*(){return KE(this.web3Context.requestManager,r)}))})}emitSent(e){this.promiEvent.listenerCount("sent")>0&&this.promiEvent.emit("sent",e)}emitTransactionHash(e){this.promiEvent.listenerCount("transactionHash")>0&&this.promiEvent.emit("transactionHash",e)}emitReceipt(e){this.promiEvent.listenerCount("receipt")>0&&this.promiEvent.emit("receipt",e)}handleError(e){return un(this,arguments,void 0,function*({error:n,tx:r}){var i;let s=n;return s instanceof wn&&this.web3Context.handleRevert&&(s=yield La(this.web3Context,r,void 0,void 0,(i=this.options)===null||i===void 0?void 0:i.contractAbi)),(s instanceof qi||s instanceof wn||s instanceof kl||s instanceof Sl||s instanceof $s||s instanceof Ol)&&this.promiEvent.listenerCount("error")>0&&this.promiEvent.emit("error",s),s})}emitConfirmation({receipt:e,transactionHash:n,customTransactionReceiptSchema:r}){this.promiEvent.listenerCount("confirmation")>0&&dv(this.web3Context,this.promiEvent,e,n,this.returnFormat,r)}handleResolve(e){return un(this,arguments,void 0,function*({receipt:n,tx:r}){var i,s,o;if(!((i=this.options)===null||i===void 0)&&i.transactionResolver)return(s=this.options)===null||s===void 0?void 0:s.transactionResolver(n);if(n.status===BigInt(0)){const a=yield La(this.web3Context,r,n,void 0,(o=this.options)===null||o===void 0?void 0:o.contractAbi);throw this.promiEvent.listenerCount("error")>0&&this.promiEvent.emit("error",a),a}else return n})}}var ie=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function d(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,d)}u((r=r.apply(t,e||[])).next())})},NT=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const LT=t=>ie(void 0,void 0,void 0,function*(){return w0(t.requestManager)});function MT(t,e){return ie(this,void 0,void 0,function*(){const n=yield NE(t.requestManager);return S({format:"uint"},n,e??t.defaultReturnFormat)})}function Ru(t,e){return ie(this,void 0,void 0,function*(){const n=yield LE(t.requestManager);return S({format:"uint"},n,e??t.defaultReturnFormat)})}function $T(t,e){return ie(this,void 0,void 0,function*(){const n=yield ME(t.requestManager);return S({format:"uint"},n,e??t.defaultReturnFormat)})}function Cu(t,e){return ie(this,void 0,void 0,function*(){const n=yield HE(t.requestManager);return S({format:"uint"},n,e??t.defaultReturnFormat)})}function HT(t,e){return ie(this,arguments,void 0,function*(n,r,i=n.defaultBlock,s){const o=Be(i)?i:S({format:"uint"},i,W),a=yield DE(n.requestManager,r,o);return S({format:"uint"},a,s??n.defaultReturnFormat)})}function DT(t,e,n){return ie(this,arguments,void 0,function*(r,i,s,o=r.defaultBlock,a){const d=S({format:"uint"},s,W),u=Be(o)?o:S({format:"uint"},o,W),c=yield UE(r.requestManager,i,d,u);return S({format:"bytes"},c,a??r.defaultReturnFormat)})}function UT(t,e){return ie(this,arguments,void 0,function*(n,r,i=n.defaultBlock,s){const o=Be(i)?i:S({format:"uint"},i,W),a=yield VE(n.requestManager,r,o);return S({format:"bytes"},a,s??n.defaultReturnFormat)})}function mp(t){return ie(this,arguments,void 0,function*(e,n=e.defaultBlock,r=!1,i){var s;let o;if(on(n)){const d=S({format:"bytes32"},n,W);o=yield XE(e.requestManager,d,r)}else{const d=Be(n)?n:S({format:"uint"},n,W);o=yield _0(e.requestManager,d,r)}const a=S(io,o,i??e.defaultReturnFormat);return A(a)?a:Object.assign(Object.assign({},a),{transactions:(s=a.transactions)!==null&&s!==void 0?s:[]})})}function FT(t){return ie(this,arguments,void 0,function*(e,n=e.defaultBlock,r){let i;if(on(n)){const s=S({format:"bytes32"},n,W);i=yield jE(e.requestManager,s)}else{const s=Be(n)?n:S({format:"uint"},n,W);i=yield GE(e.requestManager,s)}return S({format:"uint"},i,r??e.defaultReturnFormat)})}function jT(t){return ie(this,arguments,void 0,function*(e,n=e.defaultBlock,r){let i;if(on(n)){const s=S({format:"bytes32"},n,W);i=yield qE(e.requestManager,s)}else{const s=Be(n)?n:S({format:"uint"},n,W);i=yield QE(e.requestManager,s)}return S({format:"uint"},i,r??e.defaultReturnFormat)})}function GT(t){return ie(this,arguments,void 0,function*(e,n=e.defaultBlock,r,i){const s=S({format:"uint"},r,W);let o;if(on(n)){const a=S({format:"bytes32"},n,W);o=yield r2(e.requestManager,a,s)}else{const a=Be(n)?n:S({format:"uint"},n,W);o=yield i2(e.requestManager,a,s)}return S(io,o,i??e.defaultReturnFormat)})}function qT(t,e){return ie(this,arguments,void 0,function*(n,r,i=n.defaultReturnFormat){const s=S({format:"bytes32"},r,Te),o=yield YE(n.requestManager,s);return A(o)?o:We(o,i,{transactionSchema:n.config.customTransactionSchema,fillInputAndData:!0})})}function QT(t,e){return ie(this,void 0,void 0,function*(){return(yield m2(t.requestManager)).map(r=>We(r,e??t.defaultReturnFormat,{transactionSchema:t.config.customTransactionSchema,fillInputAndData:!0}))})}function VT(t){return ie(this,arguments,void 0,function*(e,n=e.defaultBlock,r,i){const s=S({format:"uint"},r,W);let o;if(on(n)){const a=S({format:"bytes32"},n,W);o=yield e2(e.requestManager,a,s)}else{const a=Be(n)?n:S({format:"uint"},n,W);o=yield t2(e.requestManager,a,s)}return A(o)?o:We(o,i??e.defaultReturnFormat,{transactionSchema:e.config.customTransactionSchema,fillInputAndData:!0})})}function gp(t,e,n){return ie(this,void 0,void 0,function*(){const r=S({format:"bytes32"},e,Te);let i;try{i=yield n2(t.requestManager,r)}catch(s){if(typeof s=="object"&&!A(s)&&"message"in s&&s.message==="transaction indexing is in progress")console.warn("Transaction indexing is in progress.");else throw s}return A(i)?i:S(Sr,i,n??t.defaultReturnFormat)})}function yp(t,e){return ie(this,arguments,void 0,function*(n,r,i=n.defaultBlock,s){const o=Be(i)?i:S({format:"uint"},i,W),a=yield FE(n.requestManager,r,o);return S({format:"uint"},a,s??n.defaultReturnFormat)})}function Ci(t,e,n,r={checkRevertBeforeSending:!0},i){const s=new d0((o,a)=>{setImmediate(()=>{ie(this,void 0,void 0,function*(){const d=new pp({web3Context:t,promiEvent:s,options:r,returnFormat:n});let u=Object.assign({},e);A(i)||(u=yield i.processTransaction(u));let c=We(Object.assign(Object.assign({},u),{from:hc("from",t,u),to:hc("to",t,u)}),W,{transactionSchema:t.config.customTransactionSchema});try{c=yield d.populateGasPrice({transaction:u,transactionFormatted:c}),yield d.checkRevertBeforeSending(c),d.emitSending(c);let f;t.wallet&&!A(c.from)&&(f=t.wallet.get(c.from));const h=yield d.signAndSend({wallet:f,tx:c}),l=S({format:"bytes32"},h,n??t.defaultReturnFormat);d.emitSent(c),d.emitTransactionHash(l);const b=yield P0(t,h,n??t.defaultReturnFormat),m=d.getReceiptWithEvents(S(Sr,b,n??t.defaultReturnFormat));d.emitReceipt(m),o(yield d.handleResolve({receipt:m,tx:c})),d.emitConfirmation({receipt:m,transactionHash:h})}catch(f){a(yield d.handleError({error:f,tx:c}))}})})});return s}function zT(t,e,n,r={checkRevertBeforeSending:!0}){const i=new d0((s,o)=>{setImmediate(()=>{ie(this,void 0,void 0,function*(){const a=new pp({web3Context:t,promiEvent:i,options:r,returnFormat:n}),d=S({format:"bytes"},e,W),u=On.fromSerializedData(Nn(As(d))),c=Object.assign(Object.assign({},u.toJSON()),{from:u.getSenderAddress().toString()});try{const{v:f,r:h,s:l}=c,b=NT(c,["v","r","s"]);yield a.checkRevertBeforeSending(b),a.emitSending(d);const m=yield mc(t,()=>ie(this,void 0,void 0,function*(){return A0(t.requestManager,d)}));a.emitSent(d);const g=S({format:"bytes32"},m,n??t.defaultReturnFormat);a.emitTransactionHash(g);const p=yield P0(t,m,n??t.defaultReturnFormat),w=a.getReceiptWithEvents(S(Sr,p,n??t.defaultReturnFormat));a.emitReceipt(w),s(yield a.handleResolve({receipt:w,tx:c})),a.emitConfirmation({receipt:w,transactionHash:m})}catch(f){o(yield a.handleError({error:f,tx:c}))}})})});return i}function WT(t,e,n){return ie(this,arguments,void 0,function*(r,i,s,o=r.defaultReturnFormat){var a;const d=S({format:"bytes"},i,Te);if(!((a=r.wallet)===null||a===void 0)&&a.get(s)){const f=r.wallet.get(s).sign(d);return S(j2,f,o)}if(typeof s=="number")throw new zy(i,'RPC method "eth_sign" does not support index signatures');const u=yield zE(r.requestManager,s,d);return S({format:"bytes"},u,o)})}function KT(t,e){return ie(this,arguments,void 0,function*(n,r,i=n.defaultReturnFormat){const s=yield WE(n.requestManager,We(r,W,{transactionSchema:n.config.customTransactionSchema}));return jc(s)?V2(s,i,{fillInputAndData:!0}):{raw:S({format:"bytes"},s.raw,i),tx:We(s.tx,i,{transactionSchema:n.config.customTransactionSchema,fillInputAndData:!0})}})}function Pu(t,e){return ie(this,arguments,void 0,function*(n,r,i=n.defaultBlock,s=n.defaultReturnFormat){const o=Be(i)?i:S({format:"uint"},i,W),a=yield ZE(n.requestManager,We(r,W,{transactionSchema:n.config.customTransactionSchema}),o);return S({format:"bytes"},a,s)})}function Ou(t,e){return ie(this,arguments,void 0,function*(n,r,i=n.defaultBlock,s){const o=We(r,W,{transactionSchema:n.config.customTransactionSchema}),a=Be(i)?i:S({format:"uint"},i,W),d=yield JE(n.requestManager,o,a);return S({format:"uint"},d,s??n.defaultReturnFormat)})}function bp(t,e,n){return ie(this,void 0,void 0,function*(){let{toBlock:r,fromBlock:i}=e;A(r)||(typeof r=="number"||typeof r=="bigint")&&(r=Ze(r)),A(i)||(typeof i=="number"||typeof i=="bigint")&&(i=Ze(i));const s=Object.assign(Object.assign({},e),{fromBlock:i,toBlock:r});return(yield f2(t.requestManager,s)).map(d=>typeof d=="string"?d:S(kr,d,n??t.defaultReturnFormat))})}function wp(t,e){return ie(this,void 0,void 0,function*(){const n=yield y2(t.requestManager);return S({format:"uint"},n,e??t.defaultReturnFormat)})}function ZT(t,e,n){return ie(this,arguments,void 0,function*(r,i,s,o=r.defaultBlock,a){const d=s.map(f=>S({format:"bytes"},f,W)),u=Be(o)?o:S({format:"uint"},o,W),c=yield b2(r.requestManager,i,d,u);return S(Q2,c,a??r.defaultReturnFormat)})}function JT(t,e){return ie(this,arguments,void 0,function*(n,r,i=n.defaultBlock,s,o){const a=S({format:"uint"},r,W),d=Be(i)?i:S({format:"uint"},i,W),u=S({type:"array",items:{format:"uint"}},s,qo),c=yield p2(n.requestManager,a,d,u);return S(G2,c,o??n.defaultReturnFormat)})}function Ap(t,e){return ie(this,arguments,void 0,function*(n,r,i=n.defaultBlock,s){const o=Be(i)?i:S({format:"uint"},i,W),a=yield A2(n.requestManager,We(r,W,{transactionSchema:n.config.customTransactionSchema}),o);return S(H2,a,s??n.defaultReturnFormat)})}function XT(t,e,n,r,i){return ie(this,void 0,void 0,function*(){const s=yield _2(t.requestManager,e,n,r);return S({format:"bytes"},s,i??t.defaultReturnFormat)})}var Rr=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function d(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,d)}u((r=r.apply(t,e||[])).next())})};function YT(t,e){return Rr(this,void 0,void 0,function*(){const n=yield a2(t.requestManager);return S({format:"uint"},n,e??t.defaultReturnFormat)})}function eB(t,e,n){return Rr(this,void 0,void 0,function*(){let{toBlock:r,fromBlock:i}=e;A(r)||(typeof r=="number"||typeof r=="bigint")&&(r=Ze(r)),A(i)||(typeof i=="number"||typeof i=="bigint")&&(i=Ze(i));const s=Object.assign(Object.assign({},e),{fromBlock:i,toBlock:r}),o=yield s2(t.requestManager,s);return S({format:"uint"},o,n??t.defaultReturnFormat)})}function tB(t,e){return Rr(this,void 0,void 0,function*(){const n=yield o2(t.requestManager);return S({format:"uint"},n,e??t.defaultReturnFormat)})}function nB(t,e){return Rr(this,void 0,void 0,function*(){return yield c2(t.requestManager,Ze(e))})}function rB(t,e,n){return Rr(this,void 0,void 0,function*(){return(yield u2(t.requestManager,Ze(e))).map(s=>typeof s=="string"?s:S(kr,s,n??t.defaultReturnFormat))})}function iB(t,e,n){return Rr(this,void 0,void 0,function*(){return(yield d2(t.requestManager,Ze(e))).map(s=>typeof s=="string"?s:S(kr,s,n??t.defaultReturnFormat))})}class _p extends Vi{_buildSubscriptionParams(){return["logs",this.args]}formatSubscriptionResult(e){return S(kr,e,super.returnFormat)}}class Rf extends Vi{_buildSubscriptionParams(){return["newPendingTransactions"]}formatSubscriptionResult(e){return S({format:"string"},e,super.returnFormat)}}class fo extends Vi{_buildSubscriptionParams(){return["newHeads"]}formatSubscriptionResult(e){return S(U2,e,super.returnFormat)}}class Ip extends Vi{_buildSubscriptionParams(){return["syncing"]}_processSubscriptionResult(e){if(typeof e=="boolean")this.emit("changed",e);else{const n=Object.fromEntries(Object.entries((e==null?void 0:e.status)||e).map(([r,i])=>[r.charAt(0).toLowerCase()+r.substring(1),i]));this.emit("changed",e.syncing),this.emit("data",S(F2,n,super.returnFormat))}}}var K=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function d(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,d)}u((r=r.apply(t,e||[])).next())})};const Ic={logs:_p,newPendingTransactions:Rf,newHeads:fo,syncing:Ip,pendingTransactions:Rf,newBlockHeaders:fo};class Zo extends Qe{constructor(e){if(typeof e=="string"||zs(e)){super({provider:e,registeredSubscriptions:Ic});return}if(e.registeredSubscriptions){super(e);return}super(Object.assign(Object.assign({},e),{registeredSubscriptions:Ic})),this.getFeeData=this.calculateFeeData}setTransactionMiddleware(e){this.transactionMiddleware=e}getTransactionMiddleware(){return this.transactionMiddleware}getProtocolVersion(){return K(this,void 0,void 0,function*(){return CE(this.requestManager)})}isSyncing(){return K(this,void 0,void 0,function*(){return w0(this.requestManager)})}getCoinbase(){return K(this,void 0,void 0,function*(){return PE(this.requestManager)})}isMining(){return K(this,void 0,void 0,function*(){return OE(this.requestManager)})}getHashrate(e){return K(this,void 0,void 0,function*(){var n;return e===void 0&&(e=(n=this.defaultReturnFormat)!==null&&n!==void 0?n:Te),this.getHashRate(e)})}getHashRate(){return K(this,arguments,void 0,function*(e=this.defaultReturnFormat){return MT(this,e)})}getGasPrice(){return K(this,arguments,void 0,function*(e=this.defaultReturnFormat){return Ru(this,e)})}getMaxPriorityFeePerGas(){return K(this,arguments,void 0,function*(e=this.defaultReturnFormat){return $T(this,e)})}calculateFeeData(){return K(this,arguments,void 0,function*(e=BigInt(2),n=yE.Gwei){var r;const i=yield this.getBlock(void 0,!1),s=(r=i==null?void 0:i.baseFeePerGas)!==null&&r!==void 0?r:void 0;let o;try{o=yield this.getGasPrice()}catch{}let a;try{a=yield this.getMaxPriorityFeePerGas()}catch{}let d;if(s){a=a??n;let u;typeof e=="number"?u=BigInt(Math.floor(e*1e3))/BigInt(1e3):u=e,d=s*u+a}return{gasPrice:o,maxFeePerGas:d,maxPriorityFeePerGas:a,baseFeePerGas:s}})}getAccounts(){return K(this,void 0,void 0,function*(){var e;return((e=yield $E(this.requestManager))!==null&&e!==void 0?e:[]).map(r=>IE(r))})}getBlockNumber(){return K(this,arguments,void 0,function*(e=this.defaultReturnFormat){return Cu(this,e)})}getBalance(e){return K(this,arguments,void 0,function*(n,r=this.defaultBlock,i=this.defaultReturnFormat){return HT(this,n,r,i)})}getStorageAt(e,n){return K(this,arguments,void 0,function*(r,i,s=this.defaultBlock,o=this.defaultReturnFormat){return DT(this,r,i,s,o)})}getCode(e){return K(this,arguments,void 0,function*(n,r=this.defaultBlock,i=this.defaultReturnFormat){return UT(this,n,r,i)})}getBlock(){return K(this,arguments,void 0,function*(e=this.defaultBlock,n=!1,r=this.defaultReturnFormat){return mp(this,e,n,r)})}getBlockTransactionCount(){return K(this,arguments,void 0,function*(e=this.defaultBlock,n=this.defaultReturnFormat){return FT(this,e,n)})}getBlockUncleCount(){return K(this,arguments,void 0,function*(e=this.defaultBlock,n=this.defaultReturnFormat){return jT(this,e,n)})}getUncle(){return K(this,arguments,void 0,function*(e=this.defaultBlock,n,r=this.defaultReturnFormat){return GT(this,e,n,r)})}getTransaction(e){return K(this,arguments,void 0,function*(n,r=this.defaultReturnFormat){const i=yield qT(this,n,r);if(!i)throw new td;return i})}getPendingTransactions(){return K(this,arguments,void 0,function*(e=this.defaultReturnFormat){return QT(this,e)})}getTransactionFromBlock(){return K(this,arguments,void 0,function*(e=this.defaultBlock,n,r=this.defaultReturnFormat){return VT(this,e,n,r)})}getTransactionReceipt(e){return K(this,arguments,void 0,function*(n,r=this.defaultReturnFormat){const i=yield gp(this,n,r);if(!i)throw new td;return i})}getTransactionCount(e){return K(this,arguments,void 0,function*(n,r=this.defaultBlock,i=this.defaultReturnFormat){return yp(this,n,r,i)})}sendTransaction(e,n=this.defaultReturnFormat,r){return Ci(this,e,n,r,this.transactionMiddleware)}sendSignedTransaction(e,n=this.defaultReturnFormat,r){return zT(this,e,n,r)}sign(e,n){return K(this,arguments,void 0,function*(r,i,s=this.defaultReturnFormat){return WT(this,r,i,s)})}signTransaction(e){return K(this,arguments,void 0,function*(n,r=this.defaultReturnFormat){return KT(this,n,r)})}call(e){return K(this,arguments,void 0,function*(n,r=this.defaultBlock,i=this.defaultReturnFormat){return Pu(this,n,r,i)})}estimateGas(e){return K(this,arguments,void 0,function*(n,r=this.defaultBlock,i=this.defaultReturnFormat){return Ou(this,n,r,i)})}getPastLogs(e){return K(this,arguments,void 0,function*(n,r=this.defaultReturnFormat){return bp(this,n,r)})}getWork(){return K(this,void 0,void 0,function*(){return l2(this.requestManager)})}submitWork(e,n,r){return K(this,void 0,void 0,function*(){return h2(this.requestManager,e,n,r)})}requestAccounts(){return K(this,void 0,void 0,function*(){return g2(this.requestManager)})}getChainId(){return K(this,arguments,void 0,function*(e=this.defaultReturnFormat){return wp(this,e)})}getNodeInfo(){return K(this,void 0,void 0,function*(){return w2(this.requestManager)})}getProof(e,n){return K(this,arguments,void 0,function*(r,i,s=this.defaultBlock,o=this.defaultReturnFormat){return ZT(this,r,i,s,o)})}getFeeHistory(e){return K(this,arguments,void 0,function*(n,r=this.defaultBlock,i,s=this.defaultReturnFormat){return JT(this,n,r,i,s)})}createAccessList(e){return K(this,arguments,void 0,function*(n,r=this.defaultBlock,i=this.defaultReturnFormat){return Ap(this,n,r,i)})}signTypedData(e,n,r,i){return K(this,void 0,void 0,function*(){var s;return r===void 0&&(r=!1),i===void 0&&(i=(s=this.defaultReturnFormat)!==null&&s!==void 0?s:Te),XT(this,e,n,r,i)})}subscribe(e,n,r){return K(this,void 0,void 0,function*(){var i,s;r===void 0&&(r=(i=this.defaultReturnFormat)!==null&&i!==void 0?i:Te);const o=yield(s=this.subscriptionManager)===null||s===void 0?void 0:s.subscribe(e,n,r);return o instanceof _p&&e==="logs"&&typeof n=="object"&&!xE(n.fromBlock)&&Number.isFinite(Number(n.fromBlock))&&setImmediate(()=>{this.getPastLogs(n).then(a=>{for(const d of a)o._processSubscriptionResult(d)}).catch(a=>{o._processSubscriptionError(a)})}),o})}static shouldClearSubscription({sub:e}){return!(e instanceof Ip)}clearSubscriptions(e=!1){var n;return(n=this.subscriptionManager)===null||n===void 0?void 0:n.unsubscribe(e?Zo.shouldClearSubscription:void 0)}createNewPendingTransactionFilter(){return K(this,arguments,void 0,function*(e=this.defaultReturnFormat){return YT(this,e)})}createNewFilter(e){return K(this,arguments,void 0,function*(n,r=this.defaultReturnFormat){return eB(this,n,r)})}createNewBlockFilter(){return K(this,arguments,void 0,function*(e=this.defaultReturnFormat){return tB(this,e)})}uninstallFilter(e){return K(this,void 0,void 0,function*(){return nB(this,e)})}getFilterChanges(e){return K(this,arguments,void 0,function*(n,r=this.defaultReturnFormat){return rB(this,n,r)})}getFilterLogs(e){return K(this,arguments,void 0,function*(n,r=this.defaultReturnFormat){return iB(this,n,r)})}}const sB=t=>{if(!A(t.common)){if(A(t.common.customChain))throw new Jy;if(A(t.common.customChain.chainId))throw new Xy;if(!A(t.chainId)&&t.chainId!==t.common.customChain.chainId)throw new Yy({txChainId:t.chainId,customChainId:t.common.customChain.chainId})}},oB=t=>{if(!A(t.common)&&!A(t.chain)&&!A(t.hardfork))throw new nb;if(!A(t.chain)&&A(t.hardfork)||!A(t.hardfork)&&A(t.chain))throw new rb({chain:t.chain,hardfork:t.hardfork})},aB=t=>{if(!A(t.common)&&!A(t.common.baseChain)&&!A(t.chain)&&t.chain!==t.common.baseChain)throw new eb({txChain:t.chain,baseChain:t.common.baseChain})},cB=t=>{if(!A(t.common)&&!A(t.common.hardfork)&&!A(t.hardfork)&&t.hardfork!==t.common.hardfork)throw new tb({txHardfork:t.hardfork,commonHardfork:t.common.hardfork})},Cf=t=>{if(A(t.gas)||!He(t.gas)||A(t.gasPrice)||!He(t.gasPrice))throw new cb({gas:t.gas,gasPrice:t.gasPrice});if(!A(t.maxFeePerGas)||!A(t.maxPriorityFeePerGas))throw new Rl({maxFeePerGas:t.maxFeePerGas,maxPriorityFeePerGas:t.maxPriorityFeePerGas})},Pf=t=>{if(!A(t.gasPrice)&&t.type==="0x2")throw new db(t.gasPrice);if(t.type==="0x0"||t.type==="0x1")throw new Rl({maxFeePerGas:t.maxFeePerGas,maxPriorityFeePerGas:t.maxPriorityFeePerGas});if(A(t.maxFeePerGas)||!He(t.maxFeePerGas)||A(t.maxPriorityFeePerGas)||!He(t.maxPriorityFeePerGas))throw new ub({maxPriorityFeePerGas:t.maxPriorityFeePerGas,maxFeePerGas:t.maxFeePerGas})},uB=t=>{const e=!A(t.gas)||!A(t.gasLimit),n=e&&!A(t.gasPrice),r=e&&!A(t.maxPriorityFeePerGas)&&!A(t.maxFeePerGas);if(!n&&!r)throw new sb({gas:t.gas,gasPrice:t.gasPrice,maxPriorityFeePerGas:t.maxPriorityFeePerGas,maxFeePerGas:t.maxFeePerGas});if(n&&r)throw new ab({gas:t.gas,gasPrice:t.gasPrice,maxPriorityFeePerGas:t.maxPriorityFeePerGas,maxFeePerGas:t.maxFeePerGas});(n?Cf:Pf)(t),(!A(t.type)&&t.type>"0x1"?Pf:Cf)(t)},dB=(t,e,n={transactionSchema:void 0})=>{if(!A(e)){e(t);return}if(typeof t!="object"||A(t))throw new fb(t);sB(t),oB(t),aB(t),cB(t);const r=We(t,W,{transactionSchema:n.transactionSchema});if(uB(r),A(r.nonce)||A(r.chainId)||r.nonce.startsWith("-")||r.chainId.startsWith("-"))throw new lb({nonce:t.nonce,chainId:t.chainId})};var fB=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function d(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,d)}u((r=r.apply(t,e||[])).next())})};const lB=t=>{var e,n;return Object.assign(Object.assign({},t),{nonce:t.nonce,gasPrice:t.gasPrice,gasLimit:(e=t.gasLimit)!==null&&e!==void 0?e:t.gas,to:t.to,value:t.value,data:(n=t.data)!==null&&n!==void 0?n:t.input,type:t.type,chainId:t.chainId,accessList:t.accessList,maxPriorityFeePerGas:t.maxPriorityFeePerGas,maxFeePerGas:t.maxFeePerGas})},hB=(t,e)=>{var n,r,i,s,o,a,d,u,c,f,h,l,b,m,g,p,w,_;const v=!A(t.chain)&&!A(t.hardfork)||!A(t.common);let E;if(!v)e.defaultCommon?(E=Object.assign({},e.defaultCommon),A(E.hardfork)&&(E.hardfork=(n=t.hardfork)!==null&&n!==void 0?n:e.defaultHardfork),A(E.baseChain)&&(E.baseChain=e.defaultChain)):E=Ie.custom({name:"custom-network",chainId:Kr(t.chainId),networkId:A(t.networkId)?void 0:Kr(t.networkId),defaultHardfork:(r=t.hardfork)!==null&&r!==void 0?r:e.defaultHardfork},{baseChain:e.defaultChain});else{const k=(a=(o=(s=(i=t==null?void 0:t.common)===null||i===void 0?void 0:i.customChain)===null||s===void 0?void 0:s.name)!==null&&o!==void 0?o:t.chain)!==null&&a!==void 0?a:"custom-network",P=Kr((c=(u=(d=t==null?void 0:t.common)===null||d===void 0?void 0:d.customChain)===null||u===void 0?void 0:u.chainId)!==null&&c!==void 0?c:t==null?void 0:t.chainId),x=Kr((l=(h=(f=t==null?void 0:t.common)===null||f===void 0?void 0:f.customChain)===null||h===void 0?void 0:h.networkId)!==null&&l!==void 0?l:t==null?void 0:t.networkId),j=(g=(m=(b=t==null?void 0:t.common)===null||b===void 0?void 0:b.hardfork)!==null&&m!==void 0?m:t==null?void 0:t.hardfork)!==null&&g!==void 0?g:e.defaultHardfork,B=(_=(w=(p=t.common)===null||p===void 0?void 0:p.baseChain)!==null&&w!==void 0?w:t.chain)!==null&&_!==void 0?_:e.defaultChain;P&&x&&k&&(E=Ie.custom({name:k,chainId:P,networkId:x,defaultHardfork:j},{baseChain:B}))}return{common:E}},pB=(t,e,n,...r)=>fB(void 0,[t,e,n,...r],void 0,function*(i,s,o,a=!1,d=!0){const u=yield sv({transaction:i,web3Context:s,privateKey:o,fillGasPrice:a,fillGasLimit:d}),c=We(u,W,{transactionSchema:s.config.customTransactionSchema});return dB(c,void 0,{transactionSchema:s.config.customTransactionSchema}),On.fromTxData(lB(c),hB(c,s))});function Pi(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function mB(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function gB(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function Jo(t,...e){if(!gB(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function yB(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Pi(t.outputLen),Pi(t.blockLen)}function xc(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function xp(t,e){Jo(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const bB={number:Pi,bool:mB,bytes:Jo,hash:yB,exists:xc,output:xp},ds=BigInt(2**32-1),Of=BigInt(32);function wB(t,e=!1){return e?{h:Number(t&ds),l:Number(t>>Of&ds)}:{h:Number(t>>Of&ds)|0,l:Number(t&ds)|0}}function AB(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=wB(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const _B=(t,e,n)=>t<<n|e>>>32-n,IB=(t,e,n)=>e<<n|t>>>32-n,xB=(t,e,n)=>e<<n-32|t>>>64-n,EB=(t,e,n)=>t<<n-32|e>>>64-n;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const vB=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),Nf=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,TB=t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255;function Lf(t){for(let e=0;e<t.length;e++)t[e]=TB(t[e])}function lo(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Ep(t){return typeof t=="string"&&(t=lo(t)),Jo(t),t}let BB=class{clone(){return this._cloneInto()}};function kB(t){const e=r=>t().update(Ep(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}const vp=[],Tp=[],Bp=[],SB=BigInt(0),Fr=BigInt(1),RB=BigInt(2),CB=BigInt(7),PB=BigInt(256),OB=BigInt(113);for(let t=0,e=Fr,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],vp.push(2*(5*r+n)),Tp.push((t+1)*(t+2)/2%64);let i=SB;for(let s=0;s<7;s++)e=(e<<Fr^(e>>CB)*OB)%PB,e&RB&&(i^=Fr<<(Fr<<BigInt(s))-Fr);Bp.push(i)}const[NB,LB]=AB(Bp,!0),Mf=(t,e,n)=>n>32?xB(t,e,n):_B(t,e,n),$f=(t,e,n)=>n>32?EB(t,e,n):IB(t,e,n);function MB(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,d=(o+2)%10,u=n[d],c=n[d+1],f=Mf(u,c,1)^n[a],h=$f(u,c,1)^n[a+1];for(let l=0;l<50;l+=10)t[o+l]^=f,t[o+l+1]^=h}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=Tp[o],d=Mf(i,s,a),u=$f(i,s,a),c=vp[o];i=t[c],s=t[c+1],t[c]=d,t[c+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=NB[r],t[1]^=LB[r]}n.fill(0)}let $B=class kp extends BB{constructor(e,n,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Pi(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=vB(this.state)}keccak(){Nf||Lf(this.state32),MB(this.state32,this.rounds),Nf||Lf(this.state32),this.posOut=0,this.pos=0}update(e){xc(this);const{blockLen:n,state:r}=this;e=Ep(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){xc(this,!1),Jo(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Pi(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(xp(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new kp(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const HB=(t,e,n)=>kB(()=>new $B(e,t,n)),Hf=HB(1,136,256/8);function DB(t){return e=>(bB.bytes(e),t(e))}(()=>{const t=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,e=typeof module<"u"&&typeof module.require=="function"&&module.require.bind(module);return{node:e&&!t?e("crypto"):void 0,web:t}})();const Sp=(()=>{const t=DB(Hf);return t.create=Hf.create,t})();function Rp(t){var e,n;return t instanceof Uint8Array||((e=t==null?void 0:t.constructor)===null||e===void 0?void 0:e.name)==="Uint8Array"||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="Buffer"}function UB(...t){const e=t.reduce((i,s)=>i+s.length,0),n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}BigInt(0),BigInt(1),BigInt(1e3),BigInt(1e3),BigInt(1e3),BigInt(1e3),BigInt(1e6),BigInt(1e6),BigInt(1e6),BigInt(1e6),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e12),BigInt(1e12),BigInt(1e12),BigInt(1e15),BigInt(1e15),BigInt(1e15),BigInt("1000000000000000000"),BigInt("1000000000000000000000"),BigInt("1000000000000000000000"),BigInt("1000000000000000000000000"),BigInt("1000000000000000000000000000"),BigInt("1000000000000000000000000000000");const ho=t=>{if(C.validate(["bytes"],[t]),Rp(t))return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="string")return ke(t);throw new Pe(t)},{uint8ArrayToHexString:FB}=Fe,Cp=t=>FB(ho(t)),jB=(t,e)=>{typeof t!="bigint"&&C.validate(["int"],[t]);let n=Tt(t);return e&&(!n.startsWith("-")&&n.length%2===1?n="0x0".concat(n.slice(2)):n.length%2===0&&n.startsWith("-")&&(n="-0x0".concat(n.slice(3)))),n},GB=lo,fs=t=>{if(typeof t=="number")return BigInt(t);if(typeof t=="bigint")return t;if(typeof t=="string"&&Ve(t))return t.startsWith("-")?-BigInt(t.substring(1)):BigInt(t);throw new Gt(t)},qB=t=>{if(!be(t,!1))throw new qt(t);const e=t.toLowerCase().replace(/^0x/i,""),n=De(Sp(Ue(GB(e))));if(A(n)||n==="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470")return"";let r="0x";const i=n.replace(/^0x/i,"");for(let s=0;s<e.length;s+=1)parseInt(i[s],16)>7?r+=e[s].toUpperCase():r+=e[s];return r},Ec=t=>typeof t=="object"&&!A(t)&&Object.keys(t).length!==0&&["input","data","from","gas","gasPrice","gasLimit","address","jsonInterface","syncWithContext","dataInputFill"].some(e=>e in t),gn=A,Df=t=>typeof t=="object"&&!A(t)&&!Array.isArray(t)&&!(t instanceof jt),Cr=(t,...e)=>{if(!Df(t))return t;const n=Object.assign({},t);for(const r of e)for(const i in r)Df(r[i])?(n[i]||(n[i]={}),n[i]=Cr(n[i],r[i])):!A(r[i])&&Object.hasOwnProperty.call(r,i)&&(Array.isArray(r[i])||r[i]instanceof jt?n[i]=r[i].slice(0):n[i]=r[i]);return n},QB=(t,e,n="0")=>typeof t=="string"?G(t)?ze(t,e,n):t.padStart(e,n):(C.validate(["int"],[t]),ze(t,e,n)),{parseBaseType:VB}=Fe,Vn=t=>typeof t=="object"&&!A(t)&&"number"in t&&"bytes"in t,zB=(t,e,n=[])=>{let r=Object.assign({},t),i;for(const s of e){if(r.oneOf&&i){const o=i,a=n.find(([d])=>d===o);a&&a[0]===i&&(r=r.oneOf[a[1]])}if(!r.properties&&!r.items)return;r.properties?r=r.properties[s]:r.items&&r.items.properties?r=r.items.properties[s]:r.items&&pe(r.items)?r=r.items:r.items&&Array.isArray(r.items)&&(r=r.items[parseInt(s,10)]),r&&s&&(i=s)}return r},po=(t,e,n)=>{try{const{baseType:r,baseTypeSize:i}=VB(e);if(r==="int"||r==="uint")switch(n.number){case he.NUMBER:return Number(fs(t));case he.HEX:return jB(fs(t));case he.STR:return fs(t).toString();case he.BIGINT:return fs(t);default:throw new it(`Invalid format: ${String(n.number)}`)}if(r==="bytes"){let s;switch(i?typeof t=="string"?s=QB(t,i*2):Rp(t)&&(s=UB(new Uint8Array(i-t.length),t)):s=t,n.bytes){case Me.HEX:return Cp(ho(s));case Me.UINT8ARRAY:return ho(s);default:throw new it(`Invalid format: ${String(n.bytes)}`)}}if(r==="string")return String(t)}catch{return t}return t},Uf=({value:t,schemaProp:e,schema:n,object:r,key:i,dataPath:s,format:o,oneOfPath:a=[]})=>{var d,u;if(Array.isArray(t)){let c=e;if((e==null?void 0:e.oneOf)!==void 0&&e.oneOf.forEach((f,h)=>{var l,b;!Array.isArray(e==null?void 0:e.items)&&(typeof t[0]=="object"&&((l=f==null?void 0:f.items)===null||l===void 0?void 0:l.type)==="object"||typeof t[0]=="string"&&((b=f==null?void 0:f.items)===null||b===void 0?void 0:b.type)!=="object")&&(c=f,a.push([i,h]))}),A(c==null?void 0:c.items))return delete r[i],s.pop(),!0;if(pe(c.items)&&!A(c.items.format)){for(let f=0;f<t.length;f+=1)r[i][f]=po(t[f],(d=c==null?void 0:c.items)===null||d===void 0?void 0:d.format,o);return s.pop(),!0}if(!Array.isArray(c==null?void 0:c.items)&&((u=c==null?void 0:c.items)===null||u===void 0?void 0:u.type)==="object"){for(const f of t)Nu(f,n,s,o,a);return s.pop(),!0}if(Array.isArray(c==null?void 0:c.items)){for(let f=0;f<t.length;f+=1)r[i][f]=po(t[f],c.items[f].format,o);return s.pop(),!0}}return!1},Nu=(t,e,n,r,i=[])=>{var s;if(!pe(t)&&!Array.isArray(t))return po(t,e==null?void 0:e.format,r);const o=t;if(Array.isArray(o)&&(e==null?void 0:e.type)==="array"&&((s=e==null?void 0:e.items)===null||s===void 0?void 0:s.type)==="object")Uf({value:o,schemaProp:e,schema:e,object:o,key:"",dataPath:n,format:r,oneOfPath:i});else for(const[a,d]of Object.entries(o)){n.push(a);let u=zB(e,n,i);if(A(u)){delete o[a],n.pop();continue}if(pe(d)){Nu(d,e,n,r,i),n.pop();continue}if(!Uf({value:d,schemaProp:u,schema:e,object:o,key:a,dataPath:n,format:r,oneOfPath:i})){if((u==null?void 0:u.format)===void 0&&(u==null?void 0:u.oneOf)!==void 0){for(const[c,f]of u.oneOf.entries())if((f==null?void 0:f.format)!==void 0){u=f;break}}o[a]=po(d,u.format,r),n.pop()}}return o},ir=(t,e,n=Te)=>{let r;pe(e)?r=Cr({},e):Array.isArray(e)?r=[...e]:r=e;const i=pe(t)?t:Ir(t);if(!i.properties&&!i.items&&!i.format)throw new it("Invalid json schema for formatting");return Nu(r,i,[],n)},Pp=t=>{let e;return typeof t=="bigint"||typeof t=="number"?e=lo(t.toString()):Array.isArray(t)?e=new Uint8Array(t):typeof t=="string"&&!G(t)?e=lo(t):e=ho(t),Cp(Sp(Ue(e)))},Ff=({address:t},e,n)=>{var r,i;const s=n==null?void 0:n.topics,o=(r=n==null?void 0:n.filter)!==null&&r!==void 0?r:{},a={};if(gn(n==null?void 0:n.fromBlock)||(a.fromBlock=ir(io.properties.number,n==null?void 0:n.fromBlock,{number:he.HEX,bytes:Me.HEX})),gn(n==null?void 0:n.toBlock)||(a.toBlock=ir(io.properties.number,n==null?void 0:n.toBlock,{number:he.HEX,bytes:Me.HEX})),s&&Array.isArray(s))a.topics=[...s];else if(a.topics=[],e&&!e.anonymous&&![gr,"allEvents"].includes(e.name)&&a.topics.push((i=e.signature)!==null&&i!==void 0?i:vu(Ht(e))),![gr,"allEvents"].includes(e.name)&&e.inputs)for(const d of e.inputs){if(!d.indexed)continue;const u=o[d.name];if(!u){a.topics.push(null);continue}Array.isArray(u)?a.topics.push(u.map(c=>Ac(d.type,c))):d.type==="string"?a.topics.push(Pp(u)):a.topics.push(Ac(d.type,u))}return a.topics.length||delete a.topics,t&&(a.address=t.toLowerCase()),a},ri=(t,e,n)=>{const r=Array.isArray(t.inputs)?t.inputs.length:0;if(t.inputs&&r!==e.length)throw new Le(`The number of arguments is not matching the methods required number. You need to pass ${r} arguments.`);let i;if(t.inputs?i=Ko(Array.isArray(t.inputs)?t.inputs:[],e).replace("0x",""):i=TT(e).replace("0x",""),Wv(t)){if(!n)throw new Le("The contract has no contract data option set. This is necessary to append the constructor parameters.");return n.startsWith("0x")?`${n}${i}`:`0x${n}${i}`}return`${Ri(t)}${i}`};class Op extends Vi{constructor(e,n){super(e,n),this.address=e.address,this.topics=e.topics,this.abi=e.abi,this.jsonInterface=e.jsonInterface}_buildSubscriptionParams(){return["logs",{address:this.address,topics:this.topics}]}formatSubscriptionResult(e){return Su(this.abi,e,this.jsonInterface,super.returnFormat)}}Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));const Xo=(t,e,n,r)=>{var i,s;const o={};return(!gn(t.data)||r==="both")&&(o.data=ri(e,n,(i=t.data)!==null&&i!==void 0?i:t.input)),(!gn(t.input)||r==="both")&&(o.input=ri(e,n,(s=t.input)!==null&&s!==void 0?s:t.data)),gn(o.input)&&gn(o.data)&&(o[r]=ri(e,n)),{data:o.data,input:o.input}},vc=({abi:t,params:e,options:n,contractOptions:r})=>{var i,s,o;if(!((o=(s=(i=n==null?void 0:n.input)!==null&&i!==void 0?i:n==null?void 0:n.data)!==null&&s!==void 0?s:r.input)!==null&&o!==void 0?o:r.data)&&!(n!=null&&n.to)&&!r.address)throw new Le("Contract address not specified");if(!(n!=null&&n.from)&&!r.from)throw new Le('Contract "from" address not specified');let d=Cr({to:r.address,gas:r.gas,gasPrice:r.gasPrice,from:r.from,input:r.input,maxPriorityFeePerGas:r.maxPriorityFeePerGas,maxFeePerGas:r.maxFeePerGas,data:r.data},n);const u=Xo(d,t,e,n==null?void 0:n.dataInputFill);return d=Object.assign(Object.assign({},d),{data:u.data,input:u.input}),d},WB=({abi:t,params:e,options:n,contractOptions:r})=>{if(!(n!=null&&n.to)&&!r.address)throw new Le("Contract address not specified");let i=Cr({to:r.address,gas:r.gas,gasPrice:r.gasPrice,from:r.from,input:r.input,maxPriorityFeePerGas:r.maxPriorityFeePerGas,maxFeePerGas:r.maxFeePerGas,data:r.data},n);const s=Xo(i,t,e,n==null?void 0:n.dataInputFill);return i=Object.assign(Object.assign({},i),{data:s.data,input:s.input}),i},KB=({abi:t,params:e,options:n,contractOptions:r})=>{let i=Cr({to:r.address,gas:r.gas,gasPrice:r.gasPrice,from:r.from,input:r.input,data:r.data},n);const s=Xo(i,t,e,n==null?void 0:n.dataInputFill);return i=Object.assign(Object.assign({},i),{data:s.data,input:s.input}),i},jf=t=>typeof t=="object"&&!gn(t)&&Object.keys(t).length!==0&&!Ec(t),ZB=({abi:t,params:e,options:n,contractOptions:r})=>{if(!(n!=null&&n.to)&&!r.address)throw new Le("Contract address not specified");if(!(n!=null&&n.from)&&!r.from)throw new Le('Contract "from" address not specified');let i=Cr({to:r.address,gas:r.gas,gasPrice:r.gasPrice,from:r.from,input:r.input,maxPriorityFeePerGas:r.maxPriorityFeePerGas,maxFeePerGas:r.maxFeePerGas,data:r.data},n);const s=Xo(i,t,e,n==null?void 0:n.dataInputFill);return i=Object.assign(Object.assign({},i),{data:s.data,input:s.input}),i};var JB=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function d(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,d)}u((r=r.apply(t,e||[])).next())})};class XB{_contractMethodDeploySend(e){const n={transactionResolver:r=>{if(r.status===BigInt(0))throw new Le("code couldn't be stored",r);const i=this.parent.clone();return i.options.address=r.contractAddress,i},contractAbi:this.parent.options.jsonInterface,checkRevertBeforeSending:!1};return A(this.parent.getTransactionMiddleware())?Ci(this.parent,e,this.parent.defaultReturnFormat,n):Ci(this.parent,e,this.parent.defaultReturnFormat,n,this.parent.getTransactionMiddleware())}constructor(e,n){this.parent=e,this.deployOptions=n;const{args:r,abi:i,contractOptions:s,deployData:o}=this.calculateDeployParams();this.args=r,this.constructorAbi=i,this.contractOptions=s,this.deployData=o}send(e){const n=Object.assign({},e),r=this.populateTransaction(n);return this._contractMethodDeploySend(r)}populateTransaction(e){var n,r;const i=Object.assign(Object.assign({},this.contractOptions),{from:(r=(n=this.contractOptions.from)!==null&&n!==void 0?n:this.parent.defaultAccount)!==null&&r!==void 0?r:void 0}),s=vc({abi:this.constructorAbi,params:this.args,options:Object.assign(Object.assign({},e),{dataInputFill:this.parent.contractDataInputFill}),contractOptions:i});return s.dataInputFill&&delete s.dataInputFill,s}calculateDeployParams(){var e,n,r,i,s,o;let a=this.parent.options.jsonInterface.find(l=>l.type==="constructor");a||(a={type:"constructor",stateMutability:""});const d=ir({format:"bytes"},(n=(e=this.deployOptions)===null||e===void 0?void 0:e.input)!==null&&n!==void 0?n:this.parent.options.input,Te),u=ir({format:"bytes"},(i=(r=this.deployOptions)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:this.parent.options.data,Te);if((!d||d.trim()==="0x")&&(!u||u.trim()==="0x"))throw new Le("contract creation without any data provided.");const c=(o=(s=this.deployOptions)===null||s===void 0?void 0:s.arguments)!==null&&o!==void 0?o:[],f=Object.assign(Object.assign({},this.parent.options),{input:d,data:u});return{args:c,abi:a,contractOptions:f,deployData:d??u}}estimateGas(e){return JB(this,arguments,void 0,function*(n,r=this.parent.defaultReturnFormat){const i=Object.assign({},n);return this.parent.contractMethodEstimateGas({abi:this.constructorAbi,params:this.args,returnFormat:r,options:i,contractOptions:this.contractOptions})})}encodeABI(){return ri(this.constructorAbi,this.args,ir({format:"bytes"},this.deployData,this.parent.defaultReturnFormat))}decodeData(e){return Object.assign(Object.assign({},_c(this.constructorAbi,e.replace(this.deployData,""),!1)),{__method__:this.constructorAbi.type})}}var YB=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function d(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,d)}u((r=r.apply(t,e||[])).next())})};class ek extends Ws{constructor(e,n){super(e.requestManager,e.registeredSubscriptions),this.parentContract=n}subscribe(e,n){const r=Object.create(null,{subscribe:{get:()=>super.subscribe}});return YB(this,arguments,void 0,function*(i,s,o=Te){return r.subscribe.call(this,i,s??this.parentContract.options,o)})}}var dn=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function d(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,d)}u((r=r.apply(t,e||[])).next())})};const tk={logs:Op,newHeads:fo,newBlockHeaders:fo};class En extends Qe{get subscriptionManager(){return this._subscriptionManager}constructor(e,n,r,i,s){var o,a,d;const u=Ec(n)?n:Ec(r)?r:void 0;let c;jf(n)?c=n:jf(r)?c=r:c=i;let f;if(typeof n=="object"&&"provider"in n?f=n.provider:typeof r=="object"&&"provider"in r?f=r.provider:typeof i=="object"&&"provider"in i?f=i.provider:f=En.givenProvider,super(Object.assign(Object.assign({},c),{provider:f,registeredSubscriptions:tk})),this.syncWithContext=!1,this._functions={},this._subscriptionManager=new ek(super.subscriptionManager,this),c!=null&&c.wallet&&(this._wallet=c.wallet),c!=null&&c.accountProvider&&(this._accountProvider=c.accountProvider),!A(u)&&!A(u.data)&&!A(u.input)&&this.config.contractDataInputFill!=="both")throw new jy({data:u.data,input:u.input});this._overloadedMethodAbis=new Map;const h=Vn(i)?i:Vn(r)?r:s??this.defaultReturnFormat,l=typeof n=="string"?n:void 0;this.config.contractDataInputFill=(o=u==null?void 0:u.dataInputFill)!==null&&o!==void 0?o:this.config.contractDataInputFill,this._parseAndSetJsonInterface(e,h),this.defaultReturnFormat!==h&&(this.defaultReturnFormat=h),A(l)||this._parseAndSetAddress(l,h),this.options={address:l,jsonInterface:this._jsonInterface,gas:(a=u==null?void 0:u.gas)!==null&&a!==void 0?a:u==null?void 0:u.gasLimit,gasPrice:u==null?void 0:u.gasPrice,from:u==null?void 0:u.from,input:u==null?void 0:u.input,data:u==null?void 0:u.data},this.syncWithContext=(d=u==null?void 0:u.syncWithContext)!==null&&d!==void 0?d:!1,c instanceof Qe&&this.subscribeToContextEvents(c),Object.defineProperty(this.options,"address",{set:b=>this._parseAndSetAddress(b,h),get:()=>this._address}),Object.defineProperty(this.options,"jsonInterface",{set:b=>this._parseAndSetJsonInterface(b,h),get:()=>this._jsonInterface}),c instanceof Qe&&c.on(Rn.CONFIG_CHANGE,b=>{this.setConfig({[b.name]:b.newValue})})}setTransactionMiddleware(e){this.transactionMiddleware=e}getTransactionMiddleware(){return this.transactionMiddleware}get events(){return this._events}get methods(){return this._methods}clone(){let e;return this.options.address?e=new En([...this._jsonInterface,...this._errorsInterface],this.options.address,{gas:this.options.gas,gasPrice:this.options.gasPrice,from:this.options.from,input:this.options.input,data:this.options.data,provider:this.currentProvider,syncWithContext:this.syncWithContext,dataInputFill:this.config.contractDataInputFill},this.getContextObject()):e=new En([...this._jsonInterface,...this._errorsInterface],{gas:this.options.gas,gasPrice:this.options.gasPrice,from:this.options.from,input:this.options.input,data:this.options.data,provider:this.currentProvider,syncWithContext:this.syncWithContext,dataInputFill:this.config.contractDataInputFill},this.getContextObject()),this.context&&e.subscribeToContextEvents(this.context),e}deploy(e){return new XB(this,e)}getPastEvents(e,n,r){return dn(this,void 0,void 0,function*(){var i;const s=typeof e=="string"?e:gr,o=typeof e!="string"&&!Vn(e)?e:Vn(n)?{}:n,a=Vn(e)?e:Vn(n)?n:r??this.defaultReturnFormat,d=s==="allEvents"||s===gr?lc:this._jsonInterface.find(p=>"name"in p&&p.name===s);if(!d)throw new Le(`Event ${String(s)} not found.`);const{fromBlock:u,toBlock:c,topics:f,address:h}=Ff(this.options,d,o??{}),l=yield bp(this,{fromBlock:u,toBlock:c,topics:f,address:h},a),b=l?l.map(p=>typeof p=="string"?p:Su(d,p,this._jsonInterface,a)):[],m=(i=o==null?void 0:o.filter)!==null&&i!==void 0?i:{},g=Object.keys(m);return g.length>0?b.filter(p=>typeof p=="string"?!0:g.every(w=>{var _;if(Array.isArray(m[w]))return m[w].some(E=>String(p.returnValues[w]).toUpperCase()===String(E).toUpperCase());const v=(_=d.inputs)===null||_===void 0?void 0:_.filter(E=>E.name===w)[0];return v!=null&&v.indexed&&v.type==="string"&&Pp(m[w])===String(p.returnValues[w])?!0:String(p.returnValues[w]).toUpperCase()===String(m[w]).toUpperCase()})):b})}_parseAndSetAddress(e,n=this.defaultReturnFormat){this._address=e&&qB(ir({format:"address"},e,n))}decodeMethodData(e){const n=e.slice(0,10),i=this._jsonInterface.filter(s=>s.type!=="error").find(s=>n===Ri(Ht(s)));if(!i)throw new Le(`The ABI for the provided method signature ${n} was not found.`);return _c(i,e)}_parseAndSetJsonInterface(e,n=this.defaultReturnFormat){var r,i;this._functions={},this._methods={},this._events={};let s=[];const o=e.filter(d=>d.type!=="error"),a=e.filter(d=>zo(d));for(const d of o){const u=Object.assign(Object.assign({},d),{signature:""});if(Wo(u)){const c=Ht(u),f=Ri(c);u.methodNameWithInputs=c,u.signature=f,u.constant=u.stateMutability==="view"||u.stateMutability==="pure"||u.constant,u.payable=u.stateMutability==="payable"||u.payable,this._overloadedMethodAbis.set(u.name,[...(r=this._overloadedMethodAbis.get(u.name))!==null&&r!==void 0?r:[],u]);const h=(i=this._overloadedMethodAbis.get(u.name))!==null&&i!==void 0?i:[],l=this._createContractMethod(h,a),b=this._createContractMethod(h,a,!0);this._functions[c]={signature:f,method:b},this._methods[u.name]=l,this._methods[c]=b,this._methods[f]=b}else if(Eu(u)){const c=Ht(u),f=vu(c),h=this._createContractEvent(u,n);u.signature=f,(!(c in this._events)||u.name==="bound")&&(this._events[c]=h),this._events[u.name]=h,this._events[f]=h}s=[...s,u]}this._events.allEvents=this._createContractEvent(lc,n),this._jsonInterface=[...s],this._errorsInterface=a}_getAbiParams(e,n){var r;try{return ei((r=e.inputs)!==null&&r!==void 0?r:[],n)}catch(i){throw new Le(`Invalid parameters for method ${e.name}: ${i.message}`)}}_createContractMethod(e,n,r=!1){const i=e[e.length-1];return(...s)=>{var o,a,d;let u;const c=(a=r?(o=this._overloadedMethodAbis.get(i.name))===null||o===void 0?void 0:o.filter(m=>m.signature===i.signature):this._overloadedMethodAbis.get(i.name))!==null&&a!==void 0?a:[];let f=c[0];const h=n,l=c.filter(m=>{var g;return((g=m.inputs)!==null&&g!==void 0?g:[]).length===s.length});if(c.length===1||l.length===0)u=this._getAbiParams(f,s),C.validate((d=i.inputs)!==null&&d!==void 0?d:[],u);else{const m=[],g=[];for(const p of l)try{u=this._getAbiParams(p,s),C.validate(p.inputs,u),g.push(p)}catch(w){m.push(w)}if(g.length===1?[f]=g:g.length>1&&([f]=g,console.warn(`Multiple methods found that is compatible with the given inputs.
	Found ${g.length} compatible methods: ${JSON.stringify(g.map(p=>`${p.methodNameWithInputs} (signature: ${p.signature})`))} 
	The first one will be used: ${f.methodNameWithInputs}`)),m.length===l.length)throw new ur(m)}const b={arguments:u,call:(m,g)=>dn(this,void 0,void 0,function*(){return this._contractMethodCall(f,u,h,m,g)}),send:m=>this._contractMethodSend(f,u,h,m),populateTransaction:(m,g)=>{var p,w;let _=g??this.options;_=Object.assign(Object.assign({},_),{input:void 0,from:(w=(p=_==null?void 0:_.from)!==null&&p!==void 0?p:this.defaultAccount)!==null&&w!==void 0?w:void 0});const v=vc({abi:i,params:s,options:Object.assign(Object.assign({},m),{dataInputFill:this.config.contractDataInputFill}),contractOptions:_});return v.dataInputFill&&delete v.dataInputFill,v},estimateGas:(m,...g)=>dn(this,[m,...g],void 0,function*(p,w=this.defaultReturnFormat){return this.contractMethodEstimateGas({abi:f,params:u,returnFormat:w,options:p})}),encodeABI:()=>ri(f,u),decodeData:m=>_c(f,m),createAccessList:(m,g)=>dn(this,void 0,void 0,function*(){return this._contractMethodCreateAccessList(f,u,h,m,g)})};return f.stateMutability==="payable",b}}_contractMethodCall(e,n,r,i,s){return dn(this,void 0,void 0,function*(){var o;const a=WB({abi:e,params:n,options:Object.assign(Object.assign({},i),{dataInputFill:this.config.contractDataInputFill}),contractOptions:Object.assign(Object.assign({},this.options),{from:(o=this.options.from)!==null&&o!==void 0?o:this.config.defaultAccount})});try{const d=yield Pu(this,a,s,this.defaultReturnFormat);return kT(e,d)}catch(d){throw d instanceof wn&&Is(r,d.cause),d}})}_contractMethodCreateAccessList(e,n,r,i,s){return dn(this,void 0,void 0,function*(){var o;const a=ZB({abi:e,params:n,options:Object.assign(Object.assign({},i),{dataInputFill:this.config.contractDataInputFill}),contractOptions:Object.assign(Object.assign({},this.options),{from:(o=this.options.from)!==null&&o!==void 0?o:this.config.defaultAccount})});try{return Ap(this,a,s,this.defaultReturnFormat)}catch(d){throw d instanceof wn&&Is(r,d.cause),d}})}_contractMethodSend(e,n,r,i,s){var o,a;let d=s??this.options;d=Object.assign(Object.assign({},d),{input:void 0,from:(a=(o=d.from)!==null&&o!==void 0?o:this.defaultAccount)!==null&&a!==void 0?a:void 0});const u=vc({abi:e,params:n,options:Object.assign(Object.assign({},i),{dataInputFill:this.config.contractDataInputFill}),contractOptions:d}),c=A(this.transactionMiddleware)?Ci(this,u,this.defaultReturnFormat,{checkRevertBeforeSending:!1,contractAbi:this._jsonInterface}):Ci(this,u,this.defaultReturnFormat,{checkRevertBeforeSending:!1,contractAbi:this._jsonInterface},this.transactionMiddleware);return c.on("error",f=>{f instanceof wn&&Is(r,f.cause)}),c}contractMethodEstimateGas(e){return dn(this,arguments,void 0,function*({abi:n,params:r,returnFormat:i,options:s,contractOptions:o}){const a=KB({abi:n,params:r,options:Object.assign(Object.assign({},s),{dataInputFill:this.config.contractDataInputFill}),contractOptions:o??this.options});return Ou(this,a,Lt.LATEST,i??this.defaultReturnFormat)})}_createContractEvent(e,n=this.defaultReturnFormat){return(...r)=>{var i;const{topics:s,fromBlock:o}=Ff(this.options,e,r[0]),a=new Op({address:this.options.address,topics:s,abi:e,jsonInterface:this._jsonInterface},{subscriptionManager:this.subscriptionManager,returnFormat:n});return A(o)||this.getPastEvents(e.name,{fromBlock:o,topics:s},n).then(d=>{d&&d.forEach(u=>a.emit("data",u))}).catch(d=>{a.emit("error",new Ot("Failed to get past events.",d))}),(i=this.subscriptionManager)===null||i===void 0||i.addSubscription(a).catch(d=>{a.emit("error",new Ot("Failed to subscribe.",d))}),a}}subscribeToContextEvents(e){const n=this;this.context=e,n.syncWithContext&&e.on(Rn.CONFIG_CHANGE,r=>{n.setConfig({[r.name]:r.newValue})})}}const Gf={addr:"0x3b3b57de",name:"0x691f3431",abi:"0x2203ab56",pubkey:"0xc8690233",text:"0x59d1d43c",contenthash:"0xbc1c58d1"},zn={setAddr:"addr",addr:"addr",setPubkey:"pubkey",pubkey:"pubkey",setContenthash:"contenthash",contenthash:"contenthash",text:"text",name:"name"},mo={main:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",goerli:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},nk={"0x1":"main","0x5":"goerli"},rk=[{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"label",type:"bytes32"},{indexed:!1,internalType:"address",name:"owner",type:"address"}],name:"NewOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"address",name:"resolver",type:"address"}],name:"NewResolver",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"address",name:"owner",type:"address"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"recordExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"resolver",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"ttl",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"}],ik=[{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"address",name:"a",type:"address"}],name:"AddrChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"coinType",type:"uint256"},{indexed:!1,internalType:"bytes",name:"newAddress",type:"bytes"}],name:"AddressChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"hash",type:"bytes"}],name:"ContenthashChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"name",type:"bytes"},{indexed:!1,internalType:"uint16",name:"resource",type:"uint16"},{indexed:!1,internalType:"bytes",name:"record",type:"bytes"}],name:"DNSRecordChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"name",type:"bytes"},{indexed:!1,internalType:"uint16",name:"resource",type:"uint16"}],name:"DNSRecordDeleted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"}],name:"DNSZoneCleared",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"lastzonehash",type:"bytes"},{indexed:!1,internalType:"bytes",name:"zonehash",type:"bytes"}],name:"DNSZonehashChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"bytes4",name:"interfaceID",type:"bytes4"},{indexed:!1,internalType:"address",name:"implementer",type:"address"}],name:"InterfaceChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"string",name:"name",type:"string"}],name:"NameChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"x",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"y",type:"bytes32"}],name:"PubkeyChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"string",name:"indexedKey",type:"string"},{indexed:!1,internalType:"string",name:"key",type:"string"}],name:"TextChanged",type:"event"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"uint256",name:"contentTypes",type:"uint256"}],name:"ABI",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"addr",outputs:[{internalType:"address payable",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"uint256",name:"coinType",type:"uint256"}],name:"addr",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"contenthash",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes32",name:"name",type:"bytes32"},{internalType:"uint16",name:"resource",type:"uint16"}],name:"dnsRecord",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes32",name:"name",type:"bytes32"}],name:"hasDNSRecords",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes4",name:"interfaceID",type:"bytes4"}],name:"interfaceImplementer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"pubkey",outputs:[{internalType:"bytes32",name:"x",type:"bytes32"},{internalType:"bytes32",name:"y",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceID",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"string",name:"key",type:"string"}],name:"text",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"zonehash",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"address",name:"a",type:"address"}],name:"setAddr",outputs:[],stateMutability:"nonpayable",type:"function"}];function Oi(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function sk(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function ok(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function Yo(t,...e){if(!ok(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function ak(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Oi(t.outputLen),Oi(t.blockLen)}function Tc(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Np(t,e){Yo(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const ck={number:Oi,bool:sk,bytes:Yo,hash:ak,exists:Tc,output:Np},ls=BigInt(2**32-1),qf=BigInt(32);function uk(t,e=!1){return e?{h:Number(t&ls),l:Number(t>>qf&ls)}:{h:Number(t>>qf&ls)|0,l:Number(t&ls)|0}}function dk(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=uk(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const fk=(t,e,n)=>t<<n|e>>>32-n,lk=(t,e,n)=>e<<n|t>>>32-n,hk=(t,e,n)=>e<<n-32|t>>>64-n,pk=(t,e,n)=>t<<n-32|e>>>64-n;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const mk=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),Qf=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,gk=t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255;function Vf(t){for(let e=0;e<t.length;e++)t[e]=gk(t[e])}function go(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Lp(t){return typeof t=="string"&&(t=go(t)),Yo(t),t}let yk=class{clone(){return this._cloneInto()}};function bk(t){const e=r=>t().update(Lp(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}const Mp=[],$p=[],Hp=[],wk=BigInt(0),jr=BigInt(1),Ak=BigInt(2),_k=BigInt(7),Ik=BigInt(256),xk=BigInt(113);for(let t=0,e=jr,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],Mp.push(2*(5*r+n)),$p.push((t+1)*(t+2)/2%64);let i=wk;for(let s=0;s<7;s++)e=(e<<jr^(e>>_k)*xk)%Ik,e&Ak&&(i^=jr<<(jr<<BigInt(s))-jr);Hp.push(i)}const[Ek,vk]=dk(Hp,!0),zf=(t,e,n)=>n>32?hk(t,e,n):fk(t,e,n),Wf=(t,e,n)=>n>32?pk(t,e,n):lk(t,e,n);function Tk(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,d=(o+2)%10,u=n[d],c=n[d+1],f=zf(u,c,1)^n[a],h=Wf(u,c,1)^n[a+1];for(let l=0;l<50;l+=10)t[o+l]^=f,t[o+l+1]^=h}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=$p[o],d=zf(i,s,a),u=Wf(i,s,a),c=Mp[o];i=t[c],s=t[c+1],t[c]=d,t[c+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=Ek[r],t[1]^=vk[r]}n.fill(0)}let Bk=class Dp extends yk{constructor(e,n,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Oi(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=mk(this.state)}keccak(){Qf||Vf(this.state32),Tk(this.state32,this.rounds),Qf||Vf(this.state32),this.posOut=0,this.pos=0}update(e){Tc(this);const{blockLen:n,state:r}=this;e=Lp(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Tc(this,!1),Yo(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Oi(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Np(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new Dp(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const kk=(t,e,n)=>bk(()=>new Bk(e,t,n)),Kf=kk(1,136,256/8);function Sk(t){return e=>(ck.bytes(e),t(e))}(()=>{const t=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,e=typeof module<"u"&&typeof module.require=="function"&&module.require.bind(module);return{node:e&&!t?e("crypto"):void 0,web:t}})();const Rk=(()=>{const t=Sk(Kf);return t.create=Kf.create,t})();function Ck(t){var e,n;return t instanceof Uint8Array||((e=t==null?void 0:t.constructor)===null||e===void 0?void 0:e.name)==="Uint8Array"||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="Buffer"}BigInt(0),BigInt(1),BigInt(1e3),BigInt(1e3),BigInt(1e3),BigInt(1e3),BigInt(1e6),BigInt(1e6),BigInt(1e6),BigInt(1e6),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e12),BigInt(1e12),BigInt(1e12),BigInt(1e15),BigInt(1e15),BigInt(1e15),BigInt("1000000000000000000"),BigInt("1000000000000000000000"),BigInt("1000000000000000000000"),BigInt("1000000000000000000000000"),BigInt("1000000000000000000000000000"),BigInt("1000000000000000000000000000000");const yo=t=>{if(C.validate(["bytes"],[t]),Ck(t))return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="string")return ke(t);throw new Pe(t)},{uint8ArrayToHexString:Pk}=Fe,Ok=t=>Pk(yo(t)),Nk=t=>typeof t=="string"&&t.slice(0,2).toLowerCase()!=="0x"?yo(`0x${t}`):yo(t),Lk=A,Up="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",Mk=t=>{let e;return typeof t=="bigint"||typeof t=="number"?e=go(t.toString()):Array.isArray(t)?e=new Uint8Array(t):typeof t=="string"&&!G(t)?e=go(t):e=yo(t),Ok(Rk(Ue(e)))},Fp=t=>{let e;typeof t=="string"?t.startsWith("0x")&&G(t)?e=Nk(t):e=go(t):e=t;const n=Mk(e);return n===Up?void 0:n},Zf=t=>{const e=Fp(t);return A(e)?Up:e};var $k="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";const Jf=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),Xf=4;function Hk(t){let e=0;function n(){return t[e++]<<8|t[e++]}let r=n(),i=1,s=[0,1];for(let E=1;E<r;E++)s.push(i+=n());let o=n(),a=e;e+=o;let d=0,u=0;function c(){return d==0&&(u=u<<8|t[e++],d=8),u>>--d&1}const f=31,h=2**f,l=h>>>1,b=l>>1,m=h-1;let g=0;for(let E=0;E<f;E++)g=g<<1|c();let p=[],w=0,_=h;for(;;){let E=Math.floor(((g-w+1)*i-1)/_),k=0,P=r;for(;P-k>1;){let B=k+P>>>1;E<s[B]?P=B:k=B}if(k==0)break;p.push(k);let x=w+Math.floor(_*s[k]/i),j=w+Math.floor(_*s[k+1]/i)-1;for(;!((x^j)&l);)g=g<<1&m|c(),x=x<<1&m,j=j<<1&m|1;for(;x&~j&b;)g=g&l|g<<1&m>>>1|c(),x=x<<1^l,j=(j^l)<<1|l|1;w=x,_=1+j-x}let v=r-4;return p.map(E=>{switch(E-v){case 3:return v+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return v+256+(t[a++]<<8|t[a++]);case 1:return v+t[a++];default:return E-1}})}function Dk(t){let e=0;return()=>t[e++]}function jp(t){return Dk(Hk(Uk(t)))}function Uk(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((i,s)=>e[i.charCodeAt(0)]=s);let n=t.length,r=new Uint8Array(6*n>>3);for(let i=0,s=0,o=0,a=0;i<n;i++)a=a<<6|e[t.charCodeAt(i)],o+=6,o>=8&&(r[s++]=a>>(o-=8));return r}function Fk(t){return t&1?~t>>1:t>>1}function jk(t,e){let n=Array(t);for(let r=0,i=0;r<t;r++)n[r]=i+=Fk(e());return n}function Ni(t,e=0){let n=[];for(;;){let r=t(),i=t();if(!i)break;e+=r;for(let s=0;s<i;s++)n.push(e+s);e+=i+1}return n}function Gp(t){return Li(()=>{let e=Ni(t);if(e.length)return e})}function qp(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(Gk(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(qk(n,t))}return e.flat()}function Li(t){let e=[];for(;;){let n=t(e.length);if(!n)break;e.push(n)}return e}function Qp(t,e,n){let r=Array(t).fill().map(()=>[]);for(let i=0;i<e;i++)jk(t,n).forEach((s,o)=>r[o].push(s));return r}function Gk(t,e){let n=1+e(),r=e(),i=Li(e);return Qp(i.length,1+t,e).flatMap((o,a)=>{let[d,...u]=o;return Array(i[a]).fill().map((c,f)=>{let h=f*r;return[d+f*n,u.map(l=>l+h)]})})}function qk(t,e){let n=1+e();return Qp(n,1+t,e).map(i=>[i[0],i.slice(1)])}function Qk(t){let e=[],n=Ni(t);return i(r([]),[]),e;function r(s){let o=t(),a=Li(()=>{let d=Ni(t).map(u=>n[u]);if(d.length)return r(d)});return{S:o,B:a,Q:s}}function i({S:s,B:o},a,d){if(!(s&4&&d===a[a.length-1])){s&2&&(d=a[a.length-1]),s&1&&e.push(a);for(let u of o)for(let c of u.Q)i(u,[...a,c],d)}}}function Vk(t){return t.toString(16).toUpperCase().padStart(2,"0")}function Vp(t){return`{${Vk(t)}}`}function zk(t){let e=[];for(let n=0,r=t.length;n<r;){let i=t.codePointAt(n);n+=i<65536?1:2,e.push(i)}return e}function br(t){let n=t.length;if(n<4096)return String.fromCodePoint(...t);let r=[];for(let i=0;i<n;)r.push(String.fromCodePoint(...t.slice(i,i+=4096)));return r.join("")}function Wk(t,e){let n=t.length,r=n-e.length;for(let i=0;r==0&&i<n;i++)r=t[i]-e[i];return r}var Kk="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";const Mi=44032,bo=4352,wo=4449,Ao=4519,zp=19,Wp=21,wr=28,_o=Wp*wr,Zk=zp*_o,Jk=Mi+Zk,Xk=bo+zp,Yk=wo+Wp,eS=Ao+wr;function Zr(t){return t>>24&255}function Kp(t){return t&16777215}let Bc,Yf,kc,xs;function tS(){let t=jp(Kk);Bc=new Map(Gp(t).flatMap((e,n)=>e.map(r=>[r,n+1<<24]))),Yf=new Set(Ni(t)),kc=new Map,xs=new Map;for(let[e,n]of qp(t)){if(!Yf.has(e)&&n.length==2){let[r,i]=n,s=xs.get(r);s||(s=new Map,xs.set(r,s)),s.set(i,e)}kc.set(e,n.reverse())}}function Zp(t){return t>=Mi&&t<Jk}function nS(t,e){if(t>=bo&&t<Xk&&e>=wo&&e<Yk)return Mi+(t-bo)*_o+(e-wo)*wr;if(Zp(t)&&e>Ao&&e<eS&&(t-Mi)%wr==0)return t+(e-Ao);{let n=xs.get(t);return n&&(n=n.get(e),n)?n:-1}}function Jp(t){Bc||tS();let e=[],n=[],r=!1;function i(s){let o=Bc.get(s);o&&(r=!0,s|=o),e.push(s)}for(let s of t)for(;;){if(s<128)e.push(s);else if(Zp(s)){let o=s-Mi,a=o/_o|0,d=o%_o/wr|0,u=o%wr;i(bo+a),i(wo+d),u>0&&i(Ao+u)}else{let o=kc.get(s);o?n.push(...o):i(s)}if(!n.length)break;s=n.pop()}if(r&&e.length>1){let s=Zr(e[0]);for(let o=1;o<e.length;o++){let a=Zr(e[o]);if(a==0||s<=a){s=a;continue}let d=o-1;for(;;){let u=e[d+1];if(e[d+1]=e[d],e[d]=u,!d||(s=Zr(e[--d]),s<=a))break}s=Zr(e[o])}}return e}function rS(t){let e=[],n=[],r=-1,i=0;for(let s of t){let o=Zr(s),a=Kp(s);if(r==-1)o==0?r=a:e.push(a);else if(i>0&&i>=o)o==0?(e.push(r,...n),n.length=0,r=a):n.push(a),i=o;else{let d=nS(r,a);d>=0?r=d:i==0&&o==0?(e.push(r),r=a):(n.push(a),i=o)}}return r>=0&&e.push(r,...n),e}function Xp(t){return Jp(t).map(Kp)}function iS(t){return rS(Jp(t))}const el=45,Yp=".",em=65039,tm=1,Io=t=>Array.from(t);function $i(t,e){return t.P.has(e)||t.Q.has(e)}class sS extends Array{get is_emoji(){return!0}}let Sc,nm,yn,Rc,rm,sr,Ma,Jn,fn,tl,Cc;function Lu(){if(Sc)return;let t=jp($k);const e=()=>Ni(t),n=()=>new Set(e()),r=(c,f)=>f.forEach(h=>c.add(h));Sc=new Map(qp(t)),nm=n(),yn=e(),Rc=new Set(e().map(c=>yn[c])),yn=new Set(yn),rm=n(),n();let i=Gp(t),s=t();const o=()=>{let c=new Set;return e().forEach(f=>r(c,i[f])),r(c,e()),c};sr=Li(c=>{let f=Li(t).map(h=>h+96);if(f.length){let h=c>=s;f[0]-=32,f=br(f),h&&(f=`Restricted[${f}]`);let l=o(),b=o(),m=!t();return{N:f,P:l,Q:b,M:m,R:h}}}),Ma=n(),Jn=new Map;let a=e().concat(Io(Ma)).sort((c,f)=>c-f);a.forEach((c,f)=>{let h=t(),l=a[f]=h?a[f-h]:{V:[],M:new Map};l.V.push(c),Ma.has(c)||Jn.set(c,l)});for(let{V:c,M:f}of new Set(Jn.values())){let h=[];for(let b of c){let m=sr.filter(p=>$i(p,b)),g=h.find(({G:p})=>m.some(w=>p.has(w)));g||(g={G:new Set,V:[]},h.push(g)),g.V.push(b),r(g.G,m)}let l=h.flatMap(b=>Io(b.G));for(let{G:b,V:m}of h){let g=new Set(l.filter(p=>!b.has(p)));for(let p of m)f.set(p,g)}}fn=new Set;let d=new Set;const u=c=>fn.has(c)?d.add(c):fn.add(c);for(let c of sr){for(let f of c.P)u(f);for(let f of c.Q)u(f)}for(let c of fn)!Jn.has(c)&&!d.has(c)&&Jn.set(c,tm);r(fn,Xp(fn)),tl=Qk(t).map(c=>sS.from(c)).sort(Wk),Cc=new Map;for(let c of tl){let f=[Cc];for(let h of c){let l=f.map(b=>{let m=b.get(h);return m||(m=new Map,b.set(h,m)),m});h===em?f.push(...l):f=l}for(let h of f)h.V=c}}function Mu(t){return(im(t)?"":`${$u(ea([t]))} `)+Vp(t)}function $u(t){return`"${t}"`}function oS(t){if(t.length>=4&&t[2]==el&&t[3]==el)throw new Error(`invalid label extension: "${br(t.slice(0,4))}"`)}function aS(t){for(let n=t.lastIndexOf(95);n>0;)if(t[--n]!==95)throw new Error("underscore allowed only at start")}function cS(t){let e=t[0],n=Jf.get(e);if(n)throw ii(`leading ${n}`);let r=t.length,i=-1;for(let s=1;s<r;s++){e=t[s];let o=Jf.get(e);if(o){if(i==s)throw ii(`${n} + ${o}`);i=s+1,n=o}}if(i==r)throw ii(`trailing ${n}`)}function ea(t,e=1/0,n=Vp){let r=[];uS(t[0])&&r.push(""),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let i=0,s=t.length;for(let o=0;o<s;o++){let a=t[o];im(a)&&(r.push(br(t.slice(i,o))),r.push(n(a)),i=o+1)}return r.push(br(t.slice(i,s))),r.join("")}function uS(t,e){return Lu(),yn.has(t)}function im(t){return Lu(),rm.has(t)}function dS(t){return pS(fS(t,iS,yS))}function fS(t,e,n){if(!t)return[];Lu();let r=0;return t.split(Yp).map(i=>{let s=zk(i),o={input:s,offset:r};r+=s.length+1;try{let a=o.tokens=gS(s,e,n),d=a.length,u;if(!d)throw new Error("empty label");let c=o.output=a.flat();if(aS(c),!(o.emoji=d>1||a[0].is_emoji)&&c.every(h=>h<128))oS(c),u="ASCII";else{let h=a.flatMap(l=>l.is_emoji?[]:l);if(!h.length)u="Emoji";else{if(yn.has(c[0]))throw ii("leading combining mark");for(let m=1;m<d;m++){let g=a[m];if(!g.is_emoji&&yn.has(g[0]))throw ii(`emoji + combining mark: "${br(a[m-1])} + ${ea([g[0]])}"`)}cS(c);let l=Io(new Set(h)),[b]=hS(l);mS(b,h),lS(b,l),u=b.N}}o.type=u}catch(a){o.error=a}return o})}function lS(t,e){let n,r=[];for(let i of e){let s=Jn.get(i);if(s===tm)return;if(s){let o=s.M.get(i);if(n=n?n.filter(a=>o.has(a)):Io(o),!n.length)return}else r.push(i)}if(n){for(let i of n)if(r.every(s=>$i(i,s)))throw new Error(`whole-script confusable: ${t.N}/${i.N}`)}}function hS(t){let e=sr;for(let n of t){let r=e.filter(i=>$i(i,n));if(!r.length)throw sr.some(i=>$i(i,n))?om(e[0],n):sm(n);if(e=r,r.length==1)break}return e}function pS(t){return t.map(({input:e,error:n,output:r})=>{if(n){let i=n.message;throw new Error(t.length==1?i:`Invalid label ${$u(ea(e,63))}: ${i}`)}return br(r)}).join(Yp)}function sm(t){return new Error(`disallowed character: ${Mu(t)}`)}function om(t,e){let n=Mu(e),r=sr.find(i=>i.P.has(e));return r&&(n=`${r.N} ${n}`),new Error(`illegal mixture: ${t.N} + ${n}`)}function ii(t){return new Error(`illegal placement: ${t}`)}function mS(t,e){for(let n of e)if(!$i(t,n))throw om(t,n);if(t.M){let n=Xp(e);for(let r=1,i=n.length;r<i;r++)if(Rc.has(n[r])){let s=r+1;for(let o;s<i&&Rc.has(o=n[s]);s++)for(let a=r;a<s;a++)if(n[a]==o)throw new Error(`duplicate non-spacing marks: ${Mu(o)}`);if(s-r>Xf)throw new Error(`excessive non-spacing marks: ${$u(ea(n.slice(r-1,s)))} (${s-r}/${Xf})`);r=s}}}function gS(t,e,n){let r=[],i=[];for(t=t.slice().reverse();t.length;){let s=bS(t);if(s)i.length&&(r.push(e(i)),i=[]),r.push(n(s));else{let o=t.pop();if(fn.has(o))i.push(o);else{let a=Sc.get(o);if(a)i.push(...a);else if(!nm.has(o))throw sm(o)}}}return i.length&&r.push(e(i)),r}function yS(t){return t.filter(e=>e!=em)}function bS(t,e){let n=Cc,r,i=t.length;for(;i&&(n=n.get(t[--i]),!!n);){let{V:s}=n;s&&(r=s,t.length=i)}return r}const wS=t=>dS(t),gt=t=>{let e="";for(let n=0;n<32;n+=1)e+="00";if(t){const r=wS(t).split(".");for(let i=r.length-1;i>=0;i-=1){const s=Zf(r[i]).slice(2);e=Zf(`0x${e}${s}`).slice(2)}}return`0x${e}`};var hs=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function d(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,d)}u((r=r.apply(t,e||[])).next())})};class AS{constructor(e,n){this.contract=new En(rk,n??mo.main,e),this.context=e}getOwner(e){return hs(this,void 0,void 0,function*(){try{return this.contract.methods.owner(gt(e)).call()}catch{throw new Error}})}getTTL(e){return hs(this,void 0,void 0,function*(){try{return this.contract.methods.ttl(gt(e)).call()}catch{throw new Error}})}recordExists(e){return hs(this,void 0,void 0,function*(){try{return this.contract.methods.recordExists(gt(e)).call()}catch{throw new Error}})}getResolver(e){return hs(this,void 0,void 0,function*(){try{return this.contract.methods.resolver(gt(e)).call().then(n=>{if(typeof n=="string")return new En(ik,n,this.context);throw new Error})}catch{throw new Error}})}get events(){return this.contract.events}}var Rt=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function d(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,d)}u((r=r.apply(t,e||[])).next())})};class _S{constructor(e){this.registry=e}getResolverContractAdapter(e){return Rt(this,void 0,void 0,function*(){return this.registry.getResolver(e)})}checkInterfaceSupport(e,n){var r,i;return Rt(this,void 0,void 0,function*(){if(Lk(Gf[n]))throw new Yu((r=e.options.address)!==null&&r!==void 0?r:"",n);if(!(yield e.methods.supportsInterface(Gf[n]).call()))throw new Yu((i=e.options.address)!==null&&i!==void 0?i:"",n)})}supportsInterface(e,n){var r;return Rt(this,void 0,void 0,function*(){const i=yield this.getResolverContractAdapter(e);let s=n;if(!G(s)){if(s=(r=Fp(n))!==null&&r!==void 0?r:"",n==="")throw new Error("Invalid interface Id");s=s.slice(0,10)}return i.methods.supportsInterface(s).call()})}getAddress(e,n=60){return Rt(this,void 0,void 0,function*(){const r=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(r,zn.addr),r.methods.addr(gt(e),n).call()})}getPubkey(e){return Rt(this,void 0,void 0,function*(){const n=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(n,zn.pubkey),n.methods.pubkey(gt(e)).call()})}getContenthash(e){return Rt(this,void 0,void 0,function*(){const n=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(n,zn.contenthash),n.methods.contenthash(gt(e)).call()})}setAddress(e,n,r){return Rt(this,void 0,void 0,function*(){const i=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(i,zn.setAddr),i.methods.setAddr(gt(e),n).send(r)})}getText(e,n){return Rt(this,void 0,void 0,function*(){const r=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(r,zn.text),r.methods.text(gt(e),n).call()})}getName(e,n=!0){return Rt(this,void 0,void 0,function*(){const r=`${e.toLowerCase().substring(2)}.addr.reverse`,i=yield this.getResolverContractAdapter(r);return n&&(yield this.checkInterfaceSupport(i,zn.name)),i.methods.name(gt(r)).call()})}}var et=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function d(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,d)}u((r=r.apply(t,e||[])).next())})};class am extends Qe{constructor(e,n){super(n??""),this.registryAddress=e??mo.main,this._registry=new AS(this.getContextObject(),e),this._resolver=new _S(this._registry)}getResolver(e){return et(this,void 0,void 0,function*(){return this._registry.getResolver(e)})}recordExists(e){return et(this,void 0,void 0,function*(){return this._registry.recordExists(e)})}getTTL(e){return et(this,void 0,void 0,function*(){return this._registry.getTTL(e)})}getOwner(e){return et(this,void 0,void 0,function*(){return this._registry.getOwner(e)})}getAddress(e,n=60){return et(this,void 0,void 0,function*(){return this._resolver.getAddress(e,n)})}getText(e,n){return et(this,void 0,void 0,function*(){return be(e)?this._resolver.getText(yield this._resolver.getName(e,!1),n):this._resolver.getText(e,n)})}getName(e,n=!0){return et(this,void 0,void 0,function*(){return this._resolver.getName(e,n)})}getPubkey(e){return et(this,void 0,void 0,function*(){return this._resolver.getPubkey(e)})}getContenthash(e){return et(this,void 0,void 0,function*(){return this._resolver.getContenthash(e)})}checkNetwork(){return et(this,void 0,void 0,function*(){const e=Date.now()/1e3;if(!this._lastSyncCheck||e-this._lastSyncCheck>3600){const i=yield LT(this);if(!(typeof i=="boolean"&&!i))throw new qy;this._lastSyncCheck=e}if(this._detectedAddress)return this._detectedAddress;const n=yield Au(this,Object.assign(Object.assign({},this.defaultReturnFormat),{number:he.HEX})),r=mo[nk[n]];if(typeof r>"u")throw new Gy(n);return this._detectedAddress=r,this._detectedAddress})}supportsInterface(e,n){return et(this,void 0,void 0,function*(){return this._resolver.supportsInterface(e,n)})}get events(){return this._registry.events}setAddress(e,n,r){return et(this,void 0,void 0,function*(){return this._resolver.setAddress(e,n,r)})}}function Hi(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function IS(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function xS(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function ta(t,...e){if(!xS(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function ES(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Hi(t.outputLen),Hi(t.blockLen)}function Pc(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function cm(t,e){ta(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const vS={number:Hi,bool:IS,bytes:ta,hash:ES,exists:Pc,output:cm},ps=BigInt(2**32-1),nl=BigInt(32);function TS(t,e=!1){return e?{h:Number(t&ps),l:Number(t>>nl&ps)}:{h:Number(t>>nl&ps)|0,l:Number(t&ps)|0}}function BS(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=TS(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const kS=(t,e,n)=>t<<n|e>>>32-n,SS=(t,e,n)=>e<<n|t>>>32-n,RS=(t,e,n)=>e<<n-32|t>>>64-n,CS=(t,e,n)=>t<<n-32|e>>>64-n;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const PS=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),rl=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,OS=t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255;function il(t){for(let e=0;e<t.length;e++)t[e]=OS(t[e])}function um(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function dm(t){return typeof t=="string"&&(t=um(t)),ta(t),t}let NS=class{clone(){return this._cloneInto()}};function LS(t){const e=r=>t().update(dm(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}const fm=[],lm=[],hm=[],MS=BigInt(0),Gr=BigInt(1),$S=BigInt(2),HS=BigInt(7),DS=BigInt(256),US=BigInt(113);for(let t=0,e=Gr,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],fm.push(2*(5*r+n)),lm.push((t+1)*(t+2)/2%64);let i=MS;for(let s=0;s<7;s++)e=(e<<Gr^(e>>HS)*US)%DS,e&$S&&(i^=Gr<<(Gr<<BigInt(s))-Gr);hm.push(i)}const[FS,jS]=BS(hm,!0),sl=(t,e,n)=>n>32?RS(t,e,n):kS(t,e,n),ol=(t,e,n)=>n>32?CS(t,e,n):SS(t,e,n);function GS(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,d=(o+2)%10,u=n[d],c=n[d+1],f=sl(u,c,1)^n[a],h=ol(u,c,1)^n[a+1];for(let l=0;l<50;l+=10)t[o+l]^=f,t[o+l+1]^=h}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=lm[o],d=sl(i,s,a),u=ol(i,s,a),c=fm[o];i=t[c],s=t[c+1],t[c]=d,t[c+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=FS[r],t[1]^=jS[r]}n.fill(0)}let qS=class pm extends NS{constructor(e,n,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Hi(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=PS(this.state)}keccak(){rl||il(this.state32),GS(this.state32,this.rounds),rl||il(this.state32),this.posOut=0,this.pos=0}update(e){Pc(this);const{blockLen:n,state:r}=this;e=dm(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Pc(this,!1),ta(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Hi(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(cm(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new pm(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const QS=(t,e,n)=>LS(()=>new qS(e,t,n)),al=QS(1,136,256/8);function VS(t){return e=>(vS.bytes(e),t(e))}(()=>{const t=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,e=typeof module<"u"&&typeof module.require=="function"&&module.require.bind(module);return{node:e&&!t?e("crypto"):void 0,web:t}})();const zS=(()=>{const t=VS(al);return t.create=al.create,t})();function WS(t){var e,n;return t instanceof Uint8Array||((e=t==null?void 0:t.constructor)===null||e===void 0?void 0:e.name)==="Uint8Array"||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="Buffer"}BigInt(0),BigInt(1),BigInt(1e3),BigInt(1e3),BigInt(1e3),BigInt(1e3),BigInt(1e6),BigInt(1e6),BigInt(1e6),BigInt(1e6),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e12),BigInt(1e12),BigInt(1e12),BigInt(1e15),BigInt(1e15),BigInt(1e15),BigInt("1000000000000000000"),BigInt("1000000000000000000000"),BigInt("1000000000000000000000"),BigInt("1000000000000000000000000"),BigInt("1000000000000000000000000000"),BigInt("1000000000000000000000000000000");const KS=t=>{if(C.validate(["bytes"],[t]),WS(t))return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="string")return ke(t);throw new Pe(t)},{uint8ArrayToHexString:ZS}=Fe,JS=t=>ZS(KS(t)),mm=t=>{C.validate(["string"],[t]);let e=t.replace(/^(?:\u0000)/,"");return e=e.replace(/(?:\u0000)$/,""),JS(new TextEncoder().encode(e))},XS=um,gm=t=>{if(!be(t,!1))throw new qt(t);const e=t.toLowerCase().replace(/^0x/i,""),n=De(zS(Ue(XS(e))));if(A(n)||n==="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470")return"";let r="0x";const i=n.replace(/^0x/i,"");for(let s=0;s<e.length;s+=1)parseInt(i[s],16)>7?r+=e[s].toUpperCase():r+=e[s];return r};var zt=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function d(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,d)}u((r=r.apply(t,e||[])).next())})};const YS=t=>zt(void 0,void 0,void 0,function*(){return(yield v2(t)).map(gm)}),eR=(t,e)=>zt(void 0,void 0,void 0,function*(){C.validate(["string"],[e]);const n=yield T2(t,e);return gm(n)}),tR=(t,e,n,r)=>zt(void 0,void 0,void 0,function*(){return C.validate(["address","string","uint"],[e,n,r]),B2(t,e,n,r)}),nR=(t,e)=>zt(void 0,void 0,void 0,function*(){return C.validate(["address"],[e]),k2(t,e)}),rR=(t,e,n)=>zt(void 0,void 0,void 0,function*(){return C.validate(["string","string"],[e,n]),S2(t,e,n)}),iR=(t,e,n,r)=>zt(void 0,void 0,void 0,function*(){const i=We(e,W,{transactionSchema:r==null?void 0:r.customTransactionSchema});return R2(t,i,n)}),sR=(t,e,n,r)=>zt(void 0,void 0,void 0,function*(){const i=We(e,W,{transactionSchema:r==null?void 0:r.customTransactionSchema});return C2(t,i,n)}),oR=(t,e,n,r)=>zt(void 0,void 0,void 0,function*(){C.validate(["string","address","string"],[e,n,r]);const i=G(e)?e:mm(e);return P2(t,i,n,r)}),aR=(t,e,n)=>zt(void 0,void 0,void 0,function*(){C.validate(["string","string"],[e,n]);const r=G(e)?e:mm(e);return O2(t,r,n)});var Ct=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function d(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,d)}u((r=r.apply(t,e||[])).next())})};class ym extends Qe{getAccounts(){return Ct(this,void 0,void 0,function*(){return YS(this.requestManager)})}newAccount(e){return Ct(this,void 0,void 0,function*(){return eR(this.requestManager,e)})}unlockAccount(e,n,r){return Ct(this,void 0,void 0,function*(){return tR(this.requestManager,e,n,r)})}lockAccount(e){return Ct(this,void 0,void 0,function*(){return nR(this.requestManager,e)})}importRawKey(e,n){return Ct(this,void 0,void 0,function*(){return rR(this.requestManager,e,n)})}sendTransaction(e,n){return Ct(this,void 0,void 0,function*(){return iR(this.requestManager,e,n,this.config)})}signTransaction(e,n){return Ct(this,void 0,void 0,function*(){return sR(this.requestManager,e,n,this.config)})}sign(e,n,r){return Ct(this,void 0,void 0,function*(){return oR(this.requestManager,e,n,r)})}ecRecover(e,n){return Ct(this,void 0,void 0,function*(){return aR(this.requestManager,e,n)})}}function Di(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function cR(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function uR(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function na(t,...e){if(!uR(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function dR(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Di(t.outputLen),Di(t.blockLen)}function Oc(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function bm(t,e){na(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const fR={number:Di,bool:cR,bytes:na,hash:dR,exists:Oc,output:bm},ms=BigInt(2**32-1),cl=BigInt(32);function lR(t,e=!1){return e?{h:Number(t&ms),l:Number(t>>cl&ms)}:{h:Number(t>>cl&ms)|0,l:Number(t&ms)|0}}function hR(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=lR(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const pR=(t,e,n)=>t<<n|e>>>32-n,mR=(t,e,n)=>e<<n|t>>>32-n,gR=(t,e,n)=>e<<n-32|t>>>64-n,yR=(t,e,n)=>t<<n-32|e>>>64-n,$a=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const bR=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),ul=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,wR=t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255;function dl(t){for(let e=0;e<t.length;e++)t[e]=wR(t[e])}function Ui(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function wm(t){return typeof t=="string"&&(t=Ui(t)),na(t),t}class AR{clone(){return this._cloneInto()}}function _R(t){const e=r=>t().update(wm(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function IR(t=32){if($a&&typeof $a.getRandomValues=="function")return $a.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}const Am=[],_m=[],Im=[],xR=BigInt(0),qr=BigInt(1),ER=BigInt(2),vR=BigInt(7),TR=BigInt(256),BR=BigInt(113);for(let t=0,e=qr,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],Am.push(2*(5*r+n)),_m.push((t+1)*(t+2)/2%64);let i=xR;for(let s=0;s<7;s++)e=(e<<qr^(e>>vR)*BR)%TR,e&ER&&(i^=qr<<(qr<<BigInt(s))-qr);Im.push(i)}const[kR,SR]=hR(Im,!0),fl=(t,e,n)=>n>32?gR(t,e,n):pR(t,e,n),ll=(t,e,n)=>n>32?yR(t,e,n):mR(t,e,n);function RR(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,d=(o+2)%10,u=n[d],c=n[d+1],f=fl(u,c,1)^n[a],h=ll(u,c,1)^n[a+1];for(let l=0;l<50;l+=10)t[o+l]^=f,t[o+l+1]^=h}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=_m[o],d=fl(i,s,a),u=ll(i,s,a),c=Am[o];i=t[c],s=t[c+1],t[c]=d,t[c+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=kR[r],t[1]^=SR[r]}n.fill(0)}class Hu extends AR{constructor(e,n,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Di(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=bR(this.state)}keccak(){ul||dl(this.state32),RR(this.state32,this.rounds),ul||dl(this.state32),this.posOut=0,this.pos=0}update(e){Oc(this);const{blockLen:n,state:r}=this;e=wm(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Oc(this,!1),na(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Di(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(bm(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new Hu(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const CR=(t,e,n)=>_R(()=>new Hu(e,t,n)),hl=CR(1,136,256/8);function xm(t){if(!(t instanceof Uint8Array))throw new TypeError(`bytesToUtf8 expected Uint8Array, got ${typeof t}`);return new TextDecoder().decode(t)}function PR(t){return e=>(fR.bytes(e),t(e))}(()=>{const t=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,e=typeof module<"u"&&typeof module.require=="function"&&module.require.bind(module);return{node:e&&!t?e("crypto"):void 0,web:t}})();const Em=(()=>{const t=PR(hl);return t.create=hl.create,t})();function ra(t){var e,n;return t instanceof Uint8Array||((e=t==null?void 0:t.constructor)===null||e===void 0?void 0:e.name)==="Uint8Array"||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="Buffer"}function vm(...t){const e=t.reduce((i,s)=>i+s.length,0),n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}function OR(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let n=0;n<t.byteLength;n+=1)if(t[n]!==e[n])return!1;return!0}const Du={noether:BigInt(0),wei:BigInt(1),kwei:BigInt(1e3),Kwei:BigInt(1e3),babbage:BigInt(1e3),femtoether:BigInt(1e3),mwei:BigInt(1e6),Mwei:BigInt(1e6),lovelace:BigInt(1e6),picoether:BigInt(1e6),gwei:BigInt(1e9),Gwei:BigInt(1e9),shannon:BigInt(1e9),nanoether:BigInt(1e9),nano:BigInt(1e9),szabo:BigInt(1e12),microether:BigInt(1e12),micro:BigInt(1e12),finney:BigInt(1e15),milliether:BigInt(1e15),milli:BigInt(1e15),ether:BigInt("1000000000000000000"),kether:BigInt("1000000000000000000000"),grand:BigInt("1000000000000000000000"),mether:BigInt("1000000000000000000000000"),gether:BigInt("1000000000000000000000000000"),tether:BigInt("1000000000000000000000000000000")},Nc="Warning: Using type `number` with values that are large or contain many decimals may cause loss of precision, it is recommended to use type `string` or `BigInt` when using conversion methods",Ln=t=>{if(C.validate(["bytes"],[t]),ra(t))return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="string")return ke(t);throw new Pe(t)},{uint8ArrayToHexString:NR}=Fe,Dn=t=>NR(Ln(t)),ia=t=>typeof t=="string"&&t.slice(0,2).toLowerCase()!=="0x"?Ln(`0x${t}`):Ln(t),sa=t=>(C.validate(["hex"],[t]),Hn(t)),LR=sa,$t=(t,e)=>{typeof t!="bigint"&&C.validate(["int"],[t]);let n=Tt(t);return e&&(!n.startsWith("-")&&n.length%2===1?n="0x0".concat(n.slice(2)):n.length%2===0&&n.startsWith("-")&&(n="-0x0".concat(n.slice(3)))),n},MR=$t,$R=t=>sa(t).toString(),Ar=t=>{C.validate(["string"],[t]);let e=t.replace(/^(?:\u0000)/,"");return e=e.replace(/(?:\u0000)$/,""),Dn(new TextEncoder().encode(e))},HR=Ar,DR=Ar,Uu=t=>xm(ia(t)),UR=t=>typeof t=="string"?Uu(t):(C.validate(["bytes"],[t]),xm(t)),Tm=Ui,FR=Uu,Bm=t=>{C.validate(["string"],[t]);let e="";for(let n=0;n<t.length;n+=1){const r=t.charCodeAt(n).toString(16);e+=r.length%2!==0?`0${r}`:r}return`0x${e}`},jR=Bm,km=t=>new TextDecoder("ascii").decode(ia(t)),GR=km,xo=(t,e)=>{if(typeof t=="string"&&be(t))return e?"address":`0x${t.toLowerCase().replace(/^0x/i,"")}`;if(typeof t=="boolean")return e?"bool":t?"0x01":"0x00";if(typeof t=="number")return e?t<0?"int256":"uint256":$t(t);if(typeof t=="bigint")return e?"bigint":$t(t);if(ra(t))return e?"bytes":Dn(t);if(typeof t=="object"&&t)return e?"string":Ar(JSON.stringify(t));if(typeof t=="string"){if(t.startsWith("-0x")||t.startsWith("-0X"))return e?"int256":$t(t);if(G(t))return e?"bytes":t;if(Ve(t)&&!lt(t)&&!He(t))return e?"bytes":`0x${t}`;if(Ve(t)&&!lt(t)&&He(t))return e?"uint":$t(t);if(!Number.isFinite(t))return e?"string":Ar(t)}throw new Ro(t)},vt=t=>{if(typeof t=="number")return t>1e20?(console.warn(Nc),BigInt(t)):t;if(typeof t=="bigint")return t>=Number.MIN_SAFE_INTEGER&&t<=Number.MAX_SAFE_INTEGER?Number(t):t;if(typeof t=="string"&&G(t))return sa(t);try{return vt(BigInt(t))}catch{throw new Gt(t)}},tr=t=>{if(typeof t=="number")return BigInt(t);if(typeof t=="bigint")return t;if(typeof t=="string"&&Ve(t))return t.startsWith("-")?-BigInt(t.substring(1)):BigInt(t);throw new Gt(t)},qR=(t,e)=>{let n;if(typeof e=="string"){if(n=Du[e],!n)throw new Ll(e)}else{if(e<0||!Number.isInteger(e))throw new Ml(e);n=kn(BigInt(10),BigInt(e))}const r=String(vt(t)),i=n.toString().length-1;if(i<=0)return r.toString();const s=r.padStart(i,"0"),o=s.slice(0,-i),a=s.slice(-i).replace(/\.?0+$/,"");return o===""?a?`0.${a}`:"0":a===""?o:`${o}.${a}`.slice(0,o.length+i+1)},QR=(t,e)=>{C.validate(["number"],[t]);let n;if(typeof e=="string"){if(n=Du[e],!n)throw new Ll(e)}else{if(e<0||!Number.isInteger(e))throw new Ml(e);n=kn(BigInt(10),BigInt(e))}let r=t;typeof r=="number"&&(r<1e-15&&console.warn(Nc),r>1e20?(console.warn(Nc),r=BigInt(r)):r=r.toLocaleString("fullwide",{useGrouping:!1,maximumFractionDigits:20}));const[i,s]=String(typeof r=="string"&&!G(r)?r:vt(r)).split(".").concat(""),a=BigInt(`${i}${s}`)*n,d=s.length;return d===0?a.toString():a.toString().slice(0,-d)},VR=t=>{if(!be(t,!1))throw new qt(t);const e=t.toLowerCase().replace(/^0x/i,""),n=De(Em(Ue(Tm(e))));if(A(n)||n==="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470")return"";let r="0x";const i=n.replace(/^0x/i,"");for(let s=0;s<e.length;s+=1)parseInt(i[s],16)>7?r+=e[s].toUpperCase():r+=e[s];return r},zR=t=>{if(typeof t=="boolean")return t;if(typeof t=="number"&&(t===0||t===1)||typeof t=="bigint"&&(t===BigInt(0)||t===BigInt(1)))return!!t;if(typeof t=="string"&&!G(t)&&(t==="1"||t==="0"||t==="false"||t==="true"))return t==="true"?!0:t==="false"?!1:!!Number(t);if(typeof t=="string"&&G(t)&&(t==="0x1"||t==="0x0"))return!!vt(t);throw new Co(t)};class WR extends Er{constructor(){super(...arguments),this.maxListeners=Number.MAX_SAFE_INTEGER}setMaxListeners(e){return this.maxListeners=e,this}getMaxListeners(){return this.maxListeners}}const KR=G,ZR=Ve,JR=oh,XR=be,YR=xr,e3=No,t3=wA,n3=AA,r3=Vs,i3=IA,s3=(t,e)=>{const n=typeof t=="string"&&Be(t),r=typeof e=="string"&&Be(e);if(t===e||(t==="earliest"||t===0)&&(e==="earliest"||e===0))return 0;if(t==="earliest")return-1;if(e==="earliest")return 1;if(n&&r){const o={[Lt.EARLIEST]:1,[Lt.FINALIZED]:2,[Lt.SAFE]:3,[Lt.LATEST]:4,[Lt.PENDING]:5};return o[t]<o[e]?-1:1}if(n&&!r||!n&&r)throw new _b("Cannot compare blocktag with provided non-blocktag input.");const i=BigInt(t),s=BigInt(e);return i<s?-1:i===s?0:1},Jr=t=>typeof t=="object"&&!A(t)&&Object.keys(t).length!==0&&["input","data","from","gas","gasPrice","gasLimit","address","jsonInterface","syncWithContext","dataInputFill"].some(e=>e in t),bn=A,pl=t=>typeof t=="object"&&!A(t)&&!Array.isArray(t)&&!(t instanceof jt),Fu=(t,...e)=>{if(!pl(t))return t;const n=Object.assign({},t);for(const r of e)for(const i in r)pl(r[i])?(n[i]||(n[i]={}),n[i]=Fu(n[i],r[i])):!A(r[i])&&Object.hasOwnProperty.call(r,i)&&(Array.isArray(r[i])||r[i]instanceof jt?n[i]=r[i].slice(0):n[i]=r[i]);return n},Fi=(t,e,n="0")=>typeof t=="string"?G(t)?ze(t,e,n):t.padStart(e,n):(C.validate(["int"],[t]),ze(t,e,n)),Sm=(t,e,n="0")=>{if(typeof t=="string"&&!G(t))return t.padEnd(e,n);const r=typeof t=="string"&&G(t)?t:$t(t),i=r.startsWith("-")?3:2;return C.validate([r.startsWith("-")?"int":"uint"],[t]),r.padEnd(e+i,n)},Rm=Sm,Lc=Fi,Cm=(t,e=64)=>{C.validate(["int"],[t]);const n=vt(t);if(n>=0)return Fi(xo(n),e);const r=kn(BigInt(2),BigInt(e*4));if(-n>=r)throw new $l(`value: ${t}, nibbleWidth: ${e}`);const s=BigInt(n)+r;return Fi($t(s),e)},o3=(t,e=64)=>{C.validate(["int"],[t]);const n=vt(t);if(n<0)return n;const r=Math.ceil(Math.log(Number(n))/Math.log(2));if(r>e*4)throw new $l(`value: "${t}", nibbleWidth: "${e}"`);if(e*4!==r)return n;const i=kn(BigInt(2),BigInt(e)*BigInt(4));return vt(BigInt(n)-i)},{parseBaseType:a3}=Fe,Mc=t=>typeof t=="object"&&!A(t)&&"number"in t&&"bytes"in t,c3=(t,e,n=[])=>{let r=Object.assign({},t),i;for(const s of e){if(r.oneOf&&i){const o=i,a=n.find(([d])=>d===o);a&&a[0]===i&&(r=r.oneOf[a[1]])}if(!r.properties&&!r.items)return;r.properties?r=r.properties[s]:r.items&&r.items.properties?r=r.items.properties[s]:r.items&&pe(r.items)?r=r.items:r.items&&Array.isArray(r.items)&&(r=r.items[parseInt(s,10)]),r&&s&&(i=s)}return r},ji=(t,e,n)=>{try{const{baseType:r,baseTypeSize:i}=a3(e);if(r==="int"||r==="uint")switch(n.number){case he.NUMBER:return Number(tr(t));case he.HEX:return $t(tr(t));case he.STR:return tr(t).toString();case he.BIGINT:return tr(t);default:throw new it(`Invalid format: ${String(n.number)}`)}if(r==="bytes"){let s;switch(i?typeof t=="string"?s=Fi(t,i*2):ra(t)&&(s=vm(new Uint8Array(i-t.length),t)):s=t,n.bytes){case Me.HEX:return Dn(Ln(s));case Me.UINT8ARRAY:return Ln(s);default:throw new it(`Invalid format: ${String(n.bytes)}`)}}if(r==="string")return String(t)}catch{return t}return t},ml=({value:t,schemaProp:e,schema:n,object:r,key:i,dataPath:s,format:o,oneOfPath:a=[]})=>{var d,u;if(Array.isArray(t)){let c=e;if((e==null?void 0:e.oneOf)!==void 0&&e.oneOf.forEach((f,h)=>{var l,b;!Array.isArray(e==null?void 0:e.items)&&(typeof t[0]=="object"&&((l=f==null?void 0:f.items)===null||l===void 0?void 0:l.type)==="object"||typeof t[0]=="string"&&((b=f==null?void 0:f.items)===null||b===void 0?void 0:b.type)!=="object")&&(c=f,a.push([i,h]))}),A(c==null?void 0:c.items))return delete r[i],s.pop(),!0;if(pe(c.items)&&!A(c.items.format)){for(let f=0;f<t.length;f+=1)r[i][f]=ji(t[f],(d=c==null?void 0:c.items)===null||d===void 0?void 0:d.format,o);return s.pop(),!0}if(!Array.isArray(c==null?void 0:c.items)&&((u=c==null?void 0:c.items)===null||u===void 0?void 0:u.type)==="object"){for(const f of t)oa(f,n,s,o,a);return s.pop(),!0}if(Array.isArray(c==null?void 0:c.items)){for(let f=0;f<t.length;f+=1)r[i][f]=ji(t[f],c.items[f].format,o);return s.pop(),!0}}return!1},oa=(t,e,n,r,i=[])=>{var s;if(!pe(t)&&!Array.isArray(t))return ji(t,e==null?void 0:e.format,r);const o=t;if(Array.isArray(o)&&(e==null?void 0:e.type)==="array"&&((s=e==null?void 0:e.items)===null||s===void 0?void 0:s.type)==="object")ml({value:o,schemaProp:e,schema:e,object:o,key:"",dataPath:n,format:r,oneOfPath:i});else for(const[a,d]of Object.entries(o)){n.push(a);let u=c3(e,n,i);if(A(u)){delete o[a],n.pop();continue}if(pe(d)){oa(d,e,n,r,i),n.pop();continue}if(!ml({value:d,schemaProp:u,schema:e,object:o,key:a,dataPath:n,format:r,oneOfPath:i})){if((u==null?void 0:u.format)===void 0&&(u==null?void 0:u.oneOf)!==void 0){for(const[c,f]of u.oneOf.entries())if((f==null?void 0:f.format)!==void 0){u=f;break}}o[a]=ji(d,u.format,r),n.pop()}}return o},Pm=(t,e,n=Te)=>{let r;pe(e)?r=Fu({},e):Array.isArray(e)?r=[...e]:r=e;const i=pe(t)?t:Ir(t);if(!i.properties&&!i.items&&!i.format)throw new it("Invalid json schema for formatting");return oa(r,i,[],n)},Om="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",$c=t=>{let e;return typeof t=="bigint"||typeof t=="number"?e=Ui(t.toString()):Array.isArray(t)?e=new Uint8Array(t):typeof t=="string"&&!G(t)?e=Ui(t):e=Ln(t),Dn(Em(Ue(e)))},aa=t=>{let e;typeof t=="string"?t.startsWith("0x")&&G(t)?e=ia(t):e=Ui(t):e=t;const n=$c(e);return n===Om?void 0:n},Nm=t=>{const e=aa(t);return A(e)?Om:e},u3=t=>{if(Array.isArray(t))throw new Error("Autodetection of array types is not supported.");let e,n;if(typeof t=="object"&&("t"in t||"type"in t)&&("v"in t||"value"in t))e="t"in t?t.t:t.type,n="v"in t?t.v:t.value,e=e.toLowerCase()==="bigint"?"int":e;else{if(typeof t=="bigint")return["int",t];e=xo(t,!0),n=xo(t),!e.startsWith("int")&&!e.startsWith("uint")&&(e="bytes")}return(e.startsWith("int")||e.startsWith("uint"))&&typeof n=="string"&&!/^(-)?0x/i.test(n)&&(n=tr(n)),[e,n]},d3=t=>t.startsWith("int[")?`int256${t.slice(3)}`:t==="int"?"int256":t.startsWith("uint[")?`uint256'${t.slice(4)}`:t==="uint"?"uint256":t,Ha=(t,e)=>{const n=/^(\d+).*$/.exec(t.slice(e));return n?parseInt(n[1],10):0},gl=t=>t.toString(2).length,yl=(t,e)=>{const n=e.toString();if(t==="string"){if(typeof e=="string")return Ar(e);throw new wb(e)}if(t==="bool"||t==="boolean"){if(typeof e=="boolean")return e?"01":"00";throw new Co(e)}if(t==="address"){if(!be(n))throw new qt(n);return n}const r=d3(t);if(t.startsWith("uint")){const i=Ha(r,4);if(i%8||i<8||i>256)throw new id(n);const s=vt(n);if(gl(s)>i)throw new sd(n);if(s<BigInt(0))throw new Ab(n);return i?Lc(s.toString(16),i/8*2):s.toString(16)}if(t.startsWith("int")){const i=Ha(r,3);if(i%8||i<8||i>256)throw new id(t);const s=vt(n);if(gl(s)>i)throw new sd(n);return s<BigInt(0)?Cm(s.toString(),i/8*2):i?Lc(s.toString(16),i/4):s.toString(16)}if(r==="bytes"){if(n.replace(/^0x/i,"").length%2!==0)throw new Pe(n);return n}if(t.startsWith("bytes")){if(n.replace(/^0x/i,"").length%2!==0)throw new Pe(n);const i=Ha(t,5);if(!i||i<1||i>64||i<n.replace(/^0x/i,"").length/2)throw new Pe(n);return Rm(n,i*2)}return""},Lm=t=>{const[e,n]=u3(t);return Array.isArray(n)?n.map(s=>yl(e,s).replace("0x","")).join(""):yl(e,n).replace("0x","")},ju=(...t)=>`0x${t.map(Lm).join("").toLowerCase()}`,f3=(...t)=>aa(ju(...t)),l3=(...t)=>Nm(ju(...t)),h3=t=>aa(`0x${(typeof t=="number"?t.toString():t).padStart(64,"0")}`);function p3(t){return IR(t)}const Gu=t=>p3(t),m3=t=>Dn(Gu(t));var ca=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function d(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,d)}u((r=r.apply(t,e||[])).next())})};function g3(t){return(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function Mm(t,e,n){return ca(this,void 0,void 0,function*(){let r;const i=yield Promise.race([t instanceof Promise?t:t(),new Promise((s,o)=>{r=setTimeout(()=>n?o(n):s(void 0),e)})]);if(r&&clearTimeout(r),i instanceof Error)throw i;return i})}function $m(t,e){let n;return[new Promise((i,s)=>{n=setInterval(function o(){return ca(this,void 0,void 0,function*(){try{const a=yield Mm(t,e);A(a)||(clearInterval(n),i(a))}catch(a){clearInterval(n),s(a)}}),o}(),e)}),n]}function y3(t,e){return ca(this,void 0,void 0,function*(){return $m(t,e)[0]})}function b3(t,e){let n;const r=new Promise((i,s)=>{n=setTimeout(()=>{s(e)},t)});return[n,r]}function w3(t,e){let n;const r=new Promise((i,s)=>{n=setInterval(()=>{ca(this,void 0,void 0,function*(){const o=yield t();o&&(clearInterval(n),s(o))})},e)});return[n,r]}const Hm=()=>{const t=Gu(16);t[6]=t[6]&15|64,t[8]=t[8]&63|128;const e=Dn(t);return[e.substring(2,10),e.substring(10,14),e.substring(14,18),e.substring(18,22),e.substring(22,34)].join("-")},Dm=t=>{const e=t.error.code;return Oe.has(e)||e>=-32099&&e<=-32e3},ua=t=>!Array.isArray(t)&&!!t&&t.jsonrpc==="2.0"&&"result"in t&&A(t.error)&&(typeof t.id=="number"||typeof t.id=="string"),da=t=>!Array.isArray(t)&&t.jsonrpc==="2.0"&&!!t&&A(t.result)&&"error"in t&&(typeof t.id=="number"||typeof t.id=="string"),qu=t=>!Array.isArray(t)&&!!t&&t.jsonrpc==="2.0"&&!A(t.params)&&!A(t.method),Um=t=>!Array.isArray(t)&&!!t&&t.jsonrpc==="2.0"&&"id"in t&&"result"in t,Eo=t=>ua(t)||da(t),Qu=t=>Array.isArray(t)?t.every(Eo):Eo(t),vo=t=>Array.isArray(t)&&t.length>0&&Qu(t);let Es;const Fm=t=>{Es=t},Gi=t=>{var e,n,r,i;return typeof Es<"u"&&(Es+=1),{jsonrpc:(e=t.jsonrpc)!==null&&e!==void 0?e:"2.0",id:(r=(n=t.id)!==null&&n!==void 0?n:Es)!==null&&r!==void 0?r:Hm(),method:t.method,params:(i=t.params)!==null&&i!==void 0?i:void 0}},jm=t=>t.map(e=>Gi(e)),Vu=t=>Array.isArray(t)&&t.length>0,A3=Object.freeze(Object.defineProperty({__proto__:null,isBatchRequest:Vu,isBatchResponse:vo,isResponseRpcError:Dm,isResponseWithError:da,isResponseWithNotification:qu,isResponseWithResult:ua,isSubscriptionResult:Um,isValidResponse:Qu,setRequestIdStart:Fm,toBatchPayload:jm,toPayload:Gi,validateResponse:Eo},Symbol.toStringTag,{value:"Module"}));var Da=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function d(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,d)}u((r=r.apply(t,e||[])).next())})},Gm;class qm{constructor({timeout:e,eagerStart:n,timeoutMessage:r}={timeout:0,eagerStart:!1,timeoutMessage:"DeferredPromise timed out"}){this[Gm]="Promise",this._state="pending",this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s}),this._timeoutMessage=r,this._timeoutInterval=e,n&&this.startTimer()}get state(){return this._state}then(e,n){return Da(this,void 0,void 0,function*(){return this._promise.then(e,n)})}catch(e){return Da(this,void 0,void 0,function*(){return this._promise.catch(e)})}finally(e){return Da(this,void 0,void 0,function*(){return this._promise.finally(e)})}resolve(e){this._resolve(e),this._state="fulfilled",this._clearTimeout()}reject(e){this._reject(e),this._state="rejected",this._clearTimeout()}startTimer(){this._timeoutInterval&&this._timeoutInterval>0&&(this._timeoutId=setTimeout(this._checkTimeout.bind(this),this._timeoutInterval))}_checkTimeout(){this._state==="pending"&&this._timeoutId&&this.reject(new So(this._timeoutMessage))}_clearTimeout(){this._timeoutId&&clearTimeout(this._timeoutId)}}Gm=Symbol.toStringTag;class Qm{constructor(e,n){this.eventEmitter=e,this.autoReconnect=n,this.chunkTimeout=1e3*15}clearQueues(){typeof this._clearQueues=="function"&&this._clearQueues()}onError(e){this._clearQueues=e}parseResponse(e){const n=[];return e.replace(/\}[\n\r]?\{/g,"}|--|{").replace(/\}\][\n\r]?\[\{/g,"}]|--|[{").replace(/\}[\n\r]?\[\{/g,"}|--|[{").replace(/\}\][\n\r]?\{/g,"}]|--|{").split("|--|").forEach(i=>{let s=i;this.lastChunk&&(s=this.lastChunk+s);let o;try{o=JSON.parse(s)}catch{this.lastChunk=s,this.lastChunkTimeout&&clearTimeout(this.lastChunkTimeout),this.lastChunkTimeout=setTimeout(()=>{this.autoReconnect||(this.clearQueues(),this.eventEmitter.emit("error",new qi({id:1,jsonrpc:"2.0",error:{code:2,message:"Chunk timeout"}})))},this.chunkTimeout);return}clearTimeout(this.lastChunkTimeout),this.lastChunk=void 0,o&&n.push(o)}),n}}var bl=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function d(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,d)}u((r=r.apply(t,e||[])).next())})};let Vm=class extends Mn{constructor(){super(...arguments),this._eventEmitter=new Er,this._chainId="",this._accounts=[]}_getChainId(){return bl(this,void 0,void 0,function*(){var e;const n=yield this.request(Gi({method:"eth_chainId",params:[]}));return(e=n==null?void 0:n.result)!==null&&e!==void 0?e:""})}_getAccounts(){return bl(this,void 0,void 0,function*(){var e;const n=yield this.request(Gi({method:"eth_accounts",params:[]}));return(e=n==null?void 0:n.result)!==null&&e!==void 0?e:[]})}_onConnect(){Promise.all([this._getChainId().then(e=>{e!==this._chainId&&(this._chainId=e,this._eventEmitter.emit("chainChanged",this._chainId))}).catch(e=>{console.error(e)}),this._getAccounts().then(e=>{this._accounts.length===e.length&&e.every(n=>e.includes(n))||(this._accounts=e,this._onAccountsChanged())}).catch(e=>{console.error(e)})]).then(()=>this._eventEmitter.emit("connect",{chainId:this._chainId})).catch(e=>{console.error(e)})}_onDisconnect(e,n){this._eventEmitter.emit("disconnect",new Uc(e,n))}_onAccountsChanged(){this._eventEmitter.emit("accountsChanged",this._accounts)}};var Ua=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function d(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,d)}u((r=r.apply(t,e||[])).next())})};const _3={autoReconnect:!0,delay:5e3,maxAttempts:5},I3=1e3;class x3 extends Vm{get SocketConnection(){return this._socketConnection}constructor(e,n,r){if(super(),this._connectionStatus="connecting",this._onMessageHandler=this._onMessage.bind(this),this._onOpenHandler=this._onConnect.bind(this),this._onCloseHandler=this._onCloseEvent.bind(this),this._onErrorHandler=this._onError.bind(this),!this._validateProviderPath(e))throw new oi(e);this._socketPath=e,this._socketOptions=n,this._reconnectOptions=Object.assign(Object.assign({},_3),r??{}),this._pendingRequestsQueue=new Map,this._sentRequestsQueue=new Map,this._init(),this.connect(),this.chunkResponseParser=new Qm(this._eventEmitter,this._reconnectOptions.autoReconnect),this.chunkResponseParser.onError(()=>{this._clearQueues()}),this.isReconnecting=!1}_init(){this._reconnectAttempts=0}connect(){try{this._openSocketConnection(),this._connectionStatus="connecting",this._addSocketListeners()}catch(e){if(this.isReconnecting)setImmediate(()=>{this._reconnect()});else throw this._connectionStatus="disconnected",e&&e.message?new _r(`Error while connecting to ${this._socketPath}. Reason: ${e.message}`):new oi(this._socketPath)}}_validateProviderPath(e){return!!e}getPendingRequestQueueSize(){return this._pendingRequestsQueue.size}getSentRequestsQueueSize(){return this._sentRequestsQueue.size}supportsSubscriptions(){return!0}on(e,n){this._eventEmitter.on(e,n)}once(e,n){this._eventEmitter.once(e,n)}removeListener(e,n){this._eventEmitter.removeListener(e,n)}_onDisconnect(e,n){this._connectionStatus="disconnected",super._onDisconnect(e,n)}disconnect(e,n){const r=e??I3;this._removeSocketListeners(),this.getStatus()!=="disconnected"&&this._closeSocketConnection(r,n),this._onDisconnect(r,n)}safeDisconnect(e,n){return Ua(this,arguments,void 0,function*(r,i,s=!1,o=1e3){let a=0;yield Ua(this,void 0,void 0,function*(){return new Promise(u=>{const c=setInterval(()=>{s&&a>=5&&this.clearQueues(),this.getPendingRequestQueueSize()===0&&this.getSentRequestsQueueSize()===0&&(clearInterval(c),u(!0)),a+=1},o)})}),this.disconnect(r,i)})}removeAllListeners(e){this._eventEmitter.removeAllListeners(e)}_onError(e){this.isReconnecting?this._reconnect():this._eventEmitter.emit("error",e)}reset(){this._sentRequestsQueue.clear(),this._pendingRequestsQueue.clear(),this._init(),this._removeSocketListeners(),this._addSocketListeners()}_reconnect(){this.isReconnecting||(this.isReconnecting=!0,this._sentRequestsQueue.size>0&&this._sentRequestsQueue.forEach((e,n)=>{e.deferredPromise.reject(new vl),this._sentRequestsQueue.delete(n)}),this._reconnectAttempts<this._reconnectOptions.maxAttempts?(this._reconnectAttempts+=1,setTimeout(()=>{this._removeSocketListeners(),this.connect(),this.isReconnecting=!1},this._reconnectOptions.delay)):(this.isReconnecting=!1,this._clearQueues(),this._removeSocketListeners(),this._eventEmitter.emit("error",new El(this._reconnectOptions.maxAttempts))))}request(e){return Ua(this,void 0,void 0,function*(){if(bn(this._socketConnection))throw new Error("Connection is undefined");this.getStatus()==="disconnected"&&this.connect();const n=Vu(e)?e[0].id:e.id;if(!n)throw new Bl("Request Id not defined");if(this._sentRequestsQueue.has(n))throw new Tl(n);const r=new qm;r.catch(s=>{this._eventEmitter.emit("error",s)});const i={payload:e,deferredPromise:r};if(this.getStatus()==="connecting")return this._pendingRequestsQueue.set(n,i),i.deferredPromise;this._sentRequestsQueue.set(n,i);try{this._sendToSocket(i.payload)}catch(s){this._sentRequestsQueue.delete(n),this._eventEmitter.emit("error",s)}return r})}_onConnect(){this._connectionStatus="connected",this._reconnectAttempts=0,super._onConnect(),this._sendPendingRequests()}_sendPendingRequests(){for(const[e,n]of this._pendingRequestsQueue.entries())try{this._sendToSocket(n.payload),this._pendingRequestsQueue.delete(e),this._sentRequestsQueue.set(e,n)}catch(r){this._pendingRequestsQueue.delete(e),this._eventEmitter.emit("error",r)}}_onMessage(e){const n=this._parseResponses(e);if(!(bn(n)||n.length===0))for(const r of n){if(qu(r)&&r.method.endsWith("_subscription")){this._eventEmitter.emit("message",r);return}const i=vo(r)?r[0].id:r.id,s=this._sentRequestsQueue.get(i);if(!s)return;(vo(r)||ua(r)||da(r))&&(this._eventEmitter.emit("message",r),s.deferredPromise.resolve(r)),this._sentRequestsQueue.delete(i)}}clearQueues(e){this._clearQueues(e)}_clearQueues(e){this._pendingRequestsQueue.size>0&&this._pendingRequestsQueue.forEach((n,r)=>{n.deferredPromise.reject(new si(e)),this._pendingRequestsQueue.delete(r)}),this._sentRequestsQueue.size>0&&this._sentRequestsQueue.forEach((n,r)=>{n.deferredPromise.reject(new si(e)),this._sentRequestsQueue.delete(r)}),this._removeSocketListeners()}}const zm=Object.freeze(Object.defineProperty({__proto__:null,ChunkResponseParser:Qm,Eip1193Provider:Vm,EventEmitter:WR,SocketProvider:x3,Web3DeferredPromise:qm,asciiToHex:Bm,bytesToHex:Dn,bytesToUint8Array:Ln,checkAddressCheckSum:JR,compareBlockNumbers:s3,convert:oa,convertScalarValue:ji,encodePacked:ju,ethUnitMap:Du,format:Pm,fromAscii:jR,fromDecimal:MR,fromTwosComplement:o3,fromUtf8:HR,fromWei:qR,getStorageSlotNumForLongString:h3,hexToAscii:km,hexToBytes:ia,hexToNumber:sa,hexToNumberString:$R,hexToString:FR,hexToUtf8:Uu,isAddress:XR,isBatchRequest:Vu,isBatchResponse:vo,isBloom:YR,isContractAddressInBloom:n3,isContractInitOptions:Jr,isDataFormat:Mc,isHex:ZR,isHexStrict:KR,isInBloom:e3,isNullish:bn,isPromise:g3,isResponseRpcError:Dm,isResponseWithError:da,isResponseWithNotification:qu,isResponseWithResult:ua,isSubscriptionResult:Um,isTopic:r3,isTopicInBloom:i3,isUint8Array:ra,isUserEthereumAddressInBloom:t3,isValidResponse:Qu,jsonRpc:A3,keccak256:$c,keccak256Wrapper:$c,leftPad:Lc,mergeDeep:Fu,numberToHex:$t,padLeft:Fi,padRight:Sm,pollTillDefined:y3,pollTillDefinedAndReturnIntervalId:$m,processSolidityEncodePackedArgs:Lm,randomBytes:Gu,randomHex:m3,rejectIfConditionAtInterval:w3,rejectIfTimeout:b3,rightPad:Rm,setRequestIdStart:Fm,sha3:aa,sha3Raw:Nm,soliditySha3:f3,soliditySha3Raw:l3,stringToHex:DR,toAscii:GR,toBatchPayload:jm,toBigInt:tr,toBool:zR,toChecksumAddress:VR,toDecimal:LR,toHex:xo,toNumber:vt,toPayload:Gi,toTwosComplement:Cm,toUtf8:UR,toWei:QR,uint8ArrayConcat:vm,uint8ArrayEquals:OR,utf8ToBytes:Tm,utf8ToHex:Ar,uuidV4:Hm,validateResponse:Eo,waitWithTimeout:Mm},Symbol.toStringTag,{value:"Module"}));var wt;(function(t){t.HTTPS="https",t.WebSocket="wss"})(wt||(wt={}));var N;(function(t){t.ETH_MAINNET="eth_mainnet",t.ETH_SEPOLIA="eth_sepolia",t.ETH_HOLESKY="eth_holesky",t.POLYGON_MAINNET="polygon_mainnet",t.POLYGON_AMOY="polygon_amoy",t.AVALANCHE_C_MAINNET="avalanche_c_mainnet",t.AVALANCHE_P_MAINNET="avalanche_p_mainnet",t.AVALANCHE_X_MAINNET="avalanche_x_mainnet",t.ARBITRUM_MAINNET="arbitrum_mainnet",t.ARBITRUM_SEPOLIA="arbitrum_sepolia",t.BASE_MAINNET="base_mainnet",t.BASE_SEPOLIA="base_sepolia",t.OPTIMISM_MAINNET="optimism_mainnet",t.OPTIMISM_SEPOLIA="optimism_sepolia",t.FANTOM_MAINNET="fantom_mainnet",t.FANTOM_TESTNET="fantom_testnet",t.DYMENSION_MAINNET="dymension_mainnet",t.DYMENSION_TESTNET="dymension_testnet",t.BNB_MAINNET="bnb_mainnet",t.BNB_TESTNET="bnb_testnet",t.BSC_MAINNET="bsc_mainnet",t.BSC_TESTNET="bsc_testnet",t.ARBITRUM_ONE="arbitrum_one",t.ARBITRUM_NOVA="arbitrum_nova",t.AVALANCHE_FUJI_C="avalanche_fuji_c",t.AVALANCHE_FUJI_P="avalanche_fuji_p",t.AVALANCHE_FUJI_X="avalanche_fuji_x",t.BLAST_MAINNET="blast_mainnet",t.OPBNB_MAINNET="opbnb_mainnet",t.OPBNB_TESTNET="opbnb_testnet",t.GNOSIS_MAINNET="gnosis_mainnet",t.GNOSIS_CHIADO="gnosis_chiado",t.PULSECHAIN_MAINNET="pulsechain_mainnet",t.PULSECHAIN_TESTNET="pulsechain_testnet",t.KAVA_MAINNET="kava_mainnet",t.CRONOS_MAINNET="cronos_mainnet",t.MANTLE_MAINNET="mantle_mainnet",t.CHILIZ_MAINNET="chiliz_mainnet",t.CHILIZ_SPICY="chiliz_spicy",t.MOONBEAM_MAINNET="moonbeam_mainnet",t.TAIKO_MAINNET="taiko_mainnet",t.TAIKO_HEKLA="taiko_hekla",t.LINEA_MAINNET="linea_mainnet",t.LINEA_SEPOLIA="linea_sepolia",t.BAHAMUT_MAINNET="bahamut_mainnet",t.SCROLL_MAINNET="scroll_mainnet",t.SCROLL_SEPOLIA="scroll_sepolia",t.TRON_MAINNET="tron_mainnet",t.SYSCOIN_MAINNET="syscoin_mainnet",t.SYSCOIN_TANENBAUM="syscoin_tanenbaum",t.MOONRIVER_MAINNET="moonriver_mainnet",t.HAQQ_MAINNET="haqq_mainnet",t.EVMOS_MAINNET="evmos_mainnet",t.EVMOS_TESTNET="evmos_testnet",t.BERACHAIN_TESTNET="berachain_testnet"})(N||(N={}));const Fa=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */new Uint8Array(new Uint32Array([287454020]).buffer)[0];function E3(t=32){if(Fa&&typeof Fa.getRandomValues=="function")return Fa.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}function v3(t){var e,n;return t instanceof Uint8Array||((e=t==null?void 0:t.constructor)===null||e===void 0?void 0:e.name)==="Uint8Array"||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="Buffer"}BigInt(0),BigInt(1),BigInt(1e3),BigInt(1e3),BigInt(1e3),BigInt(1e3),BigInt(1e6),BigInt(1e6),BigInt(1e6),BigInt(1e6),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e12),BigInt(1e12),BigInt(1e12),BigInt(1e15),BigInt(1e15),BigInt(1e15),BigInt("1000000000000000000"),BigInt("1000000000000000000000"),BigInt("1000000000000000000000"),BigInt("1000000000000000000000000"),BigInt("1000000000000000000000000000"),BigInt("1000000000000000000000000000000");const T3=t=>{if(C.validate(["bytes"],[t]),v3(t))return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="string")return ke(t);throw new Pe(t)},{uint8ArrayToHexString:B3}=Fe,k3=t=>B3(T3(t));function S3(t){return E3(t)}const R3=t=>S3(t),C3=()=>{const t=R3(16);t[6]=t[6]&15|64,t[8]=t[8]&63|128;const e=k3(t);return[e.substring(2,10),e.substring(10,14),e.substring(14,18),e.substring(18,22),e.substring(22,34)].join("-")};let P3;const wl=t=>{var e,n,r,i;return{jsonrpc:(e=t.jsonrpc)!==null&&e!==void 0?e:"2.0",id:(r=(n=t.id)!==null&&n!==void 0?n:P3)!==null&&r!==void 0?r:C3(),method:t.method,params:(i=t.params)!==null&&i!==void 0?i:void 0}};var Al=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function d(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,d)}u((r=r.apply(t,e||[])).next())})};class O3 extends Mn{constructor(){super(...arguments),this._eventEmitter=new Er,this._chainId="",this._accounts=[]}_getChainId(){return Al(this,void 0,void 0,function*(){var e;const n=yield this.request(wl({method:"eth_chainId",params:[]}));return(e=n==null?void 0:n.result)!==null&&e!==void 0?e:""})}_getAccounts(){return Al(this,void 0,void 0,function*(){var e;const n=yield this.request(wl({method:"eth_accounts",params:[]}));return(e=n==null?void 0:n.result)!==null&&e!==void 0?e:[]})}_onConnect(){Promise.all([this._getChainId().then(e=>{e!==this._chainId&&(this._chainId=e,this._eventEmitter.emit("chainChanged",this._chainId))}).catch(e=>{console.error(e)}),this._getAccounts().then(e=>{this._accounts.length===e.length&&e.every(n=>e.includes(n))||(this._accounts=e,this._onAccountsChanged())}).catch(e=>{console.error(e)})]).then(()=>this._eventEmitter.emit("connect",{chainId:this._chainId})).catch(e=>{console.error(e)})}_onDisconnect(e,n){this._eventEmitter.emit("disconnect",new Uc(e,n))}_onAccountsChanged(){this._eventEmitter.emit("accountsChanged",this._accounts)}}const N3=1300;class L3 extends V{constructor(e){super("You've reach the rate limit of free RPC calls from our Partner Quick Nodes. There are two options you can either create a paid Quick Nodes account and get 20% off for 2 months using WEB3JS referral code, or use Free public RPC endpoint.",e),this.code=N3}}const M3=1301;class _l extends V{constructor(e){super(`Invalid provider config options given for ${e}`),this.code=M3}}var $3=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function d(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,d)}u((r=r.apply(t,e||[])).next())})};class Wm extends O3{constructor(e,n,r,i,s){if(super(),s!==void 0&&n===wt.HTTPS&&!("providerOptions"in s))throw new _l("HTTP Provider");if(s!==void 0&&n===wt.WebSocket&&!("socketOptions"in s||"reconnectOptions"in s))throw new _l("Websocket Provider");this.transport=n,n===wt.HTTPS?this.provider=new Mo(this.getRPCURL(e,n,r,i),s):n===wt.WebSocket&&(this.provider=new ph(this.getRPCURL(e,n,r,i),s==null?void 0:s.socketOptions,s==null?void 0:s.reconnectOptions))}request(e,n){return $3(this,void 0,void 0,function*(){return this.transport===wt.HTTPS?yield this.provider.request(e,n):this.provider.request(e)})}getStatus(){return this.provider.getStatus()}supportsSubscriptions(){return this.provider.supportsSubscriptions()}once(e,n){var r;!((r=this.provider)===null||r===void 0)&&r.once&&this.provider.once(e,n)}removeAllListeners(e){var n;!((n=this.provider)===null||n===void 0)&&n.removeAllListeners&&this.provider.removeAllListeners(e)}connect(){var e;!((e=this.provider)===null||e===void 0)&&e.connect&&this.provider.connect()}disconnect(e,n){var r;!((r=this.provider)===null||r===void 0)&&r.disconnect&&this.provider.disconnect(e,n)}reset(){var e;!((e=this.provider)===null||e===void 0)&&e.reset&&this.provider.reset()}on(e,n){this.provider&&this.provider.on(e,n)}removeListener(e,n){this.provider&&this.provider.removeListener(e,n)}}var H3=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function d(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,d)}u((r=r.apply(t,e||[])).next())})};const Ee=t=>t!==void 0&&t.trim().length>0;class D3 extends Wm{constructor(e=N.ETH_MAINNET,n=wt.HTTPS,r="",i="",s){super(e,n,r,i,s)}request(e,n){const r=Object.create(null,{request:{get:()=>super.request}});return H3(this,void 0,void 0,function*(){try{return yield r.request.call(this,e,n)}catch(i){throw i instanceof yt&&i.statusCode===429?new L3(i):i}})}getRPCURL(e,n,r,i){let s="",o="";switch(e){case N.ETH_MAINNET:s=Ee(i)?i:"powerful-holy-bush.quiknode.pro",o=Ee(r)?r:"3240624a343867035925ff7561eb60dfdba2a668";break;case N.ETH_SEPOLIA:s=Ee(i)?i:"dimensional-fabled-glitter.ethereum-sepolia.quiknode.pro",o=Ee(r)?r:"382a3b5a4b938f2d6e8686c19af4b22921fde2cd";break;case N.ETH_HOLESKY:s=Ee(i)?i:"yolo-morning-card.ethereum-holesky.quiknode.pro",o=Ee(r)?r:"481ebe70638c4dcf176af617a16d02ab866b9af9";break;case N.ARBITRUM_MAINNET:s=Ee(i)?i:"autumn-divine-dinghy.arbitrum-mainnet.quiknode.pro",o=Ee(r)?r:"a5d7bfbf60b5ae9ce3628e53d69ef50d529e9a8c";break;case N.ARBITRUM_SEPOLIA:s=Ee(i)?i:"few-patient-pond.arbitrum-sepolia.quiknode.pro",o=Ee(r)?r:"3be985450970628c860b959c65cd2642dcafe53c";break;case N.BNB_MAINNET:s=Ee(i)?i:"purple-empty-reel.bsc.quiknode.pro",o=Ee(r)?r:"ebf6c532961e21f092ff2facce1ec4c89c540158";break;case N.BNB_TESTNET:s=Ee(i)?i:"floral-rough-scion.bsc-testnet.quiknode.pro",o=Ee(r)?r:"5b297e5acff5f81f4c37ebf6f235f7299b6f9d28";break;case N.POLYGON_MAINNET:s=Ee(i)?i:"small-chaotic-moon.matic.quiknode.pro",o=Ee(r)?r:"847569f8a017e84d985e10d0f44365d965a951f1";break;case N.POLYGON_AMOY:s=Ee(i)?i:"prettiest-side-shape.matic-amoy.quiknode.pro",o=Ee(r)?r:"79a9476eea661d4f82de614db1d8a895b14b881c";break;default:throw new Error("Network info not avalible.")}return`${n}://${s}/${o}`}}const U3=t=>t!==void 0&&t.trim().length>0,F3=[N.DYMENSION_MAINNET,N.DYMENSION_TESTNET,N.KAVA_MAINNET,N.CRONOS_MAINNET,N.POLYGON_MAINNET];class To extends Wm{constructor(e=N.ETH_MAINNET,n=wt.HTTPS,r="",i){super(e,n,"",r,i)}getRPCURL(e,n,r,i){if(!To.networkHostMap[e])throw new Error("Network info not avalible.");const s=`${To.networkHostMap[e]}.publicnode.com`,o=U3(i)?i:s;return F3.includes(e)&&n===wt.WebSocket?`${n}://${o}/websocket`:`${n}://${o}`}}To.networkHostMap={[N.POLYGON_AMOY]:"polygon-amoy-bor-rpc",[N.DYMENSION_MAINNET]:"dymension-evm-rpc",[N.DYMENSION_TESTNET]:"dymension-testnet-evm-rpc",[N.BLAST_MAINNET]:"blast-rpc",[N.GNOSIS_MAINNET]:"gnosis-rpc",[N.PULSECHAIN_MAINNET]:"pulsechain-rpc",[N.PULSECHAIN_TESTNET]:"pulsechain-testnet-rpc",[N.KAVA_MAINNET]:"kava-evm-rpc",[N.CRONOS_MAINNET]:"cronos-evm-rpc",[N.MANTLE_MAINNET]:"mantle-rpc",[N.TAIKO_MAINNET]:"taiko-rpc",[N.TAIKO_HEKLA]:"taiko-hekla-rpc",[N.LINEA_MAINNET]:"linea-rpc",[N.LINEA_SEPOLIA]:"linea-sepolia-rpc",[N.SCROLL_MAINNET]:"scroll-rpc",[N.SCROLL_SEPOLIA]:"scroll-sepolia-rpc",[N.SYSCOIN_MAINNET]:"syscoin-evm-rpc",[N.SYSCOIN_TANENBAUM]:"syscoin-tanenbaum-evm-rpc",[N.HAQQ_MAINNET]:"haqq-evm-rpc",[N.EVMOS_MAINNET]:"evmos-evm-rpc",[N.EVMOS_TESTNET]:"evmos-testnet-evm-rpc",[N.BERACHAIN_TESTNET]:"berachain-testnet-evm-rpc",[N.ETH_MAINNET]:"ethereum-rpc",[N.ETH_SEPOLIA]:"ethereum-sepolia-rpc",[N.ETH_HOLESKY]:"ethereum-holesky-rpc",[N.BSC_MAINNET]:"bsc-rpc",[N.BSC_TESTNET]:"bsc-testnet-rpc",[N.POLYGON_MAINNET]:"polygon-bor-rpc",[N.BASE_MAINNET]:"base-rpc",[N.BASE_SEPOLIA]:"base-sepolia-rpc",[N.ARBITRUM_ONE]:"arbitrum-one-rpc",[N.ARBITRUM_NOVA]:"arbitrum-nova-rpc",[N.ARBITRUM_SEPOLIA]:"arbitrum-sepolia-rpc",[N.AVALANCHE_C_MAINNET]:"avalanche-c-chain-rpc",[N.AVALANCHE_P_MAINNET]:"avalanche-p-chain-rpc",[N.AVALANCHE_X_MAINNET]:"avalanche-x-chain-rpc",[N.AVALANCHE_FUJI_C]:"avalanche-fuji-c-chain-rpc",[N.AVALANCHE_FUJI_P]:"avalanche-fuji-p-chain-rpc",[N.AVALANCHE_FUJI_X]:"avalanche-fuji-x-chain-rpc",[N.OPTIMISM_MAINNET]:"optimism-rpc",[N.OPTIMISM_SEPOLIA]:"optimism-sepolia-rpc",[N.FANTOM_MAINNET]:"fantom-rpc",[N.FANTOM_TESTNET]:"fantom-testnet-rpc",[N.OPBNB_MAINNET]:"opbnb-rpc",[N.OPBNB_TESTNET]:"opbnb-testnet-rpc",[N.GNOSIS_CHIADO]:"gnosis-chiado-rpc",[N.CHILIZ_MAINNET]:"chiliz-rpc",[N.CHILIZ_SPICY]:"chiliz-spicy-rpc",[N.MOONBEAM_MAINNET]:"moonbeam-rpc",[N.BAHAMUT_MAINNET]:"bahamut-rpc",[N.TRON_MAINNET]:"tron-evm-rpc",[N.MOONRIVER_MAINNET]:"moonriver-rpc"};const j3=new D3,G3={encodeEventSignature:vu,encodeFunctionCall:BT,encodeFunctionSignature:Ri,encodeParameter:Ac,encodeParameters:Ko,decodeParameter:fp,decodeParameters:xn,decodeLog:lp};var Qr=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function d(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,d)}u((r=r.apply(t,e||[])).next())})};const q3=t=>{const e=(o,a)=>Qr(void 0,void 0,void 0,function*(){const d=yield pB(o,t),u=Pm({format:"bytes"},a,W);return ox(d,u)}),n=o=>{const a=fu(o);return Object.assign(Object.assign({},a),{signTransaction:d=>Qr(void 0,void 0,void 0,function*(){return e(d,a.privateKey)})})},r=(o,a,d)=>Qr(void 0,void 0,void 0,function*(){var u;const c=yield dx(o,a,(u=d==null?void 0:d.nonStrict)!==null&&u!==void 0?u:!0);return Object.assign(Object.assign({},c),{signTransaction:f=>Qr(void 0,void 0,void 0,function*(){return e(f,c.privateKey)})})}),i=()=>{const o=ux();return Object.assign(Object.assign({},o),{signTransaction:a=>Qr(void 0,void 0,void 0,function*(){return e(a,o.privateKey)})})},s=new Ks({create:i,privateKeyToAccount:n,decrypt:r});return{signTransaction:e,create:i,privateKeyToAccount:n,decrypt:r,recoverTransaction:ax,hashMessage:du,sign:e0,recover:oc,encrypt:t0,wallet:s,privateKeyToAddress:Fo,parseAndValidatePrivateKey:Br,privateKeyToPublicKey:cx}},Q3={version:"4.16.0"};var V3=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function d(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,d)}u((r=r.apply(t,e||[])).next())})},Bo;(function(t){t.eip6963announceProvider="eip6963:announceProvider",t.eip6963requestProvider="eip6963:requestProvider"})(Bo||(Bo={}));const ja=new Map,Km="web3:providersMapUpdated",z3=()=>V3(void 0,void 0,void 0,function*(){return new Promise((t,e)=>{typeof window>"u"&&e(new Error("window object not available, EIP-6963 is intended to be used within a browser")),window.addEventListener(Bo.eip6963announceProvider,n=>{ja.set(n.detail.info.uuid,n.detail);const r=new CustomEvent(Km,{detail:ja});window.dispatchEvent(r),t(ja)}),window.dispatchEvent(new Event(Bo.eip6963requestProvider))})}),W3=t=>{if(typeof window>"u")throw new Error("window object not available, EIP-6963 is intended to be used within a browser");window.addEventListener(Km,t)};class Ji extends Qe{constructor(e=j3){var n;(bn(e)||typeof e=="string"&&e.trim()===""||typeof e!="string"&&!zs(e)&&!e.provider)&&console.warn("NOTE: web3.js is running without provider. You need to pass a provider in order to interact with the network!");let r={};typeof e=="string"||zs(e)?r.provider=e:e?r=e:r={},r.registeredSubscriptions=Object.assign(Object.assign({},Ic),(n=r.registeredSubscriptions)!==null&&n!==void 0?n:{}),super(r);const i=q3(this);this._wallet=i.wallet,this._accountProvider=i,this.utils=zm;const s=this;class o extends En{constructor(u,c,f,h,l){if(Jr(c)&&Jr(f))throw new ed("Should not provide options at both 2nd and 3rd parameters");let b,m={},g,p;if(!bn(c)&&typeof c!="object"&&typeof c!="string")throw new ed;if(typeof c=="string"&&(b=c),Jr(c)?m=c:Jr(f)?m=f:m={},c instanceof Qe?g=c:f instanceof Qe?g=f:h instanceof Qe?g=h:g=s.getContextObject(),l?p=l:Mc(f)?p=f:Mc(h)&&(p=h),super(u,b,m,g,p),super.subscribeToContextEvents(s),!bn(a)){const w=a.getTransactionMiddleware();bn(w)||super.setTransactionMiddleware(w)}}}const a=s.use(Zo);this.eth=Object.assign(a,{ens:s.use(am,mo.main),Iban:_e,net:s.use(B0),personal:s.use(ym),Contract:o,abi:G3,accounts:i})}}Ji.version=Q3.version;Ji.utils=zm;Ji.requestEIP6963Providers=z3;Ji.onNewProviderDiscovered=W3;Ji.modules={Web3Eth:Zo,Iban:_e,Net:B0,ENS:am,Personal:ym};export{Ji as W};
